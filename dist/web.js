// v0.3.17
function e(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];var i;return t[n]=Object.assign({},o),r(o.value)&&(i=o.value,"[object Function]"!==Object.prototype.toString.call(i))&&!Array.isArray(o.value)&&(t[n].value=Object.assign({},o.value)),Array.isArray(o.value)&&(t[n].value=o.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function n(e,t,n,r){if(null==n||!1===n)return e.removeAttribute(t);let o=r?JSON.stringify(n):n;e.__updating[t]=!0,"true"===o&&(o=""),e.setAttribute(t,o),Promise.resolve().then((()=>delete e.__updating[t]))}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let o;function i(r,i){const a=Object.keys(i);return class extends r{static get observedAttributes(){return a.map((e=>i[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(r,o){const i=e(o);return Object.keys(o).forEach((e=>{const o=i[e],a=r.getAttribute(o.attribute),s=r[e];null!=a&&(o.value=o.parse?t(a):a),null!=s&&(o.value=Array.isArray(s)?s.slice(0):s),o.reflect&&n(r,o.attribute,o.value,!!o.parse),Object.defineProperty(r,e,{get:()=>o.value,set(t){const r=o.value;o.value=t,o.reflect&&n(this,o.attribute,o.value,!!o.parse);for(let n=0,o=this.__propertyChangedCallbacks.length;n<o;n++)this.__propertyChangedCallbacks[n](e,t,r)},enumerable:!0,configurable:!0})})),i}(this,i);const r=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),a=this.Component,s=o;try{o=this,this.__initialized=!0,"function"==typeof(l=a)&&0===l.toString().indexOf("class")?new a(r,{element:this}):a(r,{element:this})}finally{o=s}var l}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in i){if(null==r&&!this[e])return;this[e]=i[e].parse?t(r):r}}lookupProp(e){if(i)return a.find((t=>e===t||e===i[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function a(e,t={},n={}){const{BaseElement:o=HTMLElement,extension:a,customElements:s=window.customElements}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let l=s.get(e);return l?(l.prototype.Component=n,l):(l=i(o,function(e){return e?Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=r(o)&&"value"in o?o:{value:o},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),l.prototype.Component=n,l.prototype.registeredTag=e,s.define(e,l,a),l)}}const s={context:void 0,registry:void 0},l=Symbol("solid-proxy"),c=Symbol("solid-track"),d=Symbol("solid-dev-component"),u={equals:(e,t)=>e===t};let p=$;const h=1,g=2,f={owned:null,cleanups:null,context:null,owner:null};var m=null;let b=null,y=null,v=null,w=null,x=0;function k(e,t){const n=y,r=m,o=0===e.length,i=o?f:{owned:null,cleanups:null,context:null,owner:void 0===t?r:t},a=o?e:()=>e((()=>_((()=>V(i)))));m=i,y=null;try{return F(a,!0)}finally{y=n,m=r}}function T(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},u,t):u).equals||void 0};return[L.bind(n),e=>("function"==typeof e&&(e=e(n.value)),D(n,e))]}function S(e,t,n){M(B(e,t,!1,h))}function E(e,t,n){p=j;const r=B(e,t,!1,h);n&&n.render||(r.user=!0),w?w.push(r):M(r)}function C(e,t,n){n=n?Object.assign({},u,n):u;const r=B(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,M(r),L.bind(r)}function _(e){if(null===y)return e();const t=y;y=null;try{return e()}finally{y=t}}function I(e){E((()=>_(e)))}function P(e){return null===m||(null===m.cleanups?m.cleanups=[e]:m.cleanups.push(e)),e}function O(){return y}function A(){return m}function R(e){let t;return void 0!==(t=W(m,e.id))?t:e.defaultValue}function N(e){const t=C(e),n=C((()=>q(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function L(){if(this.sources&&this.state)if(this.state===h)M(this);else{const e=v;v=null,F((()=>z(this)),!1),v=e}if(y){const e=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(e)):(y.sources=[this],y.sourceSlots=[e]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function D(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&F((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=b&&b.running;r&&b.disposed.has(n),(r?n.tState:n.state)||(n.pure?v.push(n):w.push(n),n.observers&&H(n)),r||(n.state=h)}if(v.length>1e6)throw v=[],new Error}),!1)),t}function M(e){if(!e.fn)return;V(e);const t=m,n=y,r=x;y=m=e,function(e,t,n){let r;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=h,e.owned&&e.owned.forEach(V),e.owned=null),e.updatedAt=n+1,G(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?D(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),y=n,m=t}function B(e,t,n,r=h,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:m,context:null,pure:n};return null===m||m!==f&&(m.owned?m.owned.push(i):m.owned=[i]),i}function U(e){if(0===e.state)return;if(e.state===g)return z(e);if(e.suspense&&_(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<x);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===h)M(e);else if(e.state===g){const n=v;v=null,F((()=>z(e,t[0])),!1),v=n}}function F(e,t){if(v)return e();let n=!1;t||(v=[]),w?n=!0:w=[],x++;try{const t=e();return function(e){v&&($(v),v=null);if(e)return;const t=w;w=null,t.length&&F((()=>p(t)),!1)}(n),t}catch(e){n||(w=null),v=null,G(e)}}function $(e){for(let t=0;t<e.length;t++)U(e[t])}function j(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:U(r)}for(t=0;t<n;t++)U(e[t])}function z(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===h?r!==t&&(!r.updatedAt||r.updatedAt<x)&&U(r):e===g&&z(r,t)}}}function H(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=g,n.pure?v.push(n):w.push(n),n.observers&&H(n))}}function V(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)V(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function G(e,t=m){const n=function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e);throw n}function W(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:W(e.owner,t):void 0}function q(e){if("function"==typeof e&&!e.length)return q(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=q(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function K(e,t){return function(t){let n;return S((()=>n=_((()=>(m.context={[e]:t.value},N((()=>t.children)))))),void 0),n}}const Y=Symbol("fallback");function X(e){for(let t=0;t<e.length;t++)e[t]()}function Z(e,t){return _((()=>e(t||{})))}function J(){return!0}const Q={get:(e,t,n)=>t===l?n:e.get(t),has:(e,t)=>t===l||e.has(t),set:J,deleteProperty:J,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:J,deleteProperty:J}),ownKeys:e=>e.keys()};function ee(e){return(e="function"==typeof e?e():e)?e:{}}function te(){for(let e=0,t=this.length;e<t;++e){const t=this[e]();if(void 0!==t)return t}}function ne(...e){let t=!1;for(let n=0;n<e.length;n++){const r=e[n];t=t||!!r&&l in r,e[n]="function"==typeof r?(t=!0,C(r)):r}if(t)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=ee(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in ee(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(ee(e[n])));return[...new Set(t)]}},Q);const n={},r={},o=new Set;for(let t=e.length-1;t>=0;t--){const i=e[t];if(!i)continue;const a=Object.getOwnPropertyNames(i);for(let e=0,t=a.length;e<t;e++){const t=a[e];if("__proto__"===t||"constructor"===t)continue;const s=Object.getOwnPropertyDescriptor(i,t);if(o.has(t)){const e=r[t];e?s.get?e.push(s.get.bind(i)):void 0!==s.value&&e.push((()=>s.value)):void 0===n[t]&&(n[t]=s.value)}else s.get?(o.add(t),Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:te.bind(r[t]=[s.get.bind(i)])})):(void 0!==s.value&&o.add(t),n[t]=s.value)}}return n}function re(e,...t){if(l in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},Q)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},Q)),r}const n={},r=t.map((()=>({})));for(const o of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,o),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let s=!1,l=0;for(const e of t)e.includes(o)&&(s=!0,a?r[l][o]=i.value:Object.defineProperty(r[l],o,i)),++l;s||(a?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}let oe=0;function ie(){const e=s.context;return e?`${e.id}${e.count++}`:"cl-"+oe++}const ae=e=>`Stale read from <${e}>.`;function se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return C(function(e,t,n={}){let r=[],o=[],i=[],a=0,s=t.length>1?[]:null;return P((()=>X(i))),()=>{let l,d,u=e()||[];return u[c],_((()=>{let e,t,c,h,g,f,m,b,y,v=u.length;if(0===v)0!==a&&(X(i),i=[],r=[],o=[],a=0,s&&(s=[])),n.fallback&&(r=[Y],o[0]=k((e=>(i[0]=e,n.fallback()))),a=1);else if(0===a){for(o=new Array(v),d=0;d<v;d++)r[d]=u[d],o[d]=k(p);a=v}else{for(c=new Array(v),h=new Array(v),s&&(g=new Array(v)),f=0,m=Math.min(a,v);f<m&&r[f]===u[f];f++);for(m=a-1,b=v-1;m>=f&&b>=f&&r[m]===u[b];m--,b--)c[b]=o[m],h[b]=i[m],s&&(g[b]=s[m]);for(e=new Map,t=new Array(b+1),d=b;d>=f;d--)y=u[d],l=e.get(y),t[d]=void 0===l?-1:l,e.set(y,d);for(l=f;l<=m;l++)y=r[l],d=e.get(y),void 0!==d&&-1!==d?(c[d]=o[l],h[d]=i[l],s&&(g[d]=s[l]),d=t[d],e.set(y,d)):i[l]();for(d=f;d<v;d++)d in c?(o[d]=c[d],i[d]=h[d],s&&(s[d]=g[d],s[d](d))):o[d]=k(p);o=o.slice(0,a=v),r=u.slice(0)}return o}));function p(e){if(i[d]=e,s){const[e,n]=T(d);return s[d]=n,t(u[d],e)}return t(u[d])}}}((()=>e.each),e.children,t||void 0))}function le(e){const t=e.keyed,n=C((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return C((()=>{const r=n();if(r){const o=e.children;return"function"==typeof o&&o.length>0?_((()=>o(t?r:()=>{if(!_(n))throw ae("Show");return e.when}))):o}return e.fallback}),void 0,void 0)}function ce(e){let t=!1;const n=N((()=>e.children)),r=C((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){const r=e[n].when;if(r)return t=!!e[n].keyed,[n,r,e[n]]}return[-1]}),void 0,{equals:(e,n)=>e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return C((()=>{const[n,o,i]=r();if(n<0)return e.fallback;const a=i.children;return"function"==typeof a&&a.length>0?_((()=>a(t?o:()=>{if(_(r)[0]!==n)throw ae("Match");return i.when}))):a}),void 0,void 0)}function de(e){return e}const ue=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),pe=new Set(["innerHTML","textContent","innerText","children"]),he=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ge=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});const fe=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),me=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),be={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const ye="_$DX_DELEGATE";function ve(e,t,n){let r;const o=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},i=t?()=>_((()=>document.importNode(r||(r=o()),!0))):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function we(e,t=window.document){const n=t[ye]||(t[ye]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Ie))}}function xe(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ke(e,t){null==t?e.removeAttribute("class"):e.className=t}function Te(e,t={},n,r){const o={};return r||S((()=>o.children=Pe(e,t.children,o.children))),S((()=>t.ref&&t.ref(e))),S((()=>function(e,t,n,r,o={},i=!1){t||(t={});for(const r in o)if(!(r in t)){if("children"===r)continue;o[r]=_e(e,r,null,o[r],n,i)}for(const r in t){if("children"===r)continue;const a=t[r];o[r]=_e(e,r,a,o[r],n,i)}}(e,t,n,0,o,!0))),o}function Se(e,t,n){return _((()=>e(t,n)))}function Ee(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Pe(e,t,r,n);S((r=>Pe(e,t(),r,n)),r)}function Ce(e,t,n){const r=t.trim().split(/\s+/);for(let t=0,o=r.length;t<o;t++)e.classList.toggle(r[t],n)}function _e(e,t,n,r,o,i){let a,s,l,c,d;if("style"===t)return function(e,t,n){if(!t)return n?xe(e,"style"):t;const r=e.style;if("string"==typeof t)return r.cssText=t;let o,i;for(i in"string"==typeof n&&(r.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[i]&&r.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}(e,n,r);if("classList"===t)return function(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let i,a;for(i=0,a=o.length;i<a;i++){const r=o[i];r&&"undefined"!==r&&!t[r]&&(Ce(e,r,!1),delete n[r])}for(i=0,a=r.length;i<a;i++){const o=r[i],a=!!t[o];o&&"undefined"!==o&&n[o]!==a&&a&&(Ce(e,o,!0),n[o]=a)}return n}(e,n,r);if(n===r)return r;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const o=t.slice(3);r&&e.removeEventListener(o,r),n&&e.addEventListener(o,n)}else if("oncapture:"===t.slice(0,10)){const o=t.slice(10);r&&e.removeEventListener(o,r,!0),n&&e.addEventListener(o,n,!0)}else if("on"===t.slice(0,2)){const o=t.slice(2).toLowerCase(),i=fe.has(o);if(!i&&r){const t=Array.isArray(r)?r[0]:r;e.removeEventListener(o,t)}(i||n)&&(!function(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n)}(e,o,n,i),i&&we([o]))}else if("attr:"===t.slice(0,5))xe(e,t.slice(5),n);else if((d="prop:"===t.slice(0,5))||(l=pe.has(t))||!o&&((c=function(e,t){const n=ge[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(s=ue.has(t)))||(a=e.nodeName.includes("-")))d&&(t=t.slice(5),s=!0),"class"===t||"className"===t?ke(e,n):!a||s||l?e[c||t]=n:e[(u=t,u.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase())))]=n;else{const r=o&&t.indexOf(":")>-1&&be[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):xe(e,he[t]||t,n)}var u;return n}function Ie(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(void 0!==o?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Pe(e,t,n,r,o){for(;"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,a=void 0!==r;if(e=a&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i)if("number"===i&&(t=t.toString()),a){let o=n[0];o&&3===o.nodeType?o.data=t:o=document.createTextNode(t),n=Re(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===i)n=Re(e,n,r);else{if("function"===i)return S((()=>{let o=t();for(;"function"==typeof o;)o=o();n=Pe(e,o,n,r)})),()=>n;if(Array.isArray(t)){const i=[],s=n&&Array.isArray(n);if(Oe(i,t,n,o))return S((()=>n=Pe(e,i,n,r,!0))),()=>n;if(0===i.length){if(n=Re(e,n,r),a)return n}else s?0===n.length?Ae(e,i,r):function(e,t,n){let r=n.length,o=t.length,i=r,a=0,s=0,l=t[o-1].nextSibling,c=null;for(;a<o||s<i;)if(t[a]!==n[s]){for(;t[o-1]===n[i-1];)o--,i--;if(o===a){const t=i<r?s?n[s-1].nextSibling:n[i-s]:l;for(;s<i;)e.insertBefore(n[s++],t)}else if(i===s)for(;a<o;)c&&c.has(t[a])||t[a].remove(),a++;else if(t[a]===n[i-1]&&n[s]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--i],r),t[o]=n[i]}else{if(!c){c=new Map;let e=s;for(;e<i;)c.set(n[e],e++)}const r=c.get(t[a]);if(null!=r)if(s<r&&r<i){let l,d=a,u=1;for(;++d<o&&d<i&&null!=(l=c.get(t[d]))&&l===r+u;)u++;if(u>r-s){const o=t[a];for(;s<r;)e.insertBefore(n[s++],o)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}else a++,s++}(e,n,i):(n&&Re(e),Ae(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=Re(e,n,r,t);Re(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function Oe(e,t,n,r){let o=!1;for(let i=0,a=t.length;i<a;i++){let a,s=t[i],l=n&&n[i];if(null==s||!0===s||!1===s);else if("object"==(a=typeof s)&&s.nodeType)e.push(s);else if(Array.isArray(s))o=Oe(e,s,l)||o;else if("function"===a)if(r){for(;"function"==typeof s;)s=s();o=Oe(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||o}else e.push(s),o=!0;else{const t=String(s);l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return o}function Ae(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function Re(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let i=t.length-1;i>=0;i--){const a=t[i];if(o!==a){const t=a.parentNode===e;r||i?t&&a.remove():t?e.replaceChild(o,a):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}function Ne(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function Le(e){const{useShadow:t}=e,n=document.createTextNode(""),r=A();let o;return E((()=>{o||(o=function(e,t){const n=m,r=y;m=e,y=null;try{return F(t,!0)}catch(e){G(e)}finally{m=n,y=r}}(r,(()=>C((()=>e.children)))));const i=e.mount||document.body;if(i instanceof HTMLHeadElement){const[e,t]=T(!1),n=()=>t(!0);k((t=>Ee(i,(()=>e()?t():o()),null))),P(n)}else{const r=Ne(e.isSVG?"g":"div",e.isSVG),a=t&&r.attachShadow?r.attachShadow({mode:"open"}):r;Object.defineProperty(r,"_$host",{get:()=>n.parentNode,configurable:!0}),Ee(a,o),i.appendChild(r),e.ref&&e.ref(r),P((()=>i.removeChild(r)))}}),void 0,{render:!!!s.context}),n}function De(e){const[t,n]=re(e,["component"]),r=C((()=>t.component));return C((()=>{const e=r();switch(typeof e){case"function":return Object.assign(e,{[d]:!0}),_((()=>e(n)));case"string":const t=me.has(e),r=Ne(e,t);return Te(r,n,t),r}}))}function Me(e){return(t,n)=>{const{element:r}=n;return k((o=>{const i=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[o,i]=T(e[t[r]]);Object.defineProperty(n,t[r],{get:o,set(e){i((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>i[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",o()}));const a=e(i,n);return Ee(r.renderRoot,a)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}function Be(e,t,n){return 2===arguments.length&&(n=t,t={}),a(e,t)(Me(n))}const Ue={chat77submodule:void 0,onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,isPreview:void 0,startFrom:void 0,prefilledVariables:void 0,apiHost:void 0,resultId:void 0,sessionId:void 0},Fe={...Ue,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},$e={...Ue,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0,onPreviewMessageClick:void 0,autoShowDelay:void 0},je=()=>sessionStorage.getItem("chat77submodulePaymentInProgress"),ze=()=>{sessionStorage.removeItem("chat77submodulePaymentInProgress")};class He extends Error{constructor(e){super("This bot can only be executed on "+e)}}const Ve=(e,t)=>"undefined"!=typeof window?window.__ENV?window.__ENV[e]??t:void 0:"undefined"!=typeof process?process.env[e]??t:void 0,Ge=({ignoreChatApiUrl:e}={ignoreChatApiUrl:!1})=>{const t=Ve("NEXT_PUBLIC_CHAT_API_URL"),n=Ve("NEXT_PUBLIC_USE_EXPERIMENTAL_CHAT_API_ON")?.split(",");if(!e&&t&&(!n||n.some((e=>e===window.location.href))))return t;const r=Ve("NEXT_PUBLIC_VIEWER_URL")?.split(","),o=r?.find((e=>window.location.href.startsWith(e)));return o??r?.[0]??"https://chat77npm"},We=async e=>{let t;try{const n="string"==typeof e?e:e.url;t=await fetch(n,{method:"string"==typeof e?"GET":e.method,mode:"cors",headers:"string"!=typeof e&&qe(e.body)?{"Content-Type":"application/json"}:void 0,body:"string"!=typeof e&&qe(e.body)?JSON.stringify(e.body):void 0});const r=await t.json();if(!t.ok)throw"error"in r?r.error:r;return{data:r,response:t}}catch(e){return console.error(e),{error:e,response:t}}},qe=e=>null!=e,Ke=e=>null==e,Ye=e=>null==e||""===e,Xe=e=>null!=e&&""!==e,Ze=e=>e?.startsWith("data:image/svg")||e?.endsWith(".svg");class Je extends Error{constructor(e,t,n){const r=`${e.status||0===e.status?e.status:""} ${e.statusText||""}`.trim();super(`Request failed with ${r?`status code ${r}`:"an unknown error"}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=n}}class Qe extends Error{constructor(e){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}const et=e=>null!==e&&"object"==typeof e,tt=(...e)=>{for(const t of e)if((!et(t)||Array.isArray(t))&&void 0!==t)throw new TypeError("The `options` argument must be an object");return rt({},...e)},nt=(e={},t={})=>{const n=new globalThis.Headers(e),r=t instanceof globalThis.Headers,o=new globalThis.Headers(t);for(const[e,t]of o.entries())r&&"undefined"===t||void 0===t?n.delete(e):n.set(e,t);return n},rt=(...e)=>{let t={},n={};for(const r of e)if(Array.isArray(r))Array.isArray(t)||(t=[]),t=[...t,...r];else if(et(r)){for(let[e,n]of Object.entries(r))et(n)&&e in t&&(n=rt(t[e],n)),t={...t,[e]:n};et(r.headers)&&(n=nt(n,r.headers),t.headers=n)}return t},ot=(()=>{let e=!1,t=!1;const n="function"==typeof globalThis.ReadableStream,r="function"==typeof globalThis.Request;return n&&r&&(t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!t})(),it="function"==typeof globalThis.AbortController,at="function"==typeof globalThis.ReadableStream,st="function"==typeof globalThis.FormData,lt=["get","post","put","patch","head","delete"],ct={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},dt=2147483647,ut=Symbol("stop"),pt={json:!0,parseJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},ht={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},gt=e=>lt.includes(e)?e.toUpperCase():e,ft=[413,429,503],mt={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:ft,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},bt=(e={})=>{if("number"==typeof e)return{...mt,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...mt,...e,afterStatusCodes:ft}};class yt{static create(e,t){const n=new yt(e,t),r=async()=>{if("number"==typeof n._options.timeout&&n._options.timeout>dt)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let e=await n._fetch();for(const t of n._options.hooks.afterResponse){const r=await t(n.request,n._options,n._decorateResponse(e.clone()));r instanceof globalThis.Response&&(e=r)}if(n._decorateResponse(e),!e.ok&&n._options.throwHttpErrors){let t=new Je(e,n.request,n._options);for(const e of n._options.hooks.beforeError)t=await e(t);throw t}if(n._options.onDownloadProgress){if("function"!=typeof n._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!at)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return n._stream(e.clone(),n._options.onDownloadProgress)}return e},o=n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(r):r();for(const[e,r]of Object.entries(ct))o[e]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||r);const i=(await o).clone();if("json"===e){if(204===i.status)return"";if(0===(await i.clone().arrayBuffer()).byteLength)return"";if(t.parseJson)return t.parseJson(await i.text())}return i[e]()};return o}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;const n=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...n&&{credentials:n},...t,headers:nt(this._input.headers,t.headers),hooks:rt({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:gt(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:bt(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(it){if(this.abortController=new globalThis.AbortController,this._options.signal){const e=this._options.signal;this._options.signal.addEventListener("abort",(()=>{this.abortController.abort(e.reason)}))}this._options.signal=this.abortController.signal}if(ot&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const e="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,e);!(st&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,{...this.request}),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof Qe)){if(e instanceof Je){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;const t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter?0:e}if(413===e.response.status)return 0}const t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){const n=Math.min(this._calculateRetryDelay(t),dt);if(0!==n&&this._retryCount>0){await async function(e,{signal:t}){return new Promise(((n,r)=>{function o(){clearTimeout(i),r(t.reason)}t&&(t.throwIfAborted(),t.addEventListener("abort",o,{once:!0}));const i=setTimeout((()=>{t?.removeEventListener("abort",o),n()}),e)}))}(n,{signal:this._options.signal});for(const e of this._options.hooks.beforeRetry){if(await e({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===ut)return}return this._retry(e)}throw t}}async _fetch(){for(const e of this._options.hooks.beforeRequest){const t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}const e=((e,t)=>{const n={};for(const r in t)r in ht||r in pt||r in e||(n[r]=t[r]);return n})(this.request,this._options);return!1===this._options.timeout?this._options.fetch(this.request.clone(),e):async function(e,t,n,r){return new Promise(((o,i)=>{const a=setTimeout((()=>{n&&n.abort(),i(new Qe(e))}),r.timeout);r.fetch(e,t).then(o).catch(i).then((()=>{clearTimeout(a)}))}))}(this.request.clone(),e,this.abortController,this._options)}_stream(e,t){const n=Number(e.headers.get("content-length"))||0;let r=0;return 204===e.status?(t&&t({percent:1,totalBytes:n,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){const i=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array),await async function e(){const{done:a,value:s}=await i.read();if(a)o.close();else{if(t){r+=s.byteLength;t({percent:0===n?0:r/n,transferredBytes:r,totalBytes:n},s)}o.enqueue(s),await e()}}()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}
/*! MIT License © Sindre Sorhus */const vt=e=>{const t=(t,n)=>yt.create(t,tt(e,n));for(const n of lt)t[n]=(t,r)=>yt.create(t,tt(e,r,{method:n}));return t.create=e=>vt(tt(e)),t.extend=t=>vt(tt(e,t)),t.stop=ut,t},wt=vt();const[xt,kt]=T("100%"),[Tt,St]=T();let Et=function(e){return e.COLOR="Color",e.IMAGE="Image",e.NONE="None",e}({});const Ct="#303235",_t="#FFFFFF",It="Open Sans",Pt=Et.COLOR,Ot="#ffffff",At="absolute",Rt="medium",Nt="transparent",Lt=Ct,Dt=_t,Mt="#0042DA",Bt=_t,Ut=Ct,Ft=!0,$t=!1,jt="chat77submodule-font",zt=e=>{const t=document.getElementById(jt);if("string"==typeof e||"Google"===e.type){const n=("string"==typeof e?e:e.family)??It;if(t?.getAttribute("href")?.includes(n))return;t?.remove();const r=document.createElement("link");return r.href=`https://fonts.bunny.net/css2?family=${n}:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap`,r.rel="stylesheet",r.id=jt,void document.head.appendChild(r)}if("Custom"===e.type){if(Xe(e.css)){if(t?.innerHTML===e.css)return;t?.remove();const n=document.createElement("style");n.innerHTML=e.css,n.id=jt,document.head.appendChild(n)}if(Xe(e.url)){if(t?.getAttribute("href")===e.url)return;t?.remove();const n=document.createElement("link");n.href=e.url,n.rel="stylesheet",n.id=jt,document.head.appendChild(n)}}},[Ht,Vt]=T(),Gt={isInputPrefillEnabled:!1,isHideQueryParamsEnabled:!0,isNewResultOnRefreshEnabled:!0,rememberUser:{isEnabled:!1,storage:"session"},isBrandingEnabled:!1,isTypingEmulationEnabled:!0},Wt={enabled:!0,speed:400,maxDelay:3,delayBetweenBubbles:0,isDisabledOnFirstMessage:!0},qt=Symbol("store-raw"),Kt=Symbol("store-node");function Yt(e){let t=e[l];if(!t&&(Object.defineProperty(e,l,{value:t=new Proxy(e,nn)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const i=n[o];r[i].get&&Object.defineProperty(e,i,{enumerable:r[i].enumerable,get:r[i].get.bind(t)})}}return t}function Xt(e){let t;return null!=e&&"object"==typeof e&&(e[l]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Zt(e,t=new Set){let n,r,o,i;if(n=null!=e&&e[qt])return n;if(!Xt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,i=e.length;n<i;n++)o=e[n],(r=Zt(o,t))!==o&&(e[n]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let s=0,l=n.length;s<l;s++)i=n[s],a[i].get||(o=e[i],(r=Zt(o,t))!==o&&(e[i]=r))}return e}function Jt(e){let t=e[Kt];return t||Object.defineProperty(e,Kt,{value:t=Object.create(null)}),t}function Qt(e,t,n){return e[t]||(e[t]=tn(n))}function en(e){if(O()){const t=Jt(e);(t._||(t._=tn()))()}}function tn(e){const[t,n]=T(e,{equals:!1,internal:!0});return t.$=n,t}const nn={get(e,t,n){if(t===qt)return e;if(t===l)return n;if(t===c)return en(e),n;const r=Jt(e),o=r[t];let i=o?o():e[t];if(t===Kt||"__proto__"===t)return i;if(!o){const n=Object.getOwnPropertyDescriptor(e,t);!O()||"function"==typeof i&&!e.hasOwnProperty(t)||n&&n.get||(i=Qt(r,t,i)())}return Xt(i)?Yt(i):i},has(e,t){return t===qt||t===l||t===c||t===Kt||"__proto__"===t||(this.get(e,t,e),t in e)},set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return en(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return n&&!n.get&&n.configurable&&t!==l&&t!==Kt?(delete n.value,delete n.writable,n.get=()=>e[l][t],n):n}};function rn(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],i=e.length;void 0===n?delete e[t]:e[t]=n;let a,s=Jt(e);if((a=Qt(s,t,o))&&a.$((()=>n)),Array.isArray(e)&&e.length!==i){for(let t=e.length;t<i;t++)(a=s[t])&&a.$();(a=Qt(s,"length",i))&&a.$(e.length)}(a=s._)&&a.$()}function on(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];rn(e,o,t[o])}}function an(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const i=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let o=0;o<r.length;o++)an(e,[r[o]].concat(t),n);return}if(a&&"function"===i){for(let o=0;o<e.length;o++)r(e[o],o)&&an(e,[o].concat(t),n);return}if(a&&"object"===i){const{from:o=0,to:i=e.length-1,by:a=1}=r;for(let r=o;r<=i;r+=a)an(e,[r].concat(t),n);return}if(t.length>1)return void an(e[r],t,[r].concat(n));o=e[r],n=[r].concat(n)}let i=t[0];"function"==typeof i&&(i=i(o,n),i===o)||void 0===r&&null==i||(i=Zt(i),void 0===r||Xt(o)&&Xt(i)&&!Array.isArray(i)?on(o,i):rn(e,r,i))}function sn(...[e,t]){const n=Zt(e||{}),r=Array.isArray(n);return[Yt(n),function(...e){F((()=>{r&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=Zt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const r=t[n];e[n]!==r&&rn(e,n,r)}rn(e,"length",r)}else on(e,t)}(n,e[0]):an(n,e)}),!1)}]}const ln=Symbol("store-root");function cn(e,t,n,r,o){const i=t[n];if(e===i)return;if(n!==ln&&(!Xt(e)||!Xt(i)||o&&e[o]!==i[o]))return void rn(t,n,e);if(Array.isArray(e)){if(e.length&&i.length&&(!r||o&&e[0]&&null!=e[0][o])){let t,n,a,s,l,c,d,u;for(a=0,s=Math.min(i.length,e.length);a<s&&(i[a]===e[a]||o&&i[a]&&e[a]&&i[a][o]===e[a][o]);a++)cn(e[a],i,a,r,o);const p=new Array(e.length),h=new Map;for(s=i.length-1,l=e.length-1;s>=a&&l>=a&&(i[s]===e[l]||o&&i[a]&&e[a]&&i[s][o]===e[l][o]);s--,l--)p[l]=i[s];if(a>l||a>s){for(n=a;n<=l;n++)rn(i,n,e[n]);for(;n<e.length;n++)rn(i,n,p[n]),cn(e[n],i,n,r,o);return void(i.length>e.length&&rn(i,"length",e.length))}for(d=new Array(l+1),n=l;n>=a;n--)c=e[n],u=o&&c?c[o]:c,t=h.get(u),d[n]=void 0===t?-1:t,h.set(u,n);for(t=a;t<=s;t++)c=i[t],u=o&&c?c[o]:c,n=h.get(u),void 0!==n&&-1!==n&&(p[n]=i[t],n=d[n],h.set(u,n));for(n=a;n<e.length;n++)n in p?(rn(i,n,p[n]),cn(e[n],i,n,r,o)):rn(i,n,e[n])}else for(let t=0,n=e.length;t<n;t++)cn(e[t],i,t,r,o);return void(i.length>e.length&&rn(i,"length",e.length))}const a=Object.keys(e);for(let t=0,n=a.length;t<n;t++)cn(e[a[t]],i,a[t],r,o);const s=Object.keys(i);for(let t=0,n=s.length;t<n;t++)void 0===e[s[t]]&&rn(i,s[t],void 0)}function dn(e,t={}){const{merge:n,key:r="id"}=t,o=Zt(e);return e=>{if(!Xt(e)||!Xt(o))return o;const t=cn(o,{[ln]:e},ln,n,r);return void 0===t?e:t}}function un(e,t){const[n,r]=T(!1);if(!t.storage)return[...e,n,r];const o=pn(t.storage||Gt.rememberUser.storage),i=e=>{const t=JSON.parse(JSON.stringify(e));return"object"!=typeof t||("blobUrl"in t&&(t.blobUrl=void 0),"attachments"in t&&Array.isArray(t.attachments)&&t.attachments.forEach((e=>{e&&"blobUrl"in e&&(e.blobUrl=void 0)}))),JSON.stringify(t)},a=JSON.parse.bind(JSON),s=o.getItem(t.key),l="function"==typeof e[0]?t=>e[1]((()=>a(t))):t=>e[1](dn(a(t)));return s&&(l(s),r(!0),t.onRecovered?.()),[e[0],"function"==typeof e[0]?n=>{r(!1);const a=e[1](n);return n?o.setItem(t.key,i(a)):o.removeItem(t.key),a}:(...n)=>{r(!1),e[1](...n);const a=i(_((()=>e[0])));o.setItem(t.key,a)},n,r]}const pn=e=>"session"===(e??Gt.rememberUser.storage)?sessionStorage:localStorage,hn=e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[Number.parseInt(t[1]??"",16),Number.parseInt(t[2]??"",16),Number.parseInt(t[3]??"",16)]:[0,0,0]},gn=e=>(([e,t,n])=>(299*e+587*t+114*n)/1e3>155)(hn(e)),fn={bgImage:"--chat77submodule-container-bg-image",bgColor:"--chat77submodule-container-bg-color",fontFamily:"--chat77submodule-container-font-family",progressBar:{position:"--chat77submodule-progress-bar-position",color:"--chat77submodule-progress-bar-color",colorRgb:"--chat77submodule-progress-bar-bg-rgb",height:"--chat77submodule-progress-bar-height",top:"--chat77submodule-progress-bar-top",bottom:"--chat77submodule-progress-bar-bottom"}},mn={container:{maxWidth:"--chat77submodule-chat-container-max-width",maxHeight:"--chat77submodule-chat-container-max-height",bgColor:"--chat77submodule-chat-container-bg-rgb",color:"--chat77submodule-chat-container-color",borderRadius:"--chat77submodule-chat-container-border-radius",borderWidth:"--chat77submodule-chat-container-border-width",borderColor:"--chat77submodule-chat-container-border-rgb",borderOpacity:"--chat77submodule-chat-container-border-opacity",opacity:"--chat77submodule-chat-container-opacity",blur:"--chat77submodule-chat-container-blur",boxShadow:"--chat77submodule-chat-container-box-shadow"},hostBubbles:{bgColor:"--chat77submodule-host-bubble-bg-rgb",color:"--chat77submodule-host-bubble-color",borderRadius:"--chat77submodule-host-bubble-border-radius",borderWidth:"--chat77submodule-host-bubble-border-width",borderColor:"--chat77submodule-host-bubble-border-rgb",borderOpacity:"--chat77submodule-host-bubble-border-opacity",opacity:"--chat77submodule-host-bubble-opacity",blur:"--chat77submodule-host-bubble-blur",boxShadow:"--chat77submodule-host-bubble-box-shadow"},guestBubbles:{bgColor:"--chat77submodule-guest-bubble-bg-rgb",color:"--chat77submodule-guest-bubble-color",borderRadius:"--chat77submodule-guest-bubble-border-radius",borderWidth:"--chat77submodule-guest-bubble-border-width",borderColor:"--chat77submodule-guest-bubble-border-rgb",borderOpacity:"--chat77submodule-guest-bubble-border-opacity",opacity:"--chat77submodule-guest-bubble-opacity",blur:"--chat77submodule-guest-bubble-blur",boxShadow:"--chat77submodule-guest-bubble-box-shadow"},inputs:{bgColor:"--chat77submodule-input-bg-rgb",color:"--chat77submodule-input-color",placeholderColor:"--chat77submodule-input-placeholder-color",borderRadius:"--chat77submodule-input-border-radius",borderWidth:"--chat77submodule-input-border-width",borderColor:"--chat77submodule-input-border-rgb",borderOpacity:"--chat77submodule-input-border-opacity",opacity:"--chat77submodule-input-opacity",blur:"--chat77submodule-input-blur",boxShadow:"--chat77submodule-input-box-shadow"},buttons:{bgRgb:"--chat77submodule-button-bg-rgb",color:"--chat77submodule-button-color",borderRadius:"--chat77submodule-button-border-radius",borderWidth:"--chat77submodule-button-border-width",borderColor:"--chat77submodule-button-border-rgb",borderOpacity:"--chat77submodule-button-border-opacity",opacity:"--chat77submodule-button-opacity",blur:"--chat77submodule-button-blur",boxShadow:"--chat77submodule-button-box-shadow"},checkbox:{bgRgb:"--chat77submodule-checkbox-bg-rgb",alphaRatio:"--selectable-alpha-ratio"}},bn=(e,t,n)=>{Cn(e?.background,t),t.setProperty(fn.fontFamily,("string"==typeof e?.font?e.font:e?.font?.family)??It),yn(e?.progressBar,t,n)},yn=(e,t,n)=>{const r=e?.position??At;t.setProperty(fn.progressBar.position,"fixed"===r?n?"absolute":"fixed":r),t.setProperty(fn.progressBar.color,e?.color??"#0042DA"),t.setProperty(fn.progressBar.colorRgb,hn(e?.backgroundColor??"#e0edff").join(", ")),t.setProperty(fn.progressBar.height,`${e?.thickness??4}px`);const o=e?.placement??"Top";t.setProperty(fn.progressBar.top,"Top"===o?"0":"auto"),t.setProperty(fn.progressBar.bottom,"Bottom"===o?"0":"auto")},vn=(e,t,n)=>{wn(e?.container,t,n,e?.roundness),xn(e?.hostBubbles,n,e?.roundness),kn(e?.guestBubbles,n,e?.roundness),Tn(e?.buttons,n,e?.roundness),Sn(e?.inputs,n,e?.roundness),En(e?.container,t,n)},wn=(e,t,n,r)=>{const o=e?.backgroundColor??Nt,i="transparent"===o||Ye(o);n.setProperty(mn.container.bgColor,i?"0, 0, 0":hn(o).join(", ")),n.setProperty(mn.container.color,hn(e?.color??((({chatContainer:e,generalBackground:t})=>{const n=e?.backgroundColor??Nt;if((e?.opacity??1)<=.3||"transparent"===n||Ye(n)){const e=t?.type??Pt,n=e===Et.IMAGE?"#000000":e===Et.COLOR&&Xe(t?.content)?t.content:"#ffffff";return gn(n)}return gn(e?.backgroundColor??Ot)})({chatContainer:e,generalBackground:t})?Ct:_t)).join(", ")),n.setProperty(mn.container.maxWidth,e?.maxWidth??"800px"),n.setProperty(mn.container.maxHeight,e?.maxHeight??"100%");const a=i?"1":(e?.opacity??1).toString();n.setProperty(mn.container.opacity,i?"0":(e?.opacity??1).toString()),n.setProperty(mn.container.blur,"1"===a||i?"0xp":`${e?.blur??0}px`),Pn(e?.shadow,n,mn.container.boxShadow),In(e?.border??{roundeness:r??Rt},n,mn.container.borderRadius),n.setProperty(mn.container.borderWidth,qe(e?.border?.thickness)?`${e?.border?.thickness}px`:"0"),n.setProperty(mn.container.borderOpacity,qe(e?.border?.opacity)?e.border.opacity.toString():1..toString()),n.setProperty(mn.container.borderColor,hn(e?.border?.color??"").join(", "))},xn=(e,t,n)=>{t.setProperty(mn.hostBubbles.bgColor,hn(e?.backgroundColor??"#F7F8FF").join(", ")),t.setProperty(mn.hostBubbles.color,e?.color??Lt),In(e?.border??{roundeness:n??Rt},t,mn.hostBubbles.borderRadius),t.setProperty(mn.hostBubbles.borderWidth,qe(e?.border?.thickness)?`${e?.border?.thickness}px`:"0"),t.setProperty(mn.hostBubbles.borderColor,hn(e?.border?.color??"").join(", ")),t.setProperty(mn.hostBubbles.opacity,"transparent"===e?.backgroundColor?"0":qe(e?.opacity)?e.opacity.toString():1..toString()),t.setProperty(mn.hostBubbles.borderOpacity,qe(e?.border?.opacity)?e.border.opacity.toString():1..toString()),t.setProperty(mn.hostBubbles.blur,qe(e?.blur)?`${e.blur??0}px`:"none"),Pn(e?.shadow,t,mn.hostBubbles.boxShadow)},kn=(e,t,n)=>{t.setProperty(mn.guestBubbles.bgColor,hn(e?.backgroundColor??"#FF8E21").join(", ")),t.setProperty(mn.guestBubbles.color,e?.color??Dt),In(e?.border??{roundeness:n??Rt},t,mn.guestBubbles.borderRadius),t.setProperty(mn.guestBubbles.borderWidth,qe(e?.border?.thickness)?`${e?.border?.thickness}px`:"0"),t.setProperty(mn.guestBubbles.borderColor,hn(e?.border?.color??"").join(", ")),t.setProperty(mn.guestBubbles.borderOpacity,qe(e?.border?.opacity)?e.border.opacity.toString():1..toString()),t.setProperty(mn.guestBubbles.opacity,"transparent"===e?.backgroundColor?"0":qe(e?.opacity)?e.opacity.toString():1..toString()),t.setProperty(mn.guestBubbles.blur,qe(e?.blur)?`${e.blur??0}px`:"none"),Pn(e?.shadow,t,mn.guestBubbles.boxShadow)},Tn=(e,t,n)=>{const r=e?.backgroundColor??Mt;t.setProperty(mn.buttons.bgRgb,hn(r).join(", ")),t.setProperty(mn.buttons.bgRgb,hn(r).join(", ")),t.setProperty(mn.buttons.color,e?.color??Bt),In(e?.border??{roundeness:n??Rt},t,mn.buttons.borderRadius),t.setProperty(mn.buttons.borderWidth,qe(e?.border?.thickness)?`${e?.border?.thickness}px`:"1px"),t.setProperty(mn.buttons.borderColor,hn(e?.border?.color??e?.backgroundColor??Mt).join(", ")),t.setProperty(mn.buttons.borderOpacity,qe(e?.border?.opacity)?e.border.opacity.toString():1..toString()),t.setProperty(mn.buttons.opacity,"transparent"===e?.backgroundColor?"0":qe(e?.opacity)?e.opacity.toString():1..toString()),t.setProperty(mn.buttons.blur,qe(e?.blur)?`${e.blur??0}px`:"none"),Pn(e?.shadow,t,mn.buttons.boxShadow)},Sn=(e,t,n)=>{t.setProperty(mn.inputs.bgColor,hn(e?.backgroundColor??"#FFFFFF").join(", ")),t.setProperty(mn.inputs.color,e?.color??Ut),t.setProperty(mn.inputs.placeholderColor,e?.placeholderColor??"#9095A0"),In(e?.border??{roundeness:n??Rt},t,mn.inputs.borderRadius),t.setProperty(mn.inputs.borderWidth,qe(e?.border?.thickness)?`${e?.border?.thickness}px`:"0"),t.setProperty(mn.inputs.borderColor,hn(e?.border?.color??"").join(", ")),t.setProperty(mn.inputs.borderOpacity,qe(e?.border?.opacity)?e.border.opacity.toString():1..toString()),t.setProperty(mn.inputs.opacity,"transparent"===e?.backgroundColor?"0":qe(e?.opacity)?e.opacity.toString():1..toString()),t.setProperty(mn.inputs.blur,qe(e?.blur)?`${e.blur??0}px`:"none"),Pn(e?.shadow??"md",t,mn.inputs.boxShadow)},En=(e,t,n)=>{const r=e?.backgroundColor??Nt;if("transparent"===r||Ye(r)||(e?.opacity??1)<=.2){const e=t?.type??Pt;n.setProperty(mn.checkbox.bgRgb,e===Et.IMAGE?"rgba(255, 255, 255, 0.75)":hn((e===Et.COLOR?t?.content:"#ffffff")??"#ffffff").join(", ")),e===Et.IMAGE?n.setProperty(mn.checkbox.alphaRatio,"3"):n.setProperty(mn.checkbox.alphaRatio,t?.content&&gn(t?.content)?"1":"2")}else n.setProperty(mn.checkbox.bgRgb,hn(r).concat(e?.opacity??1).join(", ")),n.setProperty(mn.checkbox.alphaRatio,gn(r)?"1":"2")},Cn=(e,t)=>{t.setProperty(fn.bgImage,null),t.setProperty(fn.bgColor,null),t.setProperty((e?.type??Pt)===Et.IMAGE?fn.bgImage:fn.bgColor,_n({type:e?.type??Pt,content:e?.content??Ot}))},_n=({type:e,content:t}={})=>{switch(e){case Et.NONE:return"transparent";case void 0:case Et.COLOR:return t??Ot;case Et.IMAGE:return`url(${t})`}},In=(e,t,n)=>{switch(e?.roundeness??Rt){case"none":t.setProperty(n,"0");break;case"medium":t.setProperty(n,"6px");break;case"large":t.setProperty(n,"20px");break;case"custom":t.setProperty(n,`${e.customRoundeness??6}px`)}},Pn=(e,t,n)=>{if(void 0!==e)switch(e){case"none":t.setProperty(n,"0 0 #0000");break;case"sm":t.setProperty(n,"0 1px 2px 0 rgb(0 0 0 / 0.05)");break;case"md":t.setProperty(n,"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)");break;case"lg":t.setProperty(n,"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)");break;case"xl":t.setProperty(n,"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)");break;case"2xl":t.setProperty(n,"0 25px 50px -12px rgb(0 0 0 / 0.25)")}else t.setProperty(n,"0 0 #0000")},On="resultId",An=(e,{chat77submoduleId:t,storage:n})=>{try{const r=JSON.stringify(e);Dn(n).setItem(`chat77submodule-${t}-initialChatReply`,r)}catch{}},Rn=()=>{try{sessionStorage.setItem("chat77submodule-botOpened","true")}catch{}},Nn=()=>{try{sessionStorage.removeItem("chat77submodule-botOpened")}catch{}},Ln=()=>{try{return"true"===sessionStorage.getItem("chat77submodule-botOpened")}catch{return!1}},Dn=e=>"session"===(e??Gt.rememberUser.storage)?sessionStorage:localStorage,Mn=e=>{Object.keys(localStorage).forEach((t=>{t.startsWith(`chat77submodule-${e}`)&&localStorage.removeItem(t)})),Object.keys(sessionStorage).forEach((t=>{t.startsWith(`chat77submodule-${e}`)&&sessionStorage.removeItem(t)}))},Bn=Symbol(),Un=Object.getPrototypeOf,Fn=new WeakMap,$n=e=>(e=>e&&(Fn.has(e)?Fn.get(e):Un(e)===Object.prototype||Un(e)===Array.prototype))(e)&&e[Bn]||null,jn=(e,t=!0)=>{Fn.set(e,t)};function zn(e,t){const n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;return n?(n[e]||(n[e]=t()),n[e]):t()}var Hn=e=>"object"==typeof e&&null!==e,Vn=zn("__zag__proxyStateMap",(()=>new WeakMap)),Gn=zn("__zag__refSet",(()=>new WeakSet)),[Wn]=((e=Object.is,t=(e,t)=>new Proxy(e,t),n=e=>Hn(e)&&!Gn.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),r=e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},o=new WeakMap,i=(e,t,n=r)=>{const i=o.get(e);if(i?.[0]===t)return i[1];const a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return jn(a,!0),o.set(e,[t,a]),Reflect.ownKeys(e).forEach((t=>{const r=Reflect.get(e,t);Gn.has(r)?(jn(r,!1),a[t]=r):r instanceof Promise?Object.defineProperty(a,t,{get:()=>n(r)}):Vn.has(r)?a[t]=Yn(r,n):a[t]=r})),Object.freeze(a)},a=new WeakMap,s=[1,1],l=r=>{if(!Hn(r))throw new Error("object required");const o=a.get(r);if(o)return o;let l=s[0];const c=new Set,d=(e,t=++s[0])=>{l!==t&&(l=t,c.forEach((n=>n(e,t))))};let u=s[1];const p=e=>(t,n)=>{const r=[...t];r[1]=[e,...r[1]],d(r,n)},h=new Map,g=e=>{const t=h.get(e);t&&(h.delete(e),t[1]?.())},f=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),m=t(f,{deleteProperty(e,t){const n=Reflect.get(e,t);g(t);const r=Reflect.deleteProperty(e,t);return r&&d(["delete",[t],n]),r},set(t,r,o,i){const s=Reflect.has(t,r),l=Reflect.get(t,r,i);if(s&&(e(l,o)||a.has(o)&&e(l,a.get(o))))return!0;g(r),Hn(o)&&(o=$n(o)||o);let u=o;if(Object.getOwnPropertyDescriptor(t,r)?.set);else if(o instanceof Promise)o.then((e=>{Object.assign(o,{status:"fulfilled",value:e}),d(["resolve",[r],e])})).catch((e=>{Object.assign(o,{status:"rejected",reason:e}),d(["reject",[r],e])}));else{!Vn.has(o)&&n(o)&&(u=qn(o));const e=!Gn.has(u)&&Vn.get(u);e&&((e,t)=>{if(c.size){const n=t[3](p(e));h.set(e,[t,n])}else h.set(e,[t])})(r,e)}return Reflect.set(t,r,u,i),d(["set",[r],o,l]),!0}});a.set(r,m);const b=[f,(e=++s[1])=>(u===e||c.size||(u=e,h.forEach((([t])=>{const n=t[1](e);n>l&&(l=n)}))),l),i,e=>{c.add(e),1===c.size&&h.forEach((([e,t],n)=>{const r=e[3](p(n));h.set(n,[e,r])}));return()=>{c.delete(e),0===c.size&&h.forEach((([e,t],n)=>{t&&(t(),h.set(n,[e]))}))}}];return Vn.set(m,b),Reflect.ownKeys(r).forEach((e=>{const t=Object.getOwnPropertyDescriptor(r,e);t.get||t.set?Object.defineProperty(f,e,t):m[e]=r[e]})),m})=>[l,Vn,Gn,e,t,n,r,o,i,a,s])();function qn(e={}){return Wn(e)}function Kn(e,t,n){const r=Vn.get(e);let o;const i=[],a=r[3];let s=!1;const l=a((e=>{i.push(e),n?t(i.splice(0)):o||(o=Promise.resolve().then((()=>{o=void 0,s&&t(i.splice(0))})))}));return s=!0,()=>{s=!1,l()}}function Yn(e,t){const n=Vn.get(e),[r,o,i]=n;return i(r,o(),t)}function Xn(e){return Gn.add(e),e}function Zn(e,t){Object.keys(t).forEach((r=>{if(Object.getOwnPropertyDescriptor(e,r))throw new Error("object property already defined");const o=t[r],{get:i,set:a}="function"==typeof o?{get:o}:o,s={get:()=>i(Yn(n))};a&&(s.set=e=>a(n,e)),Object.defineProperty(e,r,s)}));const n=qn(e);return n}function Jn(e,t,n){"object"==typeof n.value&&(n.value=Qn(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function Qn(e){if("object"!=typeof e)return e;var t,n,r,o=0,i=Object.prototype.toString.call(e);if("[object Object]"===i?r=Object.create(e.__proto__||null):"[object Array]"===i?r=Array(e.length):"[object Set]"===i?(r=new Set,e.forEach((function(e){r.add(Qn(e))}))):"[object Map]"===i?(r=new Map,e.forEach((function(e,t){r.set(Qn(t),Qn(e))}))):"[object Date]"===i?r=new Date(+e):"[object RegExp]"===i?r=new RegExp(e.source,e.flags):"[object DataView]"===i?r=new e.constructor(Qn(e.buffer)):"[object ArrayBuffer]"===i?r=e.slice(0):"Array]"===i.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)Jn(r,n[o],Object.getOwnPropertyDescriptor(e,n[o]));for(o=0,n=Object.getOwnPropertyNames(e);o<n.length;o++)Object.hasOwnProperty.call(r,t=n[o])&&r[t]===e[t]||Jn(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}var er=Object.defineProperty,tr=(e,t,n)=>((e,t,n)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);var nr=(e,...t)=>("function"==typeof e?e(...t):e)??void 0,rr=()=>{},or=(...e)=>(...t)=>{e.forEach((function(e){e?.(...t)}))},ir=(()=>{let e=0;return()=>(e++,e.toString(36))})(),ar=e=>Array.isArray(e),sr=e=>!(null==e||"object"!=typeof e||ar(e)),lr=e=>"string"==typeof e,cr=e=>"function"==typeof e;function dr(e){if(!ur(e)||void 0===e)return e;const t=Reflect.ownKeys(e).filter((e=>"string"==typeof e)),n={};for(const r of t){const t=e[r];void 0!==t&&(n[r]=dr(t))}return n}var ur=e=>e&&"object"==typeof e&&e.constructor===Object;function pr(...e){1===e.length?e[0]:e[1],2!==e.length||e[0]}function hr(...e){1===e.length?e[0]:e[1],2!==e.length||e[0]}function gr(e,...t){for(const n of t){const t=dr(n);for(const r in t)sr(n[r])?(e[r]||(e[r]={}),gr(e[r],n[r])):e[r]=n[r]}return e}function fr(e){return Qn(e)}function mr(e){return lr(e)?{type:e}:e}function br(e){return e?ar(e)?e.slice():[e]:[]}function yr(e){return sr(e)&&null!=e.predicate}var vr=()=>!0;function wr(e,t,n,r){return o=>lr(o)?!!e[o]?.(t,n,r):cr(o)?o(t,n,r):o.predicate(e)(t,n,r)}var xr={or:function(...e){return{predicate:t=>(n,r,o)=>e.map(wr(t,n,r,o)).some(Boolean)}},and:function(...e){return{predicate:t=>(n,r,o)=>e.map(wr(t,n,r,o)).every(Boolean)}},not:function(e){return{predicate:t=>(n,r,o)=>!wr(t,n,r,o)(e)}},stateIn:function(...e){return(t,n,r)=>r.state.matches(...e)}};function kr(e,t){return e=e??vr,(n,r,o)=>{if(lr(e)){const i=t[e];return cr(i)?i(n,r,o):i}return yr(e)?e.predicate(t)(n,r,o):e?.(n,r,o)}}function Tr(e,t){return(n,r,o)=>yr(e)?e.predicate(t)(n,r,o):e}function Sr(e,t){return(n,r)=>{if("number"==typeof(o=e)&&!Number.isNaN(o))return e;var o;if(cr(e))return e(n,r);if(lr(e)){const o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(t){const o=t?.[e];return hr(null==o,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),cr(o)?o(n,r):o}}}}function Er(e){return lr(e)?{target:e}:e}var Cr=class{constructor(e,t){tr(this,"status","Not Started"),tr(this,"state"),tr(this,"initialState"),tr(this,"initialContext"),tr(this,"id"),tr(this,"type","machine"),tr(this,"activityEvents",new Map),tr(this,"delayedEvents",new Map),tr(this,"stateListeners",new Set),tr(this,"doneListeners",new Set),tr(this,"contextWatchers",new Set),tr(this,"removeStateListener",rr),tr(this,"parent"),tr(this,"children",new Map),tr(this,"guardMap"),tr(this,"actionMap"),tr(this,"delayMap"),tr(this,"activityMap"),tr(this,"sync"),tr(this,"options"),tr(this,"config"),tr(this,"_created",(()=>{const e=mr("machine.created");this.executeActions(this.config?.created,e)})),tr(this,"start",(e=>{if(this.state.value="",this.state.tags=[],"Running"===this.status)return this;this.status="Running",this.removeStateListener=Kn(this.state,(()=>{this.stateListeners.forEach((e=>{e(this.stateSnapshot)}))}),this.sync),this.setupContextWatchers(),this.executeActivities(mr("machine.start"),br(this.config.activities),"machine.start"),this.executeActions(this.config.entry,mr("machine.start"));const t=mr("machine.init"),n=sr(e)?e.value:e,r=sr(e)?e.context:void 0;r&&this.setContext(r);const o={target:n??this.config.initial},i=this.getNextStateInfo(o,t);return this.initialState=i,this.performStateChangeEffects(this.state.value,i,t),this})),tr(this,"setupContextWatchers",(()=>{const{watch:e}=this.config;if(!e)return;let t=Yn(this.state.context);const n=Kn(this.state.context,(()=>{const n=Yn(this.state.context);for(const[r,o]of Object.entries(e)){(this.options.compareFns?.[r]??Object.is)(t[r],n[r])||this.executeActions(o,this.state.event)}t=n}));this.contextWatchers.add(n)})),tr(this,"stop",(()=>{if("Stopped"!==this.status)return this.performExitEffects(this.state.value,mr("machine.stop")),this.executeActions(this.config.exit,mr("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this})),tr(this,"stopStateListeners",(()=>{this.removeStateListener(),this.stateListeners.clear()})),tr(this,"stopContextWatchers",(()=>{this.contextWatchers.forEach((e=>e())),this.contextWatchers.clear()})),tr(this,"stopDelayedEvents",(()=>{this.delayedEvents.forEach((e=>{e.forEach((e=>e()))})),this.delayedEvents.clear()})),tr(this,"stopActivities",(e=>{e?(this.activityEvents.get(e)?.forEach((e=>e())),this.activityEvents.get(e)?.clear(),this.activityEvents.delete(e)):(this.activityEvents.forEach((e=>{e.forEach((e=>e())),e.clear()})),this.activityEvents.clear())})),tr(this,"sendChild",((e,t)=>{const n=mr(e),r=nr(t,this.contextSnapshot),o=this.children.get(r);o||hr(`[@zag-js/core] Cannot send '${n.type}' event to unknown child`),o.send(n)})),tr(this,"stopChild",(e=>{this.children.has(e)||hr(`[@zag-js/core > stop-child] Cannot stop unknown child ${e}`),this.children.get(e).stop(),this.children.delete(e)})),tr(this,"removeChild",(e=>{this.children.delete(e)})),tr(this,"stopChildren",(()=>{this.children.forEach((e=>e.stop())),this.children.clear()})),tr(this,"setParent",(e=>{this.parent=e})),tr(this,"spawn",((e,t)=>{const n=nr(e);return t&&(n.id=t),n.type="machine.actor",n.setParent(this),this.children.set(n.id,n),n.onDone((()=>{this.removeChild(n.id)})).start(),Xn(n)})),tr(this,"stopActivity",(e=>{if(!this.state.value)return;const t=this.activityEvents.get(this.state.value);t?.get(e)?.(),t?.delete(e)})),tr(this,"addActivityCleanup",((e,t,n)=>{e&&(this.activityEvents.has(e)?this.activityEvents.get(e)?.set(t,n):this.activityEvents.set(e,new Map([[t,n]])))})),tr(this,"setState",(e=>{this.state.previousValue=this.state.value,this.state.value=e;const t=this.getStateNode(e);null==e?function(e){for(;e.length>0;)e.pop()}(this.state.tags):this.state.tags=br(t?.tags)})),tr(this,"setContext",(e=>{e&&gr(this.state.context,dr(e))})),tr(this,"setOptions",(e=>{const t=dr(e);this.actionMap={...this.actionMap,...t.actions},this.delayMap={...this.delayMap,...t.delays},this.activityMap={...this.activityMap,...t.activities},this.guardMap={...this.guardMap,...t.guards}})),tr(this,"getStateNode",(e=>{if(e)return this.config.states?.[e]})),tr(this,"getNextStateInfo",((e,t)=>{const n=this.determineTransition(e,t),r=!n?.target,o=n?.target??this.state.value,i=this.state.value!==o,a=this.getStateNode(o),s={reenter:!r&&!i&&!n?.internal,transition:n,stateNode:a,target:o,changed:i};return this.log("NextState:",`[${t.type}]`,this.state.value,"----\x3e",s.target),s})),tr(this,"getAfterActions",((e,t)=>{let n;return{entry:()=>{n=globalThis.setTimeout((()=>{const t=this.getNextStateInfo(e,this.state.event);this.performStateChangeEffects(this.state.value,t,this.state.event)}),t)},exit:()=>{globalThis.clearTimeout(n)}}})),tr(this,"getDelayedEventActions",(e=>{const t=this.getStateNode(e),n=this.state.event;if(!t||!t.after)return;const r=[],o=[];if(ar(t.after)){const e=this.determineTransition(t.after,n);if(!e)return;if(i=e,a="delay",!Object.prototype.hasOwnProperty.call(i,a))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(e)}`);const s=Sr(e.delay,this.delayMap)(this.contextSnapshot,n),l=this.getAfterActions(e,s);return r.push(l.entry),o.push(l.exit),{entries:r,exits:o}}var i,a;if(sr(t.after))for(const e in t.after){const i=t.after[e],a=Sr(e,this.delayMap)(this.contextSnapshot,n),s=this.getAfterActions(i,a);r.push(s.entry),o.push(s.exit)}return{entries:r,exits:o}})),tr(this,"executeActions",((e,t)=>{const n=Tr(e,this.guardMap)(this.contextSnapshot,t,this.guardMeta);for(const e of br(n)){const n=lr(e)?this.actionMap?.[e]:e;pr(lr(e)&&!n,`[@zag-js/core > execute-actions] No implementation found for action: \`${e}\``),n?.(this.state.context,t,this.meta)}})),tr(this,"executeActivities",((e,t,n)=>{for(const r of t){const t=lr(r)?this.activityMap?.[r]:r;if(!t){pr(`[@zag-js/core > execute-activity] No implementation found for activity: \`${r}\``);continue}const o=t(this.state.context,e,this.meta);if(o){const e=lr(r)?r:r.name||ir();this.addActivityCleanup(n??this.state.value,e,o)}}})),tr(this,"createEveryActivities",((e,t)=>{if(e)if(ar(e)){const n=br(e).find((e=>{const t=Sr(e.delay,this.delayMap)(this.contextSnapshot,this.state.event);return kr(e.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??null!=t}));if(!n)return;const r=Sr(n.delay,this.delayMap)(this.contextSnapshot,this.state.event);t((()=>{const e=globalThis.setInterval((()=>{this.executeActions(n.actions,this.state.event)}),r);return()=>{globalThis.clearInterval(e)}}))}else for(const n in e){const r=e?.[n],o=Sr(n,this.delayMap)(this.contextSnapshot,this.state.event);t((()=>{const e=globalThis.setInterval((()=>{this.executeActions(r,this.state.event)}),o);return()=>{globalThis.clearInterval(e)}}))}})),tr(this,"setEvent",(e=>{this.state.previousEvent=this.state.event,this.state.event=Xn(mr(e))})),tr(this,"performExitEffects",((e,t)=>{const n=this.state.value;if(""===n)return;const r=e?this.getStateNode(e):void 0;this.stopActivities(n);const o=br(Tr(r?.exit,this.guardMap)(this.contextSnapshot,t,this.guardMeta)),i=this.delayedEvents.get(n);i&&o.push(...i),this.executeActions(o,t)})),tr(this,"performEntryEffects",((e,t)=>{const n=this.getStateNode(e),r=br(n?.activities);this.createEveryActivities(n?.every,(e=>{r.unshift(e)})),r.length>0&&this.executeActivities(t,r);const o=br(Tr(n?.entry,this.guardMap)(this.contextSnapshot,t,this.guardMeta)),i=this.getDelayedEventActions(e);n?.after&&i&&(this.delayedEvents.set(e,i?.exits),o.push(...i.entries)),this.executeActions(o,t),"final"===n?.type&&(this.state.done=!0,this.doneListeners.forEach((e=>{e(this.stateSnapshot)})),this.stop())})),tr(this,"performTransitionEffects",((e,t)=>{const n=this.determineTransition(e,t);this.executeActions(n?.actions,t)})),tr(this,"performStateChangeEffects",((e,t,n)=>{this.setEvent(n);const r=t.changed||t.reenter;r&&this.performExitEffects(e,n),this.performTransitionEffects(t.transition,n),this.setState(t.target),r&&this.performEntryEffects(t.target,n)})),tr(this,"determineTransition",((e,t)=>{const n=(r=e,o=this.guardMap,(e,t,n)=>br(r).map(Er).find((r=>kr(r.guard,o)(e,t,n)??r.target??r.actions)));var r,o;return n?.(this.contextSnapshot,t,this.guardMeta)})),tr(this,"sendParent",(e=>{this.parent||hr("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const t=mr(e);this.parent?.send(t)})),tr(this,"log",((...e)=>{})),tr(this,"send",(e=>{const t=mr(e);this.transition(this.state.value,t)})),tr(this,"transition",((e,t)=>{const n=lr(e)?this.getStateNode(e):e?.stateNode,r=mr(t);if(!n&&!this.config.on){return void pr("Stopped"===this.status?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${e}, \`event\`: ${r.type}`)}const o=n?.on?.[r.type]??this.config.on?.[r.type],i=this.getNextStateInfo(o,r);return this.performStateChangeEffects(this.state.value,i,r),i.stateNode})),tr(this,"subscribe",(e=>(this.stateListeners.add(e),"Running"===this.status&&e(this.stateSnapshot),()=>{this.stateListeners.delete(e)}))),tr(this,"onDone",(e=>(this.doneListeners.add(e),this))),tr(this,"onTransition",(e=>(this.stateListeners.add(e),"Running"===this.status&&e(this.stateSnapshot),this))),this.config=fr(e),this.options=fr(t??{}),this.id=this.config.id??`machine-${ir()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=function(e){const t=e.computed??{},n=e.context??{},r=e.initial?e.states?.[e.initial]?.tags:[];return qn({value:e.initial??"",previousValue:"",event:{},previousEvent:{},context:Zn(n,t),done:!1,tags:r??[],hasTag(e){return this.tags.includes(e)},matches(...e){return e.includes(this.value)},can(e){return this.nextEvents.includes(e)},get nextEvents(){const t=e.states?.[this.value]?.on??{},n=e?.on??{};return Object.keys({...t,...n})},get changed(){return!("machine.init"===this.event.value||!this.previousValue)&&this.value!==this.previousValue}})}(this.config),this.initialContext=Yn(this.state.context)}get stateSnapshot(){return Yn(this.state)}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const e=this.getState();return{value:e.value,tags:e.tags}}},_r=(e,t)=>new Cr(e,t),Ir=(...e)=>e.map((e=>e?.trim?.())).filter(Boolean).join(" "),Pr=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Or=e=>{const t={};let n;for(;n=Pr.exec(e);)t[n[1]]=n[2];return t},Ar=(e,t)=>{if(lr(e)){if(lr(t))return`${e};${t}`;e=Or(e)}else lr(t)&&(t=Or(t));return Object.assign({},e??{},t??{})};function Rr(...e){let t={};for(let n of e){for(let e in t)e.startsWith("on")&&"function"==typeof t[e]&&"function"==typeof n[e]?t[e]=or(n[e],t[e]):t[e]="className"!==e&&"class"!==e?"style"!==e?void 0!==n[e]?n[e]:t[e]:Ar(t[e],n[e]):Ir(t[e],n[e]);for(let e in n)void 0===t[e]&&(t[e]=n[e])}return t}var Nr=()=>e=>Array.from(new Set(e));function Lr(...e){const t={};for(let n=0;n<e.length;n++){let r=e[n];if("function"==typeof r&&(r=r()),r){const n=Object.getOwnPropertyDescriptors(r);for(const r in n)r in t||Object.defineProperty(t,r,{enumerable:!0,get(){let t={};if("style"===r||"class"===r||"className"===r||r.startsWith("on")){for(let n=0;n<e.length;n++){let o=e[n];"function"==typeof o&&(o=o()),t=Rr(t,{[r]:(o||{})[r]})}return t[r]}for(let t=e.length-1;t>=0;t--){let n,o=e[t];if("function"==typeof o&&(o=o()),n=(o||{})[r],void 0!==n)return n}}})}}return t}var Dr=e=>!(null==e||"object"!=typeof e||(e=>Array.isArray(e))(e)),Mr=e=>"string"==typeof e,Br={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},Ur=e=>e.startsWith("--")?e:function(e){if(Gr.hasOwnProperty(e))return Gr[e];var t=e.replace(zr,Vr);return Gr[e]=Hr.test(t)?"-"+t:t}(e);var Fr,$r=(Fr=e=>{const t={};for(const r in e){const o=e[r];"readOnly"===r&&!1===o||("style"===r&&Dr(o)?t.style=jr(o):"children"!==r?t[(n=r,n in Br?Br[n]:n)]=o:Mr(o)&&(t.textContent=o))}var n;return t},new Proxy({},{get:()=>Fr}));function jr(e){let t={};for(const r in e){const o=e[r];!Mr(o)&&("number"!=typeof(n=o)||Number.isNaN(n))||(t[Ur(r)]=o)}var n;return t}var zr=/[A-Z]/g,Hr=/^ms-/;function Vr(e){return"-"+e.toLowerCase()}var Gr={};function Wr(e,t){const{actions:n,context:r}=t??{},[o,i]=sn(e.getState());return I((()=>{const t=e.subscribe((e=>{i(dn(e))}));P((()=>{t()}))})),E((()=>{const t="function"==typeof r?r():r;e.setContext(t)})),E((()=>{e.setOptions({actions:n})})),o}function qr(e,t){const n=function(e,t){const{state:n,context:r}=t??{},o=(()=>{const t="function"==typeof e?e():e,n="function"==typeof r?r():r;return n&&t.setContext(n),t._created(),t})();return I((()=>{o.start(n),P((()=>{o.stop()}))})),o}(e,t);return[Wr(n,t),n.send,n]}var Kr=(e,t=[])=>({parts:(...n)=>{if(Xr(t))return Kr(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Kr(e,[...t,...n]),rename:e=>Kr(e,t),keys:()=>t,build:()=>[...new Set(t)].reduce(((t,n)=>Object.assign(t,{[n]:{selector:[`&[data-scope="${Yr(e)}"][data-part="${Yr(n)}"]`,`& [data-scope="${Yr(e)}"][data-part="${Yr(n)}"]`].join(", "),attrs:{"data-scope":Yr(e),"data-part":Yr(n)}}})),{})}),Yr=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Xr=e=>0===e.length,Zr=e=>e?"":void 0,Jr=e=>"object"==typeof e&&null!==e,Qr=e=>Jr(e)&&1===e.nodeType&&"string"==typeof e.nodeName,eo=e=>Jr(e)&&9===e.nodeType,to=e=>(e=>Jr(e)&&void 0!==e.nodeType)(e)&&11===e.nodeType&&"host"in e;function no(e,t){return!(!e||!t)&&(!(!Qr(e)||!Qr(t))&&(e===t||e.contains(t)))}function ro(e){return eo(e)?e:(e=>Jr(e)&&e===e.window)(e)?e.document:e?.ownerDocument??document}function oo(e){return to(e)?oo(e.host):eo(e)?e.defaultView??window:Qr(e)?e.ownerDocument?.defaultView??window:window}var io=()=>"undefined"!=typeof document;var ao=e=>io()&&e.test(function(){const e=navigator.userAgentData;return e?.platform??navigator.platform}()),so=()=>{return e=/firefox\//i,io()&&e.test(navigator.userAgent);var e};function lo(e){const t=function(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}(e);return t?.[0]??e.target}function co(e){const t=e.currentTarget;if(!t)return!1;const n=ao(/mac|iphone|ipad|ipod/i);if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.localName;return"a"===r||("button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type)}function uo(e){const t=e.currentTarget;if(!t)return!1;const n=t.localName;return!!e.altKey&&("a"===n||("button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type))}var po=e=>e.id;function ho(e,t,n=po){const r=function(e,t,n=po){return e.find((e=>n(e)===t))}(e,t,n);return r?e.indexOf(r):-1}function go(e,t,n,r=po){const o=n?ho(e,n,r):-1;let i=n?((e,t)=>e.map(((n,r)=>e[(Math.max(t,0)+r)%e.length])))(e,o):e;return 1===t.length&&(i=i.filter((e=>r(e)!==n))),i.find((e=>{return n=(e=>(e.dataset.valuetext??e.textContent??"").split("").map((e=>{const t=e.charCodeAt(0);return t>0&&t<128?e:t>=128&&t<=255?`/x${t.toString(16)}`.replace("/","\\"):""})).join("").trim())(e),r=t,n.trim().toLowerCase().startsWith(r.toLowerCase());var n,r}))}function fo(e,t){const{state:n,activeId:r,key:o,timeout:i=350,itemToId:a}=t,s=n.keysSoFar+o,l=s.length>1&&Array.from(s).every((e=>e===s[0]))?s[0]:s;const c=go(e.slice(),l,r,a);function d(){clearTimeout(n.timer),n.timer=-1}return function e(t){n.keysSoFar=t,d(),""!==t&&(n.timer=+setTimeout((()=>{e(""),d()}),i))}(s),c}var mo=Object.assign(fo,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:function(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}});var bo=e=>"object"==typeof e&&null!==e&&1===e.nodeType;var yo="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function vo(e){return!(!e||e.closest("[inert]"))&&(e.matches(yo)&&(!!bo(t=e)&&(t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0)));var t}function wo(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(yo)),r=n.filter(xo);return r.forEach(((e,t)=>{if((e=>bo(e)&&"IFRAME"===e.tagName)(e)&&e.contentDocument){const n=wo(e.contentDocument.body);r.splice(t,1,...n)}})),!r.length&&t?n:r}function xo(e){return null!=e&&e.tabIndex>0||vo(e)&&!(parseInt(e.getAttribute("tabindex")||"0",10)<0)}function ko(e){const t=e.currentTarget;if(!t)return!1;const[n,r]=function(e,t){const n=wo(e,t);return[n[0]||null,n[n.length-1]||null]}(t),o=t.ownerDocument||document;return(o.activeElement!==n||!e.shiftKey)&&(!(o.activeElement===r&&!e.shiftKey)&&!(!n&&!r))}function To(e){if(null==e||!Qr(e))return!1;try{return e instanceof oo(e).HTMLInputElement&&null!=e.selectionStart||/(textarea|select)/.test(e.localName)||e.isContentEditable}catch{return!1}}var So=/auto|scroll|overlay|hidden|clip/;function Eo(e){const t=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(t)}}function Co(e,t){const{defer:n}=t,r=n?Eo:e=>e(),o=[];return o.push(r((()=>{const n="function"==typeof e?e():e;o.push(function(e,t){if(!e)return;const{attributes:n,callback:r}=t,o=new(e.ownerDocument.defaultView||window).MutationObserver((e=>{for(const t of e)"attributes"===t.type&&t.attributeName&&n.includes(t.attributeName)&&r(t)}));return o.observe(e,{attributes:!0,attributeFilter:n}),()=>o.disconnect()}(n,t))}))),()=>{o.forEach((e=>e?.()))}}function _o(e,t){return Array.from(e?.querySelectorAll(t)??[])}function Io(e){const t={getRootNode:e=>e.getRootNode?.()??document,getDoc:e=>ro(t.getRootNode(e)),getWin:e=>t.getDoc(e).defaultView??window,getActiveElement:e=>t.getRootNode(e).activeElement,isActiveElement:(e,n)=>n===t.getActiveElement(e),getById:(e,n)=>t.getRootNode(e).getElementById(n),setValue:(e,t)=>{if(null==e||null==t)return;const n=t.toString();e.value!==n&&(e.value=t.toString())}};return{...t,...e}}function Po(e,t){const{rootEl:n,...r}=t||{};e&&n&&function(e){const t=oo(e),{overflow:n,overflowX:r,overflowY:o,display:i}=t.getComputedStyle(e);return So.test(n+o+r)&&!["inline","contents"].includes(i)}(n)&&function(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}(n)&&e.scrollIntoView(r)}var Oo=new WeakMap;function Ao(e,t){if(!e)return()=>{};return function(e,t,n){Oo.has(e)||Oo.set(e,new Map);const r=Oo.get(e),o=r.get(t);if(!o)return r.set(t,n()),()=>{r.get(t)?.(),r.delete(t)};const i=n(),a=()=>{i(),o(),r.delete(t)};return r.set(t,a),()=>{r.get(t)===a&&(i(),r.set(t,o))}}(e,"style",(()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}))}var Ro=1e3/60;function No(e,t){const n=[];return e?.forEach((e=>{const r=function(e,t){const n=e();if(Qr(n)&&n.isConnected)return t(n),()=>{};{const n=setInterval((()=>{const r=e();Qr(r)&&r.isConnected&&(t(r),clearInterval(n))}),Ro);return()=>clearInterval(n)}}(e,t);n.push(r)})),()=>{n.forEach((e=>e()))}}var Lo=e=>"Array"===e?.constructor.name,Do=(e,t)=>{if(Object.is(e,t))return!0;if(null==e&&null!=t||null!=e&&null==t)return!1;if("function"==typeof e?.isEqual&&"function"==typeof t?.isEqual)return e.isEqual(t);if("function"==typeof e&&"function"==typeof t)return e.toString()===t.toString();if(Lo(e)&&Lo(t))return((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Do(e[n],t[n]))return!1;return!0})(Array.from(e),Array.from(t));if("object"!=typeof e||"object"!=typeof t)return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let t=0;t<r;t++){if(!Reflect.has(e,n[t]))return!1}for(let o=0;o<r;o++){const r=n[o];if(!Do(e[r],t[r]))return!1}return!0},Mo=(e,...t)=>("function"==typeof e?e(...t):e)??void 0,Bo=()=>{},Uo=(...e)=>(...t)=>{e.forEach((function(e){e?.(...t)}))},Fo=(()=>{let e=0;return()=>(e++,e.toString(36))})(),$o=e=>"number"==typeof e&&!Number.isNaN(e),jo=e=>"function"==typeof e;function zo(e){if(!Ho(e)||void 0===e)return e;const t=Reflect.ownKeys(e).filter((e=>"string"==typeof e)),n={};for(const r of t){const t=e[r];void 0!==t&&(n[r]=zo(t))}return n}var Ho=e=>e&&"object"==typeof e&&e.constructor===Object;function Vo(...e){1===e.length?e[0]:e[1],2!==e.length||e[0]}var Go=(e,t,n,r)=>{const o="function"==typeof e?e():e;return o?.addEventListener(t,n,r),()=>{o?.removeEventListener(t,n,r)}};var Wo=e=>2===e.button||ao(/^Mac/)&&e.ctrlKey&&0===e.button;function qo(e,t,n){const r=(e=>{const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,o,!0),n()})),o=()=>{r(),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r}function Ko(e,t,n){if(!e)return;const r=new(e.ownerDocument.defaultView||window).CustomEvent(t,n);return e.dispatchEvent(r)}var Yo={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Xo={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Zo(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let{key:o}=e;o=Yo[o]??o;return"rtl"===n&&"horizontal"===r&&o in Xo&&(o=Xo[o]),o}function Jo(e,t="client"){return(e=>"touches"in e&&e.touches.length>0)(e)?function(e,t="client"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}(e,t):function(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}(e,t)}function Qo(e){return Math.max(0,Math.min(1,e))}function ei(e,t){const{left:n,top:r,width:o,height:i}=t.getBoundingClientRect(),a={x:e.x-n,y:e.y-r},s={x:Qo(a.x/o),y:Qo(a.y/i)};return{offset:a,percent:s,getPercentValue:function(e={}){const{dir:t="ltr",orientation:n="horizontal",inverted:r}=e,o="object"==typeof r?r.x:r,i="object"==typeof r?r.y:r;return"horizontal"===n?"rtl"===t||o?1-s.x:s.x:i?1-s.y:s.y}}}var ti=Kr("carousel").parts("root","viewport","itemGroup","item","nextTrigger","prevTrigger","indicatorGroup","indicator");ti.build();var ni=Io({getRootId:e=>e.ids?.root??`carousel:${e.id}`,getViewportId:e=>e.ids?.viewport??`carousel:${e.id}:viewport`,getItemId:(e,t)=>e.ids?.item?.(t)??`carousel:${e.id}:item:${t}`,getItemGroupId:e=>e.ids?.itemGroup??`carousel:${e.id}:item-group`,getNextTriggerId:e=>e.ids?.nextTrigger??`carousel:${e.id}:next-trigger`,getPrevTriggerId:e=>e.ids?.prevTrigger??`carousel:${e.id}:prev-trigger`,getIndicatorGroupId:e=>e.ids?.indicatorGroup??`carousel:${e.id}:indicator-group`,getIndicatorId:(e,t)=>e.ids?.indicator?.(t)??`carousel:${e.id}:indicator:${t}`,getRootEl:e=>ni.getById(e,ni.getRootId(e)),getViewportEl:e=>ni.getById(e,ni.getViewportId(e)),getSlideGroupEl:e=>ni.getById(e,ni.getItemGroupId(e)),getSlideEls:e=>_o(ni.getSlideGroupEl(e),"[data-part=item]")});Nr()(["align","dir","getRootNode","id","ids","index","loop","onIndexChange","orientation","slidesPerView","spacing"]),Nr()(["index","readOnly"]);var ri=Kr("checkbox").parts("root","label","control","indicator");ri.build();var oi=Io({getRootId:e=>e.ids?.root??`checkbox:${e.id}`,getLabelId:e=>e.ids?.label??`checkbox:${e.id}:label`,getControlId:e=>e.ids?.control??`checkbox:${e.id}:control`,getHiddenInputId:e=>e.ids?.hiddenInput??`checkbox:${e.id}:input`,getRootEl:e=>oi.getById(e,oi.getRootId(e)),getHiddenInputEl:e=>oi.getById(e,oi.getHiddenInputId(e))});Nr()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const ii=Math.min,ai=Math.max,si=Math.round,li=Math.floor,ci=e=>({x:e,y:e}),di={left:"right",right:"left",bottom:"top",top:"bottom"},ui={start:"end",end:"start"};function pi(e,t,n){return ai(e,ii(t,n))}function hi(e,t){return"function"==typeof e?e(t):e}function gi(e){return e.split("-")[0]}function fi(e){return e.split("-")[1]}function mi(e){return"x"===e?"y":"x"}function bi(e){return"y"===e?"height":"width"}function yi(e){return["top","bottom"].includes(gi(e))?"y":"x"}function vi(e){return mi(yi(e))}function wi(e){return e.replace(/start|end/g,(e=>ui[e]))}function xi(e){return e.replace(/left|right|bottom|top/g,(e=>di[e]))}function ki(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ti(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Si(e,t,n){let{reference:r,floating:o}=e;const i=yi(t),a=vi(t),s=bi(a),l=gi(t),c="y"===i,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let h;switch(l){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-o.width,y:u};break;default:h={x:r.x,y:r.y}}switch(fi(t)){case"start":h[a]-=p*(n&&c?-1:1);break;case"end":h[a]+=p*(n&&c?-1:1)}return h}async function Ei(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:h=0}=hi(t,e),g=ki(h),f=s[p?"floating"===u?"reference":"floating":u],m=Ti(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(f)))||n?f:f.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),b="floating"===u?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),v=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=Ti(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(m.top-w.top+g.top)/v.y,bottom:(w.bottom-m.bottom+g.bottom)/v.y,left:(m.left-w.left+g.left)/v.x,right:(w.right-m.right+g.right)/v.x}}function Ci(){return"undefined"!=typeof window}function _i(e){return Oi(e)?(e.nodeName||"").toLowerCase():"#document"}function Ii(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Pi(e){var t;return null==(t=(Oi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Oi(e){return!!Ci()&&(e instanceof Node||e instanceof Ii(e).Node)}function Ai(e){return!!Ci()&&(e instanceof Element||e instanceof Ii(e).Element)}function Ri(e){return!!Ci()&&(e instanceof HTMLElement||e instanceof Ii(e).HTMLElement)}function Ni(e){return!(!Ci()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ii(e).ShadowRoot)}function Li(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=$i(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Di(e){return["table","td","th"].includes(_i(e))}function Mi(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Bi(e){const t=Ui(),n=Ai(e)?$i(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Ui(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Fi(e){return["html","body","#document"].includes(_i(e))}function $i(e){return Ii(e).getComputedStyle(e)}function ji(e){return Ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if("html"===_i(e))return e;const t=e.assignedSlot||e.parentNode||Ni(e)&&e.host||Pi(e);return Ni(t)?t.host:t}function Hi(e){const t=zi(e);return Fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ri(t)&&Li(t)?t:Hi(t)}function Vi(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Hi(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Ii(o);if(i){const e=Gi(a);return t.concat(a,a.visualViewport||[],Li(o)?o:[],e&&n?Vi(e):[])}return t.concat(o,Vi(o,[],n))}function Gi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wi(e){const t=$i(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ri(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=si(n)!==i||si(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function qi(e){return Ai(e)?e:e.contextElement}function Ki(e){const t=qi(e);if(!Ri(t))return ci(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Wi(t);let a=(i?si(n.width):n.width)/r,s=(i?si(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Yi=ci(0);function Xi(e){const t=Ii(e);return Ui()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Yi}function Zi(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=qi(e);let a=ci(1);t&&(r?Ai(r)&&(a=Ki(r)):a=Ki(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ii(e))&&t}(i,n,r)?Xi(i):ci(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,d=o.width/a.x,u=o.height/a.y;if(i){const e=Ii(i),t=r&&Ai(r)?Ii(r):r;let n=e,o=Gi(n);for(;o&&r&&t!==n;){const e=Ki(o),t=o.getBoundingClientRect(),r=$i(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=a,n=Ii(o),o=Gi(n)}}return Ti({width:d,height:u,x:l,y:c})}function Ji(e){return Zi(Pi(e)).left+ji(e).scrollLeft}function Qi(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ii(e),r=Pi(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=Ui();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Pi(e),n=ji(e),r=e.ownerDocument.body,o=ai(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ai(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ji(e);const s=-n.scrollTop;return"rtl"===$i(r).direction&&(a+=ai(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(Pi(e));else if(Ai(t))r=function(e,t){const n=Zi(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ri(e)?Ki(e):ci(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Xi(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return Ti(r)}function ea(e,t){const n=zi(e);return!(n===t||!Ai(n)||Fi(n))&&("fixed"===$i(n).position||ea(n,t))}function ta(e,t,n){const r=Ri(t),o=Pi(t),i="fixed"===n,a=Zi(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=ci(0);if(r||!r&&!i)if(("body"!==_i(t)||Li(o))&&(s=ji(t)),r){const e=Zi(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=Ji(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function na(e){return"static"===$i(e).position}function ra(e,t){return Ri(e)&&"fixed"!==$i(e).position?t?t(e):e.offsetParent:null}function oa(e,t){const n=Ii(e);if(Mi(e))return n;if(!Ri(e)){let t=zi(e);for(;t&&!Fi(t);){if(Ai(t)&&!na(t))return t;t=zi(t)}return n}let r=ra(e,t);for(;r&&Di(r)&&na(r);)r=ra(r,t);return r&&Fi(r)&&na(r)&&!Bi(r)?n:r||function(e){let t=zi(e);for(;Ri(t)&&!Fi(t);){if(Bi(t))return t;if(Mi(t))return null;t=zi(t)}return null}(e)||n}const ia={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=Pi(r),s=!!t&&Mi(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ci(1);const d=ci(0),u=Ri(r);if((u||!u&&!i)&&(("body"!==_i(r)||Li(a))&&(l=ji(r)),Ri(r))){const e=Zi(r);c=Ki(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}},getDocumentElement:Pi,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?Mi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Vi(e,[],!1).filter((e=>Ai(e)&&"body"!==_i(e))),o=null;const i="fixed"===$i(e).position;let a=i?zi(e):e;for(;Ai(a)&&!Fi(a);){const t=$i(a),n=Bi(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Li(a)&&!n&&ea(e,a))?r=r.filter((e=>e!==a)):o=t,a=zi(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a[0],l=a.reduce(((e,n)=>{const r=Qi(t,n,o);return e.top=ai(r.top,e.top),e.right=ii(r.right,e.right),e.bottom=ii(r.bottom,e.bottom),e.left=ai(r.left,e.left),e}),Qi(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:oa,getElementRects:async function(e){const t=this.getOffsetParent||oa,n=this.getDimensions,r=await n(e.floating);return{reference:ta(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Wi(e);return{width:t,height:n}},getScale:Ki,isElement:Ai,isRTL:function(e){return"rtl"===$i(e).direction}};function aa(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=qi(e),d=o||i?[...c?Vi(c):[],...Vi(t)]:[];d.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const u=c&&s?function(e,t){let n,r=null;const o=Pi(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const{left:c,top:d,width:u,height:p}=e.getBoundingClientRect();if(s||t(),!u||!p)return;const h={rootMargin:-li(d)+"px "+-li(o.clientWidth-(c+u))+"px "+-li(o.clientHeight-(d+p))+"px "+-li(c)+"px",threshold:ai(0,ii(1,l))||1};let g=!0;function f(e){const t=e[0].intersectionRatio;if(t!==l){if(!g)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}g=!1}try{r=new IntersectionObserver(f,{...h,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(f,h)}r.observe(e)}(!0),i}(c,n):null;let p,h=-1,g=null;a&&(g=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),c&&!l&&g.observe(c),g.observe(t));let f=l?Zi(e):null;return l&&function t(){const r=Zi(e);!f||r.x===f.x&&r.y===f.y&&r.width===f.width&&r.height===f.height||n();f=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(p)}}const sa=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=gi(n),s=fi(n),l="y"===yi(n),c=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,u=hi(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&"number"==typeof g&&(h="end"===s?-1*g:g),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},la=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=hi(e,t),c={x:n,y:r},d=await Ei(t,l),u=yi(gi(o)),p=mi(u);let h=c[p],g=c[u];if(i){const e="y"===p?"bottom":"right";h=pi(h+d["y"===p?"top":"left"],h,h-d[e])}if(a){const e="y"===u?"bottom":"right";g=pi(g+d["y"===u?"top":"left"],g,g-d[e])}const f=s.fn({...t,[p]:h,[u]:g});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[p]:i,[u]:a}}}}}},ca=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...m}=hi(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const b=gi(o),y=yi(s),v=gi(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=p||(v||!f?[xi(s)]:function(e){const t=xi(e);return[wi(e),t,wi(t)]}(s)),k="none"!==g;!p&&k&&x.push(...function(e,t,n,r){const o=fi(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(gi(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(wi)))),i}(s,f,g,w));const T=[s,...x],S=await Ei(t,m),E=[];let C=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&E.push(S[b]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=fi(e),o=vi(e),i=bi(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=xi(a)),[a,xi(a)]}(o,a,w);E.push(S[e[0]],S[e[1]])}if(C=[...C,{placement:o,overflows:E}],!E.every((e=>e<=0))){var _,I;const e=((null==(_=i.flip)?void 0:_.index)||0)+1,t=T[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(I=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:I.placement;if(!n)switch(h){case"bestFit":{var P;const e=null==(P=C.filter((e=>{if(k){const t=yi(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},da=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...c}=hi(e,t),d=await Ei(t,c),u=gi(o),p=fi(o),h="y"===yi(o),{width:g,height:f}=i.floating;let m,b;"top"===u||"bottom"===u?(m=u,b=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=u,m="end"===p?"top":"bottom");const y=f-d.top-d.bottom,v=g-d.left-d.right,w=ii(f-d[m],y),x=ii(g-d[b],v),k=!t.middlewareData.shift;let T=w,S=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=v),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(T=y),k&&!p){const e=ai(d.left,0),t=ai(d.right,0),n=ai(d.top,0),r=ai(d.bottom,0);h?S=g-2*(0!==e||0!==t?e+t:ai(d.left,d.right)):T=f-2*(0!==n||0!==r?n+r:ai(d.top,d.bottom))}await l({...t,availableWidth:S,availableHeight:T});const E=await a.getDimensions(s.floating);return g!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}},ua=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=hi(e,t)||{};if(null==c)return{};const u=ki(d),p={x:n,y:r},h=vi(o),g=bi(h),f=await a.getDimensions(c),m="y"===h,b=m?"top":"left",y=m?"bottom":"right",v=m?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[h]-p[h]-i.floating[g],x=p[h]-i.reference[h],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let T=k?k[v]:0;T&&await(null==a.isElement?void 0:a.isElement(k))||(T=s.floating[v]||i.floating[g]);const S=w/2-x/2,E=T/2-f[g]/2-1,C=ii(u[b],E),_=ii(u[y],E),I=C,P=T-f[g]-_,O=T/2-f[g]/2+S,A=pi(I,O,P),R=!l.arrow&&null!=fi(o)&&O!==A&&i.reference[g]/2-(O<I?C:_)-f[g]/2<0,N=R?O<I?O-I:O-P:0;return{[h]:p[h]+N,data:{[h]:A,centerOffset:O-A-N,...R&&{alignmentOffset:N}},reset:R}}}),pa=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=hi(e,t),d={x:n,y:r},u=yi(o),p=mi(u);let h=d[p],g=d[u];const f=hi(s,t),m="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const e="y"===p?"height":"width",t=i.reference[p]-i.floating[e]+m.mainAxis,n=i.reference[p]+i.reference[e]-m.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var b,y;const e="y"===p?"width":"height",t=["top","left"].includes(gi(o)),n=i.reference[u]-i.floating[e]+(t&&(null==(b=a.offset)?void 0:b[u])||0)+(t?0:m.crossAxis),r=i.reference[u]+i.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[u])||0)-(t?m.crossAxis:0);g<n?g=n:g>r&&(g=r)}return{[p]:h,[u]:g}}}},ha=(e,t,n)=>{const r=new Map,o={platform:ia,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=Si(c,r,l),p=r,h={},g=0;for(let n=0;n<s.length;n++){const{name:i,fn:f}=s[n],{x:m,y:b,data:y,reset:v}=await f({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=b?b:u,h={...h,[i]:{...h[i],...y}},v&&g<=50&&(g++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(c=!0===v.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):v.rects),({x:d,y:u}=Si(c,p,l))),n=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:h}})(e,t,{...o,platform:i})};function ga(e=0,t=0,n=0,r=0){if("function"==typeof DOMRect)return new DOMRect(e,t,n,r);const o={x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:t+r,left:e};return{...o,toJSON:()=>o}}function fa(e,t){return{contextElement:Qr(e)?e:void 0,getBoundingClientRect:()=>{const n=e,r=t?.(n);return r||!n?function(e){if(!e)return ga();const{x:t,y:n,width:r,height:o}=e;return ga(t,n,r,o)}(r):n.getBoundingClientRect()}}}var ma=e=>({variable:e,reference:`var(${e})`}),ba={arrowSize:ma("--arrow-size"),arrowSizeHalf:ma("--arrow-size-half"),arrowBg:ma("--arrow-background"),transformOrigin:ma("--transform-origin"),arrowOffset:ma("--arrow-offset")},ya={name:"transformOrigin",fn({placement:e,elements:t,middlewareData:n}){const{arrow:r}=n,o=(e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}))(r)[e],{floating:i}=t;return i.style.setProperty(ba.transformOrigin.variable,o),{data:{transformOrigin:o}}}},va={name:"rects",fn:({rects:e})=>({data:e})},wa=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:o}=n.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:null!=r?`${r}px`:"",top:null!=o?`${o}px`:"",[i]:`calc(100% + ${ba.arrowOffset.reference})`}),{}}}};var xa={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function ka(e,t){const n=e.devicePixelRatio||1;return Math.round(t*n)/n}function Ta(e){return Mo(e.boundary)}function Sa(e,t){if(e)return ua({element:e,padding:t.arrowPadding})}function Ea(e,t){if(null!=(t.offset??t.gutter))return sa((({placement:n})=>{const r=(e?.clientHeight||0)/2,o=t.offset?.mainAxis??t.gutter,i="number"==typeof o?o+r:o??r,{hasAlign:a}=function(e){const[t,n]=e.split("-");return{side:t,align:n,hasAlign:null!=n}}(n),s=a?void 0:t.shift;return zo({crossAxis:t.offset?.crossAxis??s,mainAxis:i,alignmentAxis:t.shift})}))}function Ca(e){if(e.flip)return ca({boundary:Ta(e),padding:e.overflowPadding,fallbackPlacements:!0===e.flip?void 0:e.flip})}function _a(e){if(e.slide||e.overlap)return la({boundary:Ta(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:pa()})}function Ia(e){return da({padding:e.overflowPadding,apply({elements:e,rects:t,availableHeight:n,availableWidth:r}){const o=e.floating,i=Math.round(t.reference.width);r=Math.floor(r),n=Math.floor(n),o.style.setProperty("--reference-width",`${i}px`),o.style.setProperty("--available-width",`${r}px`),o.style.setProperty("--available-height",`${n}px`)}})}function Pa(e,t,n={}){const{defer:r,...o}=n,i=r?Eo:e=>e(),a=[];return a.push(i((()=>{const n="function"==typeof e?e():e,r="function"==typeof t?t():t;a.push(function(e,t,n={}){const r=fa(e,n.getAnchorRect);if(!t||!r)return;const o=Object.assign({},xa,n),i=t.querySelector("[data-part=arrow]"),a=[Ea(i,o),Ca(o),_a(o),Sa(i,o),wa(i),ya,Ia(o),va],{placement:s,strategy:l,onComplete:c,onPositioned:d}=o,u=async()=>{if(!r||!t)return;const e=await ha(r,t,{placement:s,middleware:a,strategy:l});c?.(e),d?.({placed:!0});const n=oo(t),o=ka(n,e.x),i=ka(n,e.y);t.style.setProperty("--x",`${o}px`),t.style.setProperty("--y",`${i}px`);const u=t.firstElementChild;if(u){const e=n.getComputedStyle(u).zIndex;t.style.setProperty("--z-index",e)}},p=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:u}),d?.({placed:!0})):await u()},h=function(e){return e?!0===e?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}(o.listeners),g=o.listeners?aa(r,t,p,h):Bo;return p(),()=>{g?.(),d?.({placed:!1})}}(n,r,o))}))),()=>{a.forEach((e=>e?.()))}}var Oa={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};var Aa="pointerdown.outside",Ra="focus.outside";function Na(e){for(const t of e)if(Qr(t)&&vo(t))return!0;return!1}var La=e=>"clientY"in e;function Da(e,t){const{exclude:n,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:a}=t;if(!e)return;const s=ro(e),l=function(e){const t={each(t){for(let n=0;n<e.frames?.length;n+=1){const r=e.frames[n];r&&t(r)}},queueBeforeEvent(e,n){const r=new Set;return t.each((t=>{try{r.add(qo(t.document,e,n))}catch{}})),()=>{try{r.forEach((e=>e()))}catch{}}},addEventListener:(e,n,r)=>(t.each((t=>{try{t.document.addEventListener(e,n,r)}catch{}})),()=>{try{t.removeEventListener(e,n,r)}catch{}}),removeEventListener(e,n,r){t.each((t=>{try{t.document.removeEventListener(e,n,r)}catch{}}))}};return t}(oo(e));function c(t){const r=lo(t);return!!Qr(r)&&(!no(e,r)&&(!function(e,t){if(!La(t)||!e)return!1;const n=e.getBoundingClientRect();return 0!==n.width&&0!==n.height&&n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}(e,t)&&(!function(e){const t=lo(e);if(!t||!La(e))return!1;const n=t.scrollHeight>t.clientHeight&&e.clientX>t.clientWidth,r=t.scrollWidth>t.clientWidth&&e.clientY>t.clientHeight;return n||r}(t)&&!n?.(r))))}const d=new Set;function u(t){function n(){const n=a?Eo:e=>e(),r=t.composedPath?.()??[t.target];n((()=>{if(e&&c(t)){if(o||i){const t=Uo(o,i);e.addEventListener(Aa,t,{once:!0})}Ko(e,Aa,{bubbles:!1,cancelable:!0,detail:{originalEvent:t,contextmenu:Wo(t),focusable:Na(r)}})}}))}"touch"===t.pointerType?(d.forEach((e=>e())),d.add(qo(s,"pointerup",n)),d.add(l.queueBeforeEvent("pointerup",n))):n()}const p=new Set,h=setTimeout((()=>{p.add(l.addEventListener("pointerdown",u,!0)),p.add(Go(s,"pointerdown",u,!0))}),0);function g(t){(a?Eo:e=>e())((()=>{if(e&&c(t)){if(r||i){const t=Uo(r,i);e.addEventListener(Ra,t,{once:!0})}Ko(e,Ra,{bubbles:!1,cancelable:!0,detail:{originalEvent:t,contextmenu:!1,focusable:vo(lo(t))}})}}))}return p.add(Go(s,"focusin",g,!0)),p.add(l.addEventListener("focusin",g,!0)),()=>{clearTimeout(h),d.forEach((e=>e())),p.forEach((e=>e()))}}function Ma(e,t){const{defer:n}=t,r=n?Eo:e=>e(),o=[];return o.push(r((()=>{const n="function"==typeof e?e():e;o.push(Da(n,t))}))),()=>{o.forEach((e=>e?.()))}}function Ba(e,t){return Go(ro(e),"keydown",(e=>{"Escape"===e.key&&(e.isComposing||t?.(e))}),{capture:!0})}var Ua,Fa={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter((e=>e.pointerBlocking))},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){return this.indexOf(e)<(this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1)},isTopMost(e){const t=this.layers[this.count()-1];return t?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,t){return this.getNestedLayers(e).some((e=>no(e.node,t)))},isInBranch(e){return Array.from(this.branches).some((t=>no(t,e)))},add(e){const t=this.layers.push(e);e.node.style.setProperty("--layer-index",`${t}`)},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);if(!(t<0)){if(t<this.count()-1){this.getNestedLayers(e).forEach((e=>e.dismiss()))}this.layers.splice(t,1),e.style.removeProperty("--layer-index")}},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},indexOf(e){return this.layers.findIndex((t=>t.node===e))},dismiss(e){this.layers[this.indexOf(e)]?.dismiss()},clear(){this.remove(this.layers[0].node)}};function $a(){Fa.layers.forEach((({node:e})=>{e.style.pointerEvents=Fa.isBelowPointerBlockingLayer(e)?"none":"auto"}))}function ja(e,t){const n=ro(e),r=[];if(Fa.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Ua=document.body.style.pointerEvents,queueMicrotask((()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")}))),t){const e=No(t,(e=>{r.push(Ao(e,{pointerEvents:"auto"}))}));r.push(e)}return()=>{Fa.hasPointerBlockingLayer()||(queueMicrotask((()=>{n.body.style.pointerEvents=Ua,n.body.removeAttribute("data-inert"),0===n.body.style.length&&n.body.removeAttribute("style")})),r.forEach((e=>e())))}}function za(e,t){const{defer:n}=t,r=n?Eo:e=>e(),o=[];return o.push(r((()=>{const n=jo(e)?e():e;o.push(function(e,t){if(!e)return void Vo("[@zag-js/dismissable] node is `null` or `undefined`");const{onDismiss:n,pointerBlocking:r,exclude:o,debug:i}=t,a={dismiss:n,node:e,pointerBlocking:r};Fa.add(a),$a();const s=[r?ja(e,t.persistentElements):void 0,Ba(e,(function(r){Fa.isTopMost(e)&&(t.onEscapeKeyDown?.(r),!r.defaultPrevented&&n&&(r.preventDefault(),n()))})),Ma(e,{exclude:function(n){if(!e)return!1;const r="function"==typeof o?o():o,i=Array.isArray(r)?r:[r],a=t.persistentElements?.map((e=>e())).filter(Qr);return a&&i.push(...a),i.some((e=>no(e,n)))||Fa.isInNestedLayer(e,n)},onFocusOutside:function(e){const r=lo(e.detail.originalEvent);Fa.isInBranch(r)||(t.onFocusOutside?.(e),t.onInteractOutside?.(e),e.defaultPrevented||(i&&console.log("onFocusOutside:",e.detail.originalEvent),n?.()))},onPointerDownOutside:function(r){const o=lo(r.detail.originalEvent);Fa.isBelowPointerBlockingLayer(e)||Fa.isInBranch(o)||(t.onPointerDownOutside?.(r),t.onInteractOutside?.(r),r.defaultPrevented||(i&&console.log("onPointerDownOutside:",r.detail.originalEvent),n?.()))},defer:t.defer})];return()=>{Fa.remove(e),$a(),function(e){e.style.pointerEvents=""}(e),s.forEach((e=>e?.()))}}(n,t))}))),()=>{o.forEach((e=>e?.()))}}var Ha=Kr("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);Ha.build();var Va=Io({getRootId:e=>e.ids?.root??`color-picker:${e.id}`,getLabelId:e=>e.ids?.label??`color-picker:${e.id}:label`,getHiddenInputId:e=>e.ids?.hiddenInput??`color-picker:${e.id}:hidden-input`,getControlId:e=>e.ids?.control??`color-picker:${e.id}:control`,getTriggerId:e=>e.ids?.trigger??`color-picker:${e.id}:trigger`,getContentId:e=>e.ids?.content??`color-picker:${e.id}:content`,getPositionerId:e=>e.ids?.positioner??`color-picker:${e.id}:positioner`,getFormatSelectId:e=>e.ids?.formatSelect??`color-picker:${e.id}:format-select`,getAreaId:e=>e.ids?.area??`color-picker:${e.id}:area`,getAreaGradientId:e=>e.ids?.areaGradient??`color-picker:${e.id}:area-gradient`,getAreaThumbId:e=>e.ids?.areaThumb??`color-picker:${e.id}:area-thumb`,getChannelSliderTrackId:(e,t)=>e.ids?.channelSliderTrack?.(t)??`color-picker:${e.id}:slider-track:${t}`,getChannelSliderThumbId:(e,t)=>e.ids?.channelSliderThumb?.(t)??`color-picker:${e.id}:slider-thumb:${t}`,getContentEl:e=>Va.getById(e,Va.getContentId(e)),getAreaThumbEl:e=>Va.getById(e,Va.getAreaThumbId(e)),getChannelSliderThumbEl:(e,t)=>Va.getById(e,Va.getChannelSliderThumbId(e,t)),getChannelInputEl:(e,t)=>{const n=`input[data-channel="${t}"]`;return[..._o(Va.getContentEl(e),n),..._o(Va.getControlEl(e),n)]},getFormatSelectEl:e=>Va.getById(e,Va.getFormatSelectId(e)),getHiddenInputEl:e=>Va.getById(e,Va.getHiddenInputId(e)),getAreaEl:e=>Va.getById(e,Va.getAreaId(e)),getAreaValueFromPoint(e,t){const n=Va.getAreaEl(e);if(!n)return;const{percent:r}=ei(t,n);return r},getControlEl:e=>Va.getById(e,Va.getControlId(e)),getTriggerEl:e=>Va.getById(e,Va.getTriggerId(e)),getPositionerEl:e=>Va.getById(e,Va.getPositionerId(e)),getChannelSliderTrackEl:(e,t)=>Va.getById(e,Va.getChannelSliderTrackId(e,t)),getChannelSliderValueFromPoint(e,t,n){const r=Va.getChannelSliderTrackEl(e,n);if(!r)return;const{percent:o}=ei(t,r);return o},getChannelInputEls:e=>[..._o(Va.getContentEl(e),"input[data-channel]"),..._o(Va.getControlEl(e),"input[data-channel]")]});function Ga(e){return e?.animationName||"none"}Nr()(["onExitComplete","present","immediate"]);var Wa=new WeakMap,qa=[];function Ka(e,t={}){const{defer:n}=t,r=n?Eo:e=>e(),o=[];return o.push(r((()=>{const n="function"==typeof e?e():e;o.push(function(e,t={}){const{rootEl:n}=t,r=e.filter(Boolean);if(0===r.length)return;const o=r[0].ownerDocument||document,i=o.defaultView??window,a=new Set(r),s=new Set,l=n??o.body;let c=e=>{for(let t of e.querySelectorAll("[data-live-announcer], [data-zag-top-layer]"))a.add(t);let t=e=>{if(a.has(e)||s.has(e.parentElement)&&"row"!==e.parentElement.getAttribute("role"))return NodeFilter.FILTER_REJECT;for(let t of a)if(e.contains(t))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},n=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t}),r=t(e);if(r===NodeFilter.FILTER_ACCEPT&&d(e),r!==NodeFilter.FILTER_REJECT){let e=n.nextNode();for(;null!=e;)d(e),e=n.nextNode()}},d=e=>{let t=Wa.get(e)??0;"true"===e.getAttribute("aria-hidden")&&0===t||(0===t&&e.setAttribute("aria-hidden","true"),s.add(e),Wa.set(e,t+1))};qa.length&&qa[qa.length-1].disconnect(),c(l);const u=new i.MutationObserver((e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...a,...s].some((e=>e.contains(t.target)))){for(let e of t.removedNodes)e instanceof i.Element&&(a.delete(e),s.delete(e));for(let e of t.addedNodes)!(e instanceof i.HTMLElement||e instanceof i.SVGElement)||"true"!==e.dataset.liveAnnouncer&&"true"!==e.dataset.zagTopLayer?e instanceof i.Element&&c(e):a.add(e)}}));u.observe(l,{childList:!0,subtree:!0});let p={observe(){u.observe(l,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return qa.push(p),()=>{u.disconnect();for(let e of s){let t=Wa.get(e);1===t?(e.removeAttribute("aria-hidden"),Wa.delete(e)):Wa.set(e,t-1)}p===qa[qa.length-1]?(qa.pop(),qa.length&&qa[qa.length-1].observe()):qa.splice(qa.indexOf(p),1)}}(n,t))}))),()=>{o.forEach((e=>e?.()))}}var Ya=Kr("date-picker").parts("root","label","clearTrigger","content","control","input","monthSelect","nextTrigger","positioner","prevTrigger","rangeText","table","tableBody","tableCell","tableCellTrigger","tableHead","tableHeader","tableRow","trigger","viewTrigger","viewControl","yearSelect","presetTrigger");Ya.build();var Xa=Io({getLabelId:(e,t)=>e.ids?.label?.(t)??`datepicker:${e.id}:label:${t}`,getRootId:e=>e.ids?.root??`datepicker:${e.id}`,getTableId:(e,t)=>e.ids?.table?.(t)??`datepicker:${e.id}:table:${t}`,getTableHeaderId:(e,t)=>e.ids?.tableHeader?.(t)??`datepicker:${e.id}:thead`,getTableBodyId:(e,t)=>e.ids?.tableBody?.(t)??`datepicker:${e.id}:tbody`,getTableRowId:(e,t)=>e.ids?.tableRow?.(t)??`datepicker:${e.id}:tr:${t}`,getContentId:e=>e.ids?.content??`datepicker:${e.id}:content`,getCellTriggerId:(e,t)=>e.ids?.cellTrigger?.(t)??`datepicker:${e.id}:cell-trigger:${t}`,getPrevTriggerId:(e,t)=>e.ids?.prevTrigger?.(t)??`datepicker:${e.id}:prev:${t}`,getNextTriggerId:(e,t)=>e.ids?.nextTrigger?.(t)??`datepicker:${e.id}:next:${t}`,getViewTriggerId:(e,t)=>e.ids?.viewTrigger?.(t)??`datepicker:${e.id}:view:${t}`,getClearTriggerId:e=>e.ids?.clearTrigger??`datepicker:${e.id}:clear`,getControlId:e=>e.ids?.control??`datepicker:${e.id}:control`,getInputId:(e,t)=>e.ids?.input?.(t)??`datepicker:${e.id}:input:${t}`,getTriggerId:e=>e.ids?.trigger??`datepicker:${e.id}:trigger`,getPositionerId:e=>e.ids?.positioner??`datepicker:${e.id}:positioner`,getMonthSelectId:e=>e.ids?.monthSelect??`datepicker:${e.id}:month-select`,getYearSelectId:e=>e.ids?.yearSelect??`datepicker:${e.id}:year-select`,getFocusedCell:(e,t=e.view)=>{return n=Xa.getContentEl(e),r=`[data-part=table-cell-trigger][data-view=${t}][data-focus]:not([data-outside-range])`,n?.querySelector(r)??null;var n,r},getTriggerEl:e=>Xa.getById(e,Xa.getTriggerId(e)),getContentEl:e=>Xa.getById(e,Xa.getContentId(e)),getInputEls:e=>_o(Xa.getControlEl(e),"[data-part=input]"),getYearSelectEl:e=>Xa.getById(e,Xa.getYearSelectId(e)),getMonthSelectEl:e=>Xa.getById(e,Xa.getMonthSelectId(e)),getClearTriggerEl:e=>Xa.getById(e,Xa.getClearTriggerId(e)),getPositionerEl:e=>Xa.getById(e,Xa.getPositionerId(e)),getControlEl:e=>Xa.getById(e,Xa.getControlId(e))});Nr()(["closeOnSelect","dir","disabled","fixedWeeks","focusedValue","format","getRootNode","id","ids","isDateUnavailable","isDateUnavailable","locale","max","min","modal","name","numOfMonths","onFocusChange","onOpenChange","onValueChange","onViewChange","open","open.controlled","positioning","readOnly","selectionMode","startOfWeek","timeZone","translations","value","view"]),Nr()(["index"]),Nr()(["value"]),Nr()(["columns","id","view"]),Nr()(["disabled","value","columns"]),Nr()(["view"]);var Za="data-zag-scroll-lock";function Ja(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Qa(e){const t=e??document,n=t.defaultView??window,{documentElement:r,body:o}=t;if(o.hasAttribute(Za))return;o.setAttribute(Za,"");const i=n.innerWidth-r.clientWidth,a=function(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}(r),s=[function(e,t,n){if(!e)return;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{r?e.style.setProperty(t,r):e.style.removeProperty(t)}}(r,"--scrollbar-width",`${i}px`),ao(/iP(hone|ad|od)|iOS/)?(()=>{const{scrollX:e,scrollY:t,visualViewport:r}=n,s=r?.offsetLeft??0,l=r?.offsetTop??0,c=Ja(o,{position:"fixed",overflow:"hidden",top:-(t-Math.floor(l))+"px",left:-(e-Math.floor(s))+"px",right:"0",[a]:`${i}px`});return()=>{c?.(),n.scrollTo({left:e,top:t,behavior:"instant"})}})():Ja(o,{overflow:"hidden",[a]:`${i}px`})];return()=>{s.forEach((e=>e?.())),o.removeAttribute(Za)}}
/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var es=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ts=es.join(","),ns="undefined"==typeof Element,rs=ns?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,os=!ns&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},is=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},as=function(e,t,n){if(is(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ts));return t&&rs.call(e,ts)&&r.unshift(e),r=r.filter(n)},ss=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!is(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:a,candidates:l})}else{rs.call(a,ts)&&r.filter(a)&&(n||!t.includes(a))&&o.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),d=!is(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&d){var u=e(!0===c?a.children:c.children,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:a,candidates:u})}else i.unshift.apply(i,a.children)}}return o},ls=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},cs=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!ls(e)?0:e.tabIndex},ds=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},us=function(e){return"INPUT"===e.tagName},ps=function(e){return function(e){return us(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||os(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},hs=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},gs=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=rs.call(e,"details>summary:first-of-type")?e.parentElement:e;if(rs.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return hs(e)}else{if("function"==typeof r){for(var i=e;e;){var a=e.parentElement,s=os(e);if(a&&!a.shadowRoot&&!0===r(a))return hs(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=i}if(function(e){var t,n,r,o,i=e&&os(e),a=null===(t=i)||void 0===t?void 0:t.host,s=!1;if(i&&i!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&a;){var l,c,d;s=!(null===(c=a=null===(l=i=os(a))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},fs=function(e,t){return!(t.disabled||is(t)||function(e){return us(e)&&"hidden"===e.type}(t)||gs(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!rs.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},ms=function(e,t){return!(ps(t)||cs(t)<0||!fs(e,t))},bs=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ys=function e(t){var n=[],r=[];return t.forEach((function(t,o){var i=!!t.scopeParent,a=i?t.scopeParent:t,s=function(e,t){var n=cs(e);return n<0&&t&&!ls(e)?0:n}(a,i),l=i?e(t.candidates):a;0===s?i?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:s,item:t,isScope:i,content:l})})),r.sort(ds).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},vs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==rs.call(e,ts)&&ms(t,e)},ws=es.concat("iframe").join(","),xs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==rs.call(e,ws)&&fs(t,e)};
/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(n),!0).forEach((function(t){Ss(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ss(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Es=function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},Cs=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()},_s=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},Is=function(e){return _s(e)&&!e.shiftKey},Ps=function(e){return _s(e)&&e.shiftKey},Os=function(e){return setTimeout(e,0)},As=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},Rs=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},Ns=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},Ls=[],Ds=function(e,t){var n,r=(null==t?void 0:t.document)||document,o=(null==t?void 0:t.trapStack)||Ls,i=Ts({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Is,isKeyBackward:Ps},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var r=t.container,o=t.tabbableNodes;return r.contains(e)||(null==n?void 0:n.includes(r))||o.find((function(t){return t===e}))}))},c=function(e){var t=i[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},d=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!xs(e,i.tabbableOptions))if(l(r.activeElement)>=0)e=r.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},u=function(){if(a.containerGroups=a.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?ss([e],t.includeContainer,{filter:ms.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:bs}):as(e,t.includeContainer,ms.bind(null,t)),ys(n)}(e,i.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?ss([e],t.includeContainer,{filter:fs.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):as(e,t.includeContainer,fs.bind(null,t))}(e,i.tabbableOptions),r=t.length>0?t[0]:void 0,o=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return vs(e)})),s=n.slice().reverse().find((function(e){return vs(e)})),l=!!t.find((function(e){return cs(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:r,lastTabbableNode:o,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t.indexOf(e);return o<0?r?n.slice(n.indexOf(e)+1).find((function(e){return vs(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return vs(e)})):t[o+(r?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},h=function e(t){!1!==t&&t!==p(document)&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(d()))},g=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},f=function(e){var t=e.target,n=e.event,r=e.isBackward,o=void 0!==r&&r;t=t||Ns(n),u();var s=null;if(a.tabbableGroups.length>0){var d=l(t,n),p=d>=0?a.containerGroups[d]:void 0;if(d<0)s=o?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(o){var h=As(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(h<0&&(p.container===t||xs(t,i.tabbableOptions)&&!vs(t,i.tabbableOptions)&&!p.nextTabbableNode(t,!1))&&(h=d),h>=0){var g=0===h?a.tabbableGroups.length-1:h-1,f=a.tabbableGroups[g];s=cs(t)>=0?f.lastTabbableNode:f.lastDomTabbableNode}else _s(n)||(s=p.nextTabbableNode(t,!1))}else{var m=As(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(m<0&&(p.container===t||xs(t,i.tabbableOptions)&&!vs(t,i.tabbableOptions)&&!p.nextTabbableNode(t))&&(m=d),m>=0){var b=m===a.tabbableGroups.length-1?0:m+1,y=a.tabbableGroups[b];s=cs(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else _s(n)||(s=p.nextTabbableNode(t))}}else s=c("fallbackFocus");return s},m=function(e){var t=Ns(e);l(t,e)>=0||(Rs(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate}):Rs(i.allowOutsideClick,e)||e.preventDefault())},b=function(e){var t=Ns(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var r;e.stopImmediatePropagation();var o=!0;if(a.mostRecentlyFocusedNode)if(cs(a.mostRecentlyFocusedNode)>0){var s=l(a.mostRecentlyFocusedNode),c=a.containerGroups[s].tabbableNodes;if(c.length>0){var u=c.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));u>=0&&(i.isKeyForward(a.recentNavEvent)?u+1<c.length&&(r=c[u+1],o=!1):u-1>=0&&(r=c[u-1],o=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return cs(e)>0}))}))||(o=!1);else o=!1;o&&(r=f({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),h(r||(a.mostRecentlyFocusedNode||d()))}a.recentNavEvent=void 0},y=function(e){if(!(t=e,"Escape"!==(null==t?void 0:t.key)&&"Esc"!==(null==t?void 0:t.key)&&27!==(null==t?void 0:t.keyCode)||!1===Rs(i.escapeDeactivates,e)))return e.preventDefault(),void n.deactivate();var t;(i.isKeyForward(e)||i.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=f({event:e,isBackward:t});n&&(_s(e)&&e.preventDefault(),h(n))}(e,i.isKeyBackward(e))},v=function(e){var t=Ns(e);l(t,e)>=0||Rs(i.clickOutsideDeactivates,e)||Rs(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},w=function(){if(a.active)return Es(o,n),a.delayInitialFocusTimer=i.delayInitialFocus?Os((function(){h(d())})):h(d()),r.addEventListener("focusin",b,!0),r.addEventListener("mousedown",m,{capture:!0,passive:!1}),r.addEventListener("touchstart",m,{capture:!0,passive:!1}),r.addEventListener("click",v,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),n},x=function(){if(a.active)return r.removeEventListener("focusin",b,!0),r.removeEventListener("mousedown",m,!0),r.removeEventListener("touchstart",m,!0),r.removeEventListener("click",v,!0),r.removeEventListener("keydown",y,!0),n},k="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&h(d())})):void 0,T=function(){k&&(k.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){k.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),o=s(e,"checkCanFocusTrap");o||u(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,null==t||t();var i=function(){o&&u(),w(),T(),null==n||n()};return o?(o(a.containers.concat()).then(i,i),this):(i(),this)},deactivate:function(e){if(!a.active)return this;var t=Ts({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,x(),a.active=!1,a.paused=!1,T(),Cs(o,n);var r=s(t,"onDeactivate"),l=s(t,"onPostDeactivate"),c=s(t,"checkCanReturnFocus"),d=s(t,"returnFocus","returnFocusOnDeactivate");null==r||r();var u=function(){Os((function(){d&&h(g(a.nodeFocusedBeforeActivation)),null==l||l()}))};return d&&c?(c(g(a.nodeFocusedBeforeActivation)).then(u,u),this):(u(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null==t||t(),x(),T(),null==n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null==t||t(),u(),w(),T(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"==typeof e?r.querySelector(e):e})),a.active&&u(),T(),this}}).updateContainerElements(e),n},Ms=Kr("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger").build(),Bs=Io({getPositionerId:e=>e.ids?.positioner??`dialog:${e.id}:positioner`,getBackdropId:e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,getContentId:e=>e.ids?.content??`dialog:${e.id}:content`,getTriggerId:e=>e.ids?.trigger??`dialog:${e.id}:trigger`,getTitleId:e=>e.ids?.title??`dialog:${e.id}:title`,getDescriptionId:e=>e.ids?.description??`dialog:${e.id}:description`,getCloseTriggerId:e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,getContentEl:e=>Bs.getById(e,Bs.getContentId(e)),getPositionerEl:e=>Bs.getById(e,Bs.getPositionerId(e)),getBackdropEl:e=>Bs.getById(e,Bs.getBackdropId(e)),getTriggerEl:e=>Bs.getById(e,Bs.getTriggerId(e)),getTitleEl:e=>Bs.getById(e,Bs.getTitleId(e)),getDescriptionEl:e=>Bs.getById(e,Bs.getDescriptionId(e)),getCloseTriggerEl:e=>Bs.getById(e,Bs.getCloseTriggerId(e))});function Us(e){const t=zo(e);return _r({id:"dialog",initial:t.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...t},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:e=>!!e["open.controlled"]},activities:{trackDismissableElement:(e,t,{send:n})=>za((()=>Bs.getContentEl(e)),{defer:!0,pointerBlocking:e.modal,exclude:[Bs.getTriggerEl(e)],onInteractOutside(t){e.onInteractOutside?.(t),e.closeOnInteractOutside||t.preventDefault()},persistentElements:e.persistentElements,onFocusOutside:e.onFocusOutside,onPointerDownOutside:e.onPointerDownOutside,onEscapeKeyDown(t){e.onEscapeKeyDown?.(t),e.closeOnEscape||t.preventDefault()},onDismiss(){n({type:"CLOSE",src:"interact-outside"})}}),preventScroll(e){if(e.preventScroll)return Qa(Bs.getDoc(e))},trapFocus(e){if(!e.trapFocus||!e.modal)return;let t;const n=function(e){const t=new Set;function n(e){const n=globalThis.requestAnimationFrame(e);t.add((()=>globalThis.cancelAnimationFrame(n)))}return n((()=>n(e))),function(){t.forEach((e=>e()))}}((()=>{const n=Bs.getContentEl(e);if(n){t=Ds(n,{document:Bs.getDoc(e),escapeDeactivates:!1,preventScroll:!0,fallbackFocus:n,returnFocusOnDeactivate:e.restoreFocus,allowOutsideClick:!0,initialFocus:e.initialFocusEl?.()??void 0,setReturnFocus:t=>e.finalFocusEl?.()??t});try{t.activate()}catch{}}}));return()=>{t?.deactivate(),n()}},hideContentBelow(e){if(!e.modal)return;return Ka((()=>[Bs.getContentEl(e)]),{defer:!0})}},actions:{setAlertDialogProps(e){"alertdialog"===e.role&&(e.initialFocusEl||(e.initialFocusEl=()=>Bs.getCloseTriggerEl(e)),e.closeOnInteractOutside=!1)},checkRenderedElements(e){Eo((()=>{e.renderedElements.title=!!Bs.getTitleEl(e),e.renderedElements.description=!!Bs.getDescriptionEl(e)}))},syncZIndex(e){Eo((()=>{const t=Bs.getContentEl(e);if(!t)return;const n=Bs.getWin(e).getComputedStyle(t);[Bs.getPositionerEl(e),Bs.getBackdropEl(e)].forEach((e=>{e?.style.setProperty("--z-index",n.zIndex)}))}))},invokeOnClose(e){e.onOpenChange?.({open:!1})},invokeOnOpen(e){e.onOpenChange?.({open:!0})},toggleVisibility(e,t,{send:n}){n({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}})}Nr()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var Fs=(e,t)=>({x:e,y:t});function $s(e,t){const n=function(e){const{x:t,y:n,width:r,height:o}=e,i=t+r/2,a=n+o/2;return{x:t,y:n,width:r,height:o,minX:t,minY:n,maxX:t+r,maxY:n+o,midX:i,midY:a,center:Fs(i,a)}}(e),{top:r,right:o,left:i,bottom:a}={top:Fs((s=n).minX,s.minY),right:Fs(s.maxX,s.minY),bottom:Fs(s.maxX,s.maxY),left:Fs(s.minX,s.maxY)};var s;const[l]=t.split("-");return{top:[i,r,o,a],right:[r,o,a,i],bottom:[r,i,a,o],left:[o,r,i,a]}[l]}var js=Kr("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem").build(),zs=Io({getTriggerId:e=>e.ids?.trigger??`menu:${e.id}:trigger`,getContextTriggerId:e=>e.ids?.contextTrigger??`menu:${e.id}:ctx-trigger`,getContentId:e=>e.ids?.content??`menu:${e.id}:content`,getArrowId:e=>e.ids?.arrow??`menu:${e.id}:arrow`,getPositionerId:e=>e.ids?.positioner??`menu:${e.id}:popper`,getGroupId:(e,t)=>e.ids?.group?.(t)??`menu:${e.id}:group:${t}`,getGroupLabelId:(e,t)=>e.ids?.groupLabel?.(t)??`menu:${e.id}:group-label:${t}`,getContentEl:e=>zs.getById(e,zs.getContentId(e)),getPositionerEl:e=>zs.getById(e,zs.getPositionerId(e)),getTriggerEl:e=>zs.getById(e,zs.getTriggerId(e)),getHighlightedItemEl:e=>e.highlightedValue?zs.getById(e,e.highlightedValue):null,getArrowEl:e=>zs.getById(e,zs.getArrowId(e)),getElements:e=>{const t=`[role^="menuitem"][data-ownedby=${CSS.escape(zs.getContentId(e))}]:not([data-disabled])`;return _o(zs.getContentEl(e),t)},getFirstEl:e=>zs.getElements(e)[0],getLastEl:e=>{return(t=zs.getElements(e))[t.length-1];var t},getNextEl:(e,t)=>function(e,t,n=!0){let r=ho(e,t);return r=n?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}(zs.getElements(e),e.highlightedValue,t??e.loopFocus),getPrevEl:(e,t)=>function(e,t,n=!0){let r=ho(e,t);return-1===r?n?e[e.length-1]:null:(r=n?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}(zs.getElements(e),e.highlightedValue,t??e.loopFocus),getElemByKey:(e,t)=>mo(zs.getElements(e),{state:e.typeaheadState,key:t,activeId:e.highlightedValue}),isTargetDisabled:e=>Qr(e)&&(""===e.dataset.disabled||e.hasAttribute("disabled")),isTriggerItem:e=>!!e?.getAttribute("role")?.startsWith("menuitem")&&!!e?.hasAttribute("aria-controls"),getOptionFromItemEl:e=>({id:e.id,name:e.dataset.name,value:e.dataset.value,valueText:e.dataset.valueText,type:e.dataset.type})});function Hs(e,t,n){const r=e.context.isSubmenu,o=e.context.isTypingAhead,i=e.context.composite,a=e.hasTag("open"),s=function(e={}){const{placement:t,sameWidth:n,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:ba.arrowSize.reference,height:ba.arrowSize.reference,[ba.arrowSizeHalf.variable]:`calc(${ba.arrowSize.reference} / 2)`,[ba.arrowOffset.variable]:`calc(${ba.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?Oa[t.split("-")[0]]:void 0,background:ba.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}({...e.context.positioning,placement:e.context.anchorPoint?"bottom":e.context.currentPlacement});function l(t){return{disabled:!!t.disabled,highlighted:e.context.highlightedValue===t.value}}function c(e){const t=e.valueText??e.value;return{...e,id:e.value,valueText:t}}function d(e){return{...l(c(e)),checked:!!e.checked}}function u(r){const{value:o,closeOnSelect:i,valueText:a}=r,s=l(r);return n.element({...js.item.attrs,id:o,role:"menuitem","aria-disabled":s.disabled,"data-disabled":Zr(s.disabled),"data-ownedby":zs.getContentId(e.context),"data-highlighted":Zr(s.highlighted),"data-valuetext":a,onDragStart(e){e.currentTarget.matches("a[href]")&&e.preventDefault()},onPointerMove(e){if(s.disabled)return;if("mouse"!==e.pointerType)return;const n=e.currentTarget;s.highlighted||t({type:"ITEM_POINTERMOVE",id:o,target:n,closeOnSelect:i})},onPointerLeave(n){if(s.disabled)return;if("mouse"!==n.pointerType)return;if(!e.previousEvent.type.includes("POINTER"))return;const r=n.currentTarget;t({type:"ITEM_POINTERLEAVE",id:o,target:r,closeOnSelect:i})},onPointerDown(e){if(s.disabled)return;const n=e.currentTarget;t({type:"ITEM_POINTERDOWN",target:n,id:o,closeOnSelect:i})},onClick(e){if(uo(e))return;if(co(e))return;if(s.disabled)return;const n=e.currentTarget;t({type:"ITEM_CLICK",target:n,id:o,closeOnSelect:i})}})}return{highlightedValue:e.context.highlightedValue,open:a,setOpen(e){e!==a&&t(e?"OPEN":"CLOSE")},setHighlightedValue(e){t({type:"HIGHLIGHTED.SET",id:e})},setParent(e){t({type:"PARENT.SET",value:e,id:e.state.context.id})},setChild(e){t({type:"CHILD.SET",value:e,id:e.state.context.id})},reposition(e={}){t({type:"POSITIONING.SET",options:e})},getContextTriggerProps:()=>n.element({...js.contextTrigger.attrs,dir:e.context.dir,id:zs.getContextTriggerId(e.context),onPointerDown(e){if("mouse"===e.pointerType)return;const n=Jo(e);t({type:"CONTEXT_MENU_START",point:n})},onPointerCancel(e){"mouse"!==e.pointerType&&t("CONTEXT_MENU_CANCEL")},onPointerMove(e){"mouse"!==e.pointerType&&t("CONTEXT_MENU_CANCEL")},onPointerUp(e){"mouse"!==e.pointerType&&t("CONTEXT_MENU_CANCEL")},onContextMenu(e){const n=Jo(e);t({type:"CONTEXT_MENU",point:n}),e.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}}),getTriggerItemProps:e=>Rr(u({value:e.getTriggerProps().id}),e.getTriggerProps()),getTriggerProps:()=>n.button({...r?js.triggerItem.attrs:js.trigger.attrs,"data-placement":e.context.currentPlacement,type:"button",dir:e.context.dir,id:zs.getTriggerId(e.context),"data-uid":e.context.id,"aria-haspopup":i?"menu":"dialog","aria-controls":zs.getContentId(e.context),"aria-expanded":a||void 0,"data-state":a?"open":"closed",onPointerMove(e){if("mouse"!==e.pointerType)return;!zs.isTargetDisabled(e.currentTarget)&&r&&t({type:"TRIGGER_POINTERMOVE",target:e.currentTarget})},onPointerLeave(e){if(zs.isTargetDisabled(e.currentTarget))return;if("mouse"!==e.pointerType)return;if(!r)return;const n=Jo(e);t({type:"TRIGGER_POINTERLEAVE",target:e.currentTarget,point:n})},onPointerDown(e){zs.isTargetDisabled(e.currentTarget)||Wo(e)||e.preventDefault()},onClick(e){e.defaultPrevented||zs.isTargetDisabled(e.currentTarget)||t({type:"TRIGGER_CLICK",target:e.currentTarget})},onBlur(){t("TRIGGER_BLUR")},onFocus(){t("TRIGGER_FOCUS")},onKeyDown(n){if(n.defaultPrevented)return;const r={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},Enter(){t({type:"ARROW_DOWN",src:"enter"})},Space(){t({type:"ARROW_DOWN",src:"space"})}}[Zo(n,e.context)];r&&(n.preventDefault(),r(n))}}),getIndicatorProps:()=>n.element({...js.indicator.attrs,dir:e.context.dir,"data-state":a?"open":"closed"}),getPositionerProps:()=>n.element({...js.positioner.attrs,dir:e.context.dir,id:zs.getPositionerId(e.context),style:s.floating}),getArrowProps:()=>n.element({id:zs.getArrowId(e.context),...js.arrow.attrs,dir:e.context.dir,style:s.arrow}),getArrowTipProps:()=>n.element({...js.arrowTip.attrs,dir:e.context.dir,style:s.arrowTip}),getContentProps:()=>n.element({...js.content.attrs,id:zs.getContentId(e.context),"aria-label":e.context["aria-label"],hidden:!a,"data-state":a?"open":"closed",role:i?"menu":"dialog",tabIndex:0,dir:e.context.dir,"aria-activedescendant":e.context.highlightedValue??void 0,"aria-labelledby":zs.getTriggerId(e.context),"data-placement":e.context.currentPlacement,onPointerEnter(e){"mouse"===e.pointerType&&t("MENU_POINTERENTER")},onKeyDown(n){if(n.defaultPrevented)return;if(!(e=>no(e.currentTarget,lo(e)))(n))return;const r=lo(n);if(!(r?.closest("[role=menu]")===n.currentTarget||r===n.currentTarget))return;if("Tab"===n.key){if(!ko(n))return void n.preventDefault()}const i=zs.getHighlightedItemEl(e.context),a={ArrowDown(){t("ARROW_DOWN")},ArrowUp(){t("ARROW_UP")},ArrowLeft(){t("ARROW_LEFT")},ArrowRight(){t("ARROW_RIGHT")},Enter(){t("ENTER"),function(e){if(!function(e){return e?.matches("a[href]")??!1}(e))return;const t=()=>e.click();so()?qo(e,"keyup",t):queueMicrotask(t)}(i)},Space(e){o?t({type:"TYPEAHEAD",key:e.key}):a.Enter?.(e)},Home(){t("HOME")},End(){t("END")}},s=Zo(n,{dir:e.context.dir}),l=a[s];if(l)return l(n),n.stopPropagation(),void n.preventDefault();var c;e.context.typeahead&&(1!==(c=n).key.length||c.ctrlKey||c.metaKey||(e=>e.ctrlKey||e.altKey||e.metaKey)(n)||To(r)||(t({type:"TYPEAHEAD",key:n.key}),n.preventDefault()))}}),getSeparatorProps:()=>n.element({...js.separator.attrs,role:"separator",dir:e.context.dir,"aria-orientation":"horizontal"}),getItemState:l,getItemProps:u,getOptionItemState:d,getOptionItemProps(r){const{type:o,disabled:i,onCheckedChange:a,closeOnSelect:s}=r,l=c(r),p=d(r);return{...u(l),...n.element({"data-type":o,...js.item.attrs,dir:e.context.dir,"data-value":l.value,role:`menuitem${o}`,"aria-checked":!!p.checked,"data-state":p.checked?"checked":"unchecked",onClick(e){if(i)return;if(uo(e))return;if(co(e))return;const n=e.currentTarget;t({type:"ITEM_CLICK",target:n,option:l,closeOnSelect:s}),a?.(!p.checked)}})}},getItemIndicatorProps(t){const r=d(t);return n.element({...js.itemIndicator.attrs,dir:e.context.dir,"data-disabled":Zr(r.disabled),"data-highlighted":Zr(r.highlighted),"data-state":r.checked?"checked":"unchecked",hidden:!r.checked})},getItemTextProps(t){const r=d(t);return n.element({...js.itemText.attrs,dir:e.context.dir,"data-disabled":Zr(r.disabled),"data-highlighted":Zr(r.highlighted),"data-state":r.checked?"checked":"unchecked"})},getItemGroupLabelProps:t=>n.element({id:zs.getGroupLabelId(e.context,t.htmlFor),dir:e.context.dir,...js.itemGroupLabel.attrs}),getItemGroupProps:t=>n.element({id:zs.getGroupId(e.context,t.id),...js.itemGroup.attrs,dir:e.context.dir,"aria-labelledby":zs.getGroupLabelId(e.context,t.id),role:"group"})}}var{not:Vs,and:Gs,or:Ws}=xr;function qs(e){const t=zo(e);return _r({id:"menu",initial:t.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:Xn({}),suspendPointer:!1,restoreFocus:!0,typeaheadState:mo.defaultOptions},computed:{isSubmenu:e=>null!==e.parent,isRtl:e=>"rtl"===e.dir,isTypingAhead:e=>""!==e.typeaheadState.keysSoFar},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:Vs("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHiglightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:Ws("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:Gs(Vs("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:Vs("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:Gs("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:Vs("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:Gs(Vs("suspendPointer"),Vs("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:Gs(Vs("isTriggerItemHighlighted"),Vs("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Gs(Vs("isTriggerItemHighlighted"),Vs("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:Gs(Vs("isTriggerItemHighlighted"),Vs("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(e,t)=>!!(t?.closeOnSelect??e.closeOnSelect),isTriggerItem:(e,t)=>zs.isTriggerItem(t.target),isTriggerItemHighlighted:(e,t)=>{const n=t.target??zs.getHighlightedItemEl(e);return!!n?.hasAttribute("aria-controls")},isSubmenu:e=>e.isSubmenu,suspendPointer:e=>e.suspendPointer,isHighlightedItemEditable:e=>To(zs.getHighlightedItemEl(e)),isWithinPolygon:(e,t)=>!!e.intentPolygon&&function(e,t){const{x:n,y:r}=t;let o=!1;for(let t=0,i=e.length-1;t<e.length;i=t++){const a=e[t].x,s=e[t].y,l=e[i].x,c=e[i].y;s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(o=!o)}return o}(e.intentPolygon,t.point),isOpenControlled:e=>!!e["open.controlled"],isArrowLeftEvent:(e,t)=>"ARROW_LEFT"===t.previousEvent?.type,isArrowUpEvent:(e,t)=>"ARROW_UP"===t.previousEvent?.type,isArrowDownEvent:(e,t)=>"ARROW_DOWN"===t.previousEvent?.type,isOpenAutoFocusEvent:(e,t)=>"OPEN_AUTOFOCUS"===t.previousEvent?.type},activities:{trackPositioning(e){if(e.anchorPoint)return;e.currentPlacement=e.positioning.placement;return Pa(zs.getTriggerEl(e),(()=>zs.getPositionerEl(e)),{...e.positioning,defer:!0,onComplete(t){e.currentPlacement=t.placement}})},trackInteractOutside:(e,t,{send:n})=>za((()=>zs.getContentEl(e)),{defer:!0,exclude:[zs.getTriggerEl(e)],onInteractOutside:e.onInteractOutside,onFocusOutside:e.onFocusOutside,onEscapeKeyDown(t){e.onEscapeKeyDown?.(t),e.isSubmenu&&t.preventDefault(),Ks(e)},onPointerDownOutside(t){e.restoreFocus=!t.detail.focusable,e.onPointerDownOutside?.(t)},onDismiss(){n({type:"CLOSE",src:"interact-outside"})}}),trackPointerMove(e,t,{guards:n,send:r}){const{isWithinPolygon:o}=n;e.parent.state.context.suspendPointer=!0;const i=zs.getDoc(e);return Go(i,"pointermove",(t=>{const n={x:t.clientX,y:t.clientY};o(e,{point:n})||(r("POINTER_MOVED_AWAY_FROM_SUBMENU"),e.parent.state.context.suspendPointer=!1)}))},scrollToHighlightedItem(e,t,{getState:n}){const r=()=>{if(n().event.type.startsWith("ITEM_POINTER"))return;Po(zs.getHighlightedItemEl(e),{rootEl:zs.getContentEl(e),block:"nearest"})};Eo((()=>r()));return Co((()=>zs.getContentEl(e)),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint(e,t){e.anchorPoint=t.point},setSubmenuPlacement(e){e.isSubmenu&&(e.positioning.placement=e.isRtl?"left-start":"right-start",e.positioning.gutter=0)},reposition(e,t){const n=e.anchorPoint?()=>({width:0,height:0,...e.anchorPoint}):void 0;Pa(zs.getTriggerEl(e),(()=>zs.getPositionerEl(e)),{...e.positioning,defer:!0,getAnchorRect:n,...t.options??{},listeners:!1,onComplete(t){e.currentPlacement=t.placement}})},setOptionState(e,t){if(!t.option)return;const{checked:n,onCheckedChange:r,type:o}=t.option;"radio"===o?r?.(!0):"checkbox"===o&&r?.(!n)},clickHighlightedItem(e,t){const n=zs.getHighlightedItemEl(e);n&&!n.dataset.disabled&&queueMicrotask((()=>n.click()))},setIntentPolygon(e,t){const n=zs.getContentEl(e),r=e.currentPlacement;if(!n||!r)return;const o=$s(n.getBoundingClientRect(),r);if(!o)return;const i="right"===function(e){return e.split("-")[0]}(r),a=i?-5:5;e.intentPolygon=[{...t.point,x:t.point.x+a},...o]},clearIntentPolygon(e){e.intentPolygon=null},resumePointer(e){e.parent&&(e.parent.state.context.suspendPointer=!1)},setHighlightedItem(e,t){Ys.highlighted(e,t.id)},clearHighlightedItem(e){Ys.highlighted(e,null)},focusMenu(e){Eo((()=>{const t=zs.getContentEl(e),n=function(e){const{root:t,getInitialEl:n,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i="function"==typeof n?n():n),i||(i=t?.querySelector("[data-autofocus],[autofocus]")),!i){const e=wo(t);i=r?e.filter(r)[0]:e[0]}return i||t||void 0}({root:t,enabled:!no(t,zs.getActiveElement(e)),filter:e=>!e.role?.startsWith("menuitem")});n?.focus({preventScroll:!0})}))},highlightFirstItem(e){const t=zs.getFirstEl(e);t&&Ys.highlighted(e,t.id)},highlightLastItem(e){const t=zs.getLastEl(e);t&&Ys.highlighted(e,t.id)},highlightNextItem(e,t){const n=zs.getNextEl(e,t.loop);Ys.highlighted(e,n?.id??null)},highlightPrevItem(e,t){const n=zs.getPrevEl(e,t.loop);Ys.highlighted(e,n?.id??null)},invokeOnSelect(e){e.highlightedValue&&e.onSelect?.({value:e.highlightedValue})},focusTrigger(e){e.isSubmenu||e.anchorPoint||!e.restoreFocus||queueMicrotask((()=>zs.getTriggerEl(e)?.focus({preventScroll:!0})))},highlightMatchedItem(e,t){const n=zs.getElemByKey(e,t.key);n&&Ys.highlighted(e,n.id)},setParentMenu(e,t){e.parent=Xn(t.value)},setChildMenu(e,t){e.children[t.id]=Xn(t.value)},closeRootMenu(e){Ks(e)},openSubmenu(e){const t=zs.getHighlightedItemEl(e),n=t?.getAttribute("data-uid"),r=n?e.children[n]:null;r?.send("OPEN_AUTOFOCUS")},focusParentMenu(e){e.parent?.send("FOCUS_MENU")},setLastHighlightedItem(e,t){e.lastHighlightedValue=t.id},restoreHighlightedItem(e){e.lastHighlightedValue&&(Ys.highlighted(e,e.lastHighlightedValue),e.lastHighlightedValue=null)},restoreParentHiglightedItem(e){e.parent?.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(e){e.onOpenChange?.({open:!0})},invokeOnClose(e){e.onOpenChange?.({open:!1})},toggleVisibility(e,t,{send:n}){n({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}})}function Ks(e){let t=e.parent;for(;t&&t.state.context.isSubmenu;)t=t.state.context.parent;t?.send("CLOSE")}var Ys={highlighted(e,t){Do(e.highlightedValue,t)||(e.highlightedValue=t,e.onHighlightChange?.({highlightedValue:t}))}};Nr()(["anchorPoint","aria-label","closeOnSelect","dir","getRootNode","highlightedValue","id","ids","loopFocus","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onEscapeKeyDown","onSelect","onHighlightChange","open","open.controlled","positioning","typeahead","composite"]),Nr()(["closeOnSelect","disabled","value","valueText"]),Nr()(["htmlFor"]),Nr()(["id"]),Nr()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);var Xs=Kr("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange").build(),Zs=Io({getRootId:e=>e.ids?.root??`progress-${e.id}`,getTrackId:e=>e.ids?.track??`progress-${e.id}-track`,getLabelId:e=>e.ids?.label??`progress-${e.id}-label`,getCircleId:e=>e.ids?.circle??`progress-${e.id}-circle`});function Js(e,t){return e+(t-e)/2}function Qs(e){const t=zo(e);return _r({id:"progress",initial:"idle",context:{max:t.max??100,min:t.min??0,value:Js(t.min??0,t.max??100),orientation:"horizontal",translations:{value:({percent:e})=>-1===e?"loading...":`${e} percent`,...t.translations},...t},created:["validateContext"],computed:{isIndeterminate:e=>null===e.value,percent:e=>$o(e.value)?Math.round((e.value-e.min)/(e.max-e.min)*100):-1,isAtMax:e=>e.value===e.max,isHorizontal:e=>"horizontal"===e.orientation,isRtl:e=>"rtl"===e.dir},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(e,t)=>{e.value=null===t.value?null:Math.max(0,Math.min(t.value,e.max))},validateContext:e=>{if(null!=e.value){if(!el(e.max))throw new Error(`[progress] The max value passed \`${e.max}\` is not a valid number`);if(!function(e,t){return el(e)&&e<=t}(e.value,e.max))throw new Error(`[progress] The value passed \`${e.value}\` exceeds the max value \`${e.max}\``);if(!function(e,t){return el(e)&&e>=t}(e.value,e.min))throw new Error(`[progress] The value passed \`${e.value}\` exceeds the min value \`${e.min}\``)}}}})}function el(e){return $o(e)&&!isNaN(e)}Nr()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);var tl=Kr("radio-group").parts("root","label","item","itemText","itemControl","indicator");tl.build();var nl=Io({getRootId:e=>e.ids?.root??`radio-group:${e.id}`,getLabelId:e=>e.ids?.label??`radio-group:${e.id}:label`,getItemId:(e,t)=>e.ids?.item?.(t)??`radio-group:${e.id}:radio:${t}`,getItemHiddenInputId:(e,t)=>e.ids?.itemHiddenInput?.(t)??`radio-group:${e.id}:radio:input:${t}`,getItemControlId:(e,t)=>e.ids?.itemControl?.(t)??`radio-group:${e.id}:radio:control:${t}`,getItemLabelId:(e,t)=>e.ids?.itemLabel?.(t)??`radio-group:${e.id}:radio:label:${t}`,getIndicatorId:e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,getRootEl:e=>nl.getById(e,nl.getRootId(e)),getItemHiddenInputEl:(e,t)=>nl.getById(e,nl.getItemHiddenInputId(e,t)),getIndicatorEl:e=>nl.getById(e,nl.getIndicatorId(e)),getFirstEnabledInputEl:e=>nl.getRootEl(e)?.querySelector("input:not(:disabled)"),getFirstEnabledAndCheckedInputEl:e=>nl.getRootEl(e)?.querySelector("input:not(:disabled):checked"),getInputEls:e=>{const t=`input[type=radio][data-ownedby='${CSS.escape(nl.getRootId(e))}']:not([disabled])`;return _o(nl.getRootEl(e),t)},getActiveRadioEl:e=>{if(e.value)return nl.getById(e,nl.getItemId(e,e.value))},getOffsetRect:e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0}),getRectById:(e,t)=>{const n=nl.getById(e,nl.getItemId(e,t));if(n)return nl.resolveRect(nl.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});Nr()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]),Nr()(["value","disabled","invalid"]);var rl=Kr("toast").parts("group","root","title","description","actionTrigger","closeTrigger").build(),ol=Io({getRegionId:e=>`toast-group:${e}`,getRegionEl:(e,t)=>ol.getById(e,`toast-group:${t}`),getRootId:e=>`toast:${e.id}`,getRootEl:e=>ol.getById(e,ol.getRootId(e)),getTitleId:e=>`toast:${e.id}:title`,getDescriptionId:e=>`toast:${e.id}:description`,getCloseTriggerId:e=>`toast${e.id}:close`});function il(e,t){return e.filter((e=>e.state.context.placement===t))}var al={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function sl(e,t){return e??al[t]??al.DEFAULT}function ll(e,t){const n=e.offsets,r="string"==typeof n?{left:n,right:n,bottom:n,top:n}:n,o="rtl"===e.dir,i=t.replace("-start",o?"-right":"-left").replace("-end",o?"-left":"-right"),a=i.includes("right"),s=i.includes("left"),l={position:"fixed",pointerEvents:e.count>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${e.gap}px`,"--first-height":`${e.heights[0]?.height||0}px`,zIndex:2147483647};let c="center";if(a&&(c="flex-end"),s&&(c="flex-start"),l.alignItems=c,i.includes("top")){const e=r.top;l.top=`max(env(safe-area-inset-top, 0px), ${e})`}if(i.includes("bottom")){const e=r.bottom;l.bottom=`max(env(safe-area-inset-bottom, 0px), ${e})`}if(!i.includes("left")){const e=r.right;l.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${e})`}if(!i.includes("right")){const e=r.left;l.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${e})`}return l}function cl(e,t){const[n]=e.placement.split("-"),r=!e.frontmost,o=!e.stacked,i={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${e.removeDelay}ms`,"--duration":`${"loading"===e.type?Number.MAX_SAFE_INTEGER:e.duration}ms`,"--initial-height":`${e.height}px`,"--offset":`${e.offset}px`,"--index":e.index,"--z-index":e.zIndex,"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},a=e=>Object.assign(i,e);return"top"===n?a({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):"bottom"===n&&a({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),e.mounted&&(a({"--y":"0","--opacity":"1"}),e.stacked&&a({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||a({"--opacity":"0",pointerEvents:"none"}),r&&o&&(a({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||a({"--y":"calc(var(--sign) * 40%)"})),r&&e.stacked&&!t&&a({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),e.frontmost&&!t&&a({"--y":"calc(var(--lift) * -100%)"}),i}function dl(e,t){const n={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"};var r;return e.frontmost&&!t&&(r={height:"calc(var(--initial-height) + 80%)"},Object.assign(n,r)),n}var{not:ul,and:pl,or:hl}=xr;function gl(e,t){il(e.toasts,e.placement).forEach(t)}var fl={connect:function(e,t,n){function r(){var t;return(t=e)instanceof Cr||"machine"===t?.type?e.getState():e}function o(e){return il(r().context.toasts,e)}function i(e){const t=r().context.toasts;return!!t.length&&!!t.find((t=>t.id==e))}function a(e){const n=`toast:${Fo()}`,r=e.id?e.id:n;return i(r)||t({type:"ADD_TOAST",toast:{...e,id:r}}),r}function s(e,n){return i(e)?(t({type:"UPDATE_TOAST",id:e,toast:n}),e):e}function l(e){const{id:t}=e;return!!t&&i(t)&&null!=t?s(t,e):a(e)}function c(e){null==e?t("DISMISS_ALL"):i(e)&&t({type:"DISMISS_TOAST",id:e})}return{getCount:()=>r().context.count,getPlacements(){const e=r().context.toasts.map((e=>e.state.context.placement));return Array.from(new Set(e))},getToastsByPlacement:o,isVisible:i,create:a,update:s,upsert:l,dismiss:c,remove(e){null==e?t("REMOVE_ALL"):i(e)&&t({type:"REMOVE_TOAST",id:e})},dismissByPlacement(e){o(e).forEach((e=>c(e.id)))},loading:e=>l({...e,type:"loading"}),success:e=>l({...e,type:"success"}),error:e=>l({...e,type:"error"}),promise(e,t,n={}){const r=l({...n,...t.loading,type:"loading"});return Mo(e).then((e=>{const o=Mo(t.success,e);l({...n,...o,id:r,type:"success"})})).catch((e=>{const o=Mo(t.error,e);l({...n,...o,id:r,type:"error"})})).finally((()=>{t.finally?.()})),r},pause(e){null==e?t("PAUSE_ALL"):i(e)&&t({type:"PAUSE_TOAST",id:e})},resume(e){null==e?t("RESUME_ALL"):i(e)&&t({type:"RESUME_TOAST",id:e})},getGroupProps(e){const{placement:o,label:i="Notifications"}=e,a=r(),s=a.context.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),[l,c="center"]=o.split("-");return n.element({...rl.group.attrs,dir:a.context.dir,tabIndex:-1,"aria-label":`${o} ${i} ${s}`,id:ol.getRegionId(o),"data-placement":o,"data-side":l,"data-align":c,"aria-live":"polite",role:"region",style:ll(a.context,o),onMouseMove(){t({type:"REGION.POINTER_ENTER",placement:o})},onMouseLeave(){t({type:"REGION.POINTER_LEAVE",placement:o})},onFocus(e){t({type:"REGION.FOCUS",target:e.relatedTarget})},onBlur(e){a.context.isFocusWithin&&!no(e.currentTarget,e.relatedTarget)&&t({type:"REGION.BLUR"})}})},subscribe(e){const t=r();return Kn(t.context.toasts,(()=>{const n=o(t.context.placement).map((e=>e.getState().context));e(n)}))}}},machine:function(e){const t=zo(e);return _r({id:"toaster",initial:t.overlap?"overlap":"stack",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,gap:16,pauseOnPageIdle:!1,hotkey:["altKey","KeyT"],offsets:"1rem",placement:"bottom",removeDelay:200,...t,toasts:[],lastFocusedEl:null,isFocusWithin:!1,heights:[]},computed:{count:e=>e.toasts.length},activities:["trackDocumentVisibility","trackHotKeyPress"],watch:{toasts:["collapsedIfEmpty","setDismissableBranch"]},exit:["removeToasts","clearDismissableBranch","clearLastFocusedEl"],on:{PAUSE_TOAST:{actions:["pauseToast"]},PAUSE_ALL:{actions:["pauseToasts"]},RESUME_TOAST:{actions:["resumeToast"]},RESUME_ALL:{actions:["resumeToasts"]},ADD_TOAST:{guard:"isWithinRange",actions:["createToast","syncToastIndex"]},UPDATE_TOAST:{actions:["updateToast"]},DISMISS_TOAST:{actions:["dismissToast"]},DISMISS_ALL:{actions:["dismissToasts"]},REMOVE_TOAST:{actions:["removeToast","syncToastIndex","syncToastOffset"]},REMOVE_ALL:{actions:["removeToasts"]},UPDATE_HEIGHT:{actions:["syncHeights","syncToastOffset"]},"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","restoreLastFocusedEl"]},{actions:["resumeToasts","restoreLastFocusedEl"]}]},states:{stack:{entry:["expandToasts"],on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap"},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{entry:["collapseToasts"],on:{"REGION.STACK":{target:"stack"},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts"]}}}}},{guards:{isWithinRange:e=>e.toasts.length<e.max,isOverlapping:e=>!!e.overlap},activities:{trackHotKeyPress:(e,t,{send:n})=>Go(document,"keydown",(t=>{e.hotkey.every((e=>t[e]||t.code===e))&&n({type:"DOC.HOTKEY"})}),{capture:!0}),trackDocumentVisibility(e,t,{send:n}){if(!e.pauseOnPageIdle)return;const r=ol.getDoc(e);return Go(r,"visibilitychange",(()=>{n("hidden"===r.visibilityState?"PAUSE_ALL":"RESUME_ALL")}))}},actions:{setDismissableBranch(e){const t=il(e.toasts,e.placement).length>0;if(!t)return void e._cleanup?.();if(t&&e._cleanup)return;e._cleanup=function(e,t={}){const{defer:n}=t,r=n?Eo:e=>e(),o=[];return o.push(r((()=>{const t=jo(e)?e():e;t?(Fa.addBranch(t),o.push((()=>{Fa.removeBranch(t)}))):Vo("[@zag-js/dismissable] branch node is `null` or `undefined`")}))),()=>{o.forEach((e=>e?.()))}}((()=>ol.getRegionEl(e,e.placement)),{defer:!0})},clearDismissableBranch(e){e._cleanup?.()},focusRegionEl(e){queueMicrotask((()=>{ol.getRegionEl(e,e.placement)?.focus()}))},expandToasts(e){gl(e,(e=>{e.state.context.stacked=!0}))},collapseToasts(e){gl(e,(e=>{e.state.context.stacked=!1}))},collapsedIfEmpty(e,t,{send:n}){!e.overlap||e.toasts.length>1||n("REGION.OVERLAP")},pauseToast(e,t,{self:n}){n.sendChild("PAUSE",t.id)},pauseToasts(e){e.toasts.forEach((e=>e.send("PAUSE")))},resumeToast(e,t,{self:n}){n.sendChild("RESUME",t.id)},resumeToasts(e){e.toasts.forEach((e=>e.send("RESUME")))},measureToasts(e){e.toasts.forEach((e=>e.send("MEASURE")))},createToast(e,t,{self:n,getState:r}){const o=function(e){const{type:t="info",duration:n,id:r="1",placement:o="bottom",removeDelay:i=200,...a}=e,s=zo(a),l=sl(n,t);return _r({id:r,context:{id:r,type:t,remaining:l,duration:l,removeDelay:i,createdAt:Date.now(),placement:o,...s,height:0,offset:0,frontmost:!1,mounted:!1,index:-1,zIndex:0},initial:"loading"===t?"visible:persist":"visible",on:{UPDATE:[{guard:pl("hasTypeChanged","isChangingToLoading"),target:"visible:persist",actions:["setContext"]},{guard:hl("hasDurationChanged","hasTypeChanged"),target:"visible:updating",actions:["setContext"]},{actions:["setContext"]}],MEASURE:{actions:["measureHeight"]}},entry:["invokeOnVisible"],activities:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],after:{0:"visible"}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:ul("isLoadingType"),target:"visible",actions:["setCreatedAt"]},DISMISS:"dismissing"}},visible:{tags:["visible"],after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"visible:persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnDismiss",after:{REMOVE_DELAY:{target:"unmounted",actions:"notifyParentToRemove"}}},unmounted:{entry:"invokeOnUnmount",type:"final"}}},{activities:{trackHeight(e,t,{self:n}){let r;return Eo((()=>{const t=ol.getRootEl(e);if(!t)return;e.mounted=!0,Vo(2!==_o(t,"[data-ghost]").length,"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements");const o=()=>{const r=t.style.height;t.style.height="auto";const o=t.getBoundingClientRect().height;t.style.height=r,e.height=o,n.sendParent({type:"UPDATE_HEIGHT",id:n.id,height:o,placement:e.placement})};o();const i=new(ol.getWin(e).MutationObserver)(o);i.observe(t,{childList:!0,subtree:!0,characterData:!0}),r=()=>i.disconnect()})),()=>r?.()}},guards:{isChangingToLoading:(e,t)=>"loading"===t.toast?.type,isLoadingType:e=>"loading"===e.type,hasTypeChanged:(e,t)=>null!=t.toast?.type&&t.toast.type!==e.type,hasDurationChanged:(e,t)=>null!=t.toast?.duration&&t.toast.duration!==e.duration},delays:{VISIBLE_DURATION:e=>e.remaining,REMOVE_DELAY:e=>e.removeDelay},actions:{measureHeight(e,t,{self:n}){Eo((()=>{const t=ol.getRootEl(e);if(!t)return;e.mounted=!0;const r=t.style.height;t.style.height="auto";const o=t.getBoundingClientRect().height;t.style.height=r,e.height=o,n.sendParent({type:"UPDATE_HEIGHT",id:n.id,height:o,placement:e.placement})}))},setRemainingDuration(e){e.remaining-=Date.now()-e.createdAt},setCreatedAt(e){e.createdAt=Date.now()},notifyParentToRemove(e,t,{self:n}){n.sendParent({type:"REMOVE_TOAST",id:n.id})},invokeOnDismiss(e){e.onStatusChange?.({status:"dismissing"})},invokeOnUnmount(e){e.onStatusChange?.({status:"unmounted"})},invokeOnVisible(e){e.onStatusChange?.({status:"visible"})},setContext(e,t){const n=t.toast?.duration,r=sl(n,t.toast?.type??e.type);Object.assign(e,{...t.toast,duration:r,remaining:r})}}})}({placement:e.placement,duration:e.duration,removeDelay:e.removeDelay,...t.toast,dir:e.dir,getRootNode:e.getRootNode,stacked:r().matches("stack")}),i=n.spawn(o);e.toasts=[i,...e.toasts]},updateToast(e,t,{self:n}){n.sendChild({type:"UPDATE",toast:t.toast},t.id)},dismissToast(e,t,{self:n}){n.sendChild("DISMISS",t.id)},dismissToasts(e){e.toasts.forEach((e=>e.send("DISMISS")))},removeToast(e,t,{self:n}){n.stopChild(t.id),e.toasts=e.toasts.filter((e=>e.id!==t.id)),e.heights=e.heights.filter((e=>e.id!==t.id))},removeToasts(e,t,{self:n}){e.toasts.forEach((e=>n.stopChild(e.id))),e.toasts=[],e.heights=[]},syncHeights(e,t){const n=e.heights.find((e=>e.id===t.id));if(n)n.height=t.height,n.placement=t.placement;else{const n={id:t.id,height:t.height,placement:t.placement};e.heights=[n,...e.heights]}},syncToastIndex(e){gl(e,((e,t,n)=>{e.state.context.index=t,e.state.context.frontmost=0===t,e.state.context.zIndex=n.length-t}))},syncToastOffset(e,t){const n=t.placement??e.placement;gl({...e,placement:n},(t=>{const n=Math.max(e.heights.findIndex((e=>e.id===t.id)),0),r=e.heights.reduce(((e,t,r)=>r>=n?e:e+t.height),0);t.state.context.offset=n*e.gap+r}))},setLastFocusedEl(e,t){!e.isFocusWithin&&t.target&&(e.isFocusWithin=!0,e.lastFocusedEl=Xn(t.target))},restoreLastFocusedEl(e){e.isFocusWithin=!1,e.lastFocusedEl&&(e.lastFocusedEl.focus({preventScroll:!0}),e.lastFocusedEl=null)},clearLastFocusedEl(e){e.lastFocusedEl&&(e.lastFocusedEl.focus({preventScroll:!0}),e.lastFocusedEl=null,e.isFocusWithin=!1)}}})}};function ml(e={}){const{strict:t=!0,hookName:n="useContext",providerName:r="Provider",errorMessage:o,defaultValue:i}=e,a=function(e){const t=Symbol("context");return{id:t,Provider:K(t),defaultValue:e}}(i);return[a.Provider,function e(){const i=R(a);if(!i&&t){const t=new Error(o??`${n} returned \`undefined\`. Seems you forgot to wrap component within ${r}`);throw t.name="ContextError",Error.captureStackTrace?.(t,e),t}return i},a]}const bl=()=>(e,t)=>re(e,t),[yl,vl]=ml({hookName:"useRenderStrategyContext",providerName:"<RenderStrategyProvider />"}),wl=e=>bl()(e,["lazyMount","unmountOnExit"]),xl=e=>t=>{const[n,r]=re(t,["asChild"]);if(n.asChild){const e=e=>{const[,t]=re(r,["ref"]);return Lr(t,e)};return n.asChild(e)}return Z(De,ne({component:e},r))};const kl=function(){const e=new Map;return new Proxy(xl,{apply:(e,t,n)=>xl(n[0]),get(t,n){const r=n;return e.has(r)||e.set(r,xl(r)),e.get(r)}})}(),[Tl,Sl]=ml({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window})});var El=ve("<span hidden>");const Cl=e=>{const[t,n]=T(),r=()=>((e,...t)=>"function"==typeof e?e(...t):e)(e.value)??t()?.ownerDocument??document,o=C((()=>({getRootNode:r,getDocument:()=>ro(r()),getWindow:()=>oo(r())})));return Z(Tl,{value:o,get children(){return[C((()=>e.children)),Z(le,{get when(){return!e.value},get children(){var e=El();return Se(n,e),e}})]}})},[_l,Il]=ml({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({dir:"ltr",locale:"en-US"})});ti.extendWith("control"),ri.extendWith("group");const[Pl,Ol]=ml({hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),Al=Kr("fieldset").parts("root","errorText","helperText","legend").build(),Rl=e=>e?"":void 0;(e=>{const[t,n]=bl()(e,["id","disabled","invalid"]),r=(e=>{const{disabled:t=!1,invalid:n=!1}=e,r=e.id??ie(),o=`fieldset::${r}::error-text`,i=`fieldset::${r}::helper-text`,[a,s]=T(!1),[l,c]=T(!1);E((()=>{}));const d=[];a()&&n&&d.push(o),l()&&d.push(i);const u=()=>({...Al.root.attrs,disabled:t,"data-disabled":Rl(t),"data-invalid":Rl(n),"aria-describedby":d.join(" ")||void 0}),p=()=>({...Al.legend.attrs,"data-disabled":Rl(t),"data-invalid":Rl(n)}),h=()=>({id:i,...Al.helperText.attrs}),g=()=>({id:o,...Al.errorText.attrs,"aria-live":"polite"});return C((()=>({refs:{rootRef:void 0},disabled:t,invalid:n,getRootProps:u,getLegendProps:p,getHelperTextProps:h,getErrorTextProps:g})))})(t),o=Lr((()=>r().getRootProps()),n);return Z(Pl,{value:r,get children(){return Z(kl.fieldset,o)}})}).displayName="FieldsetRoot";Kr("field").parts("root","errorText","helperText","input","label","select","textarea").build();const Nl=e=>bl()(e,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]),Ll=e=>{const[t,n]=wl(e),[r,o]=T(!1),[i,a]=qr(_r({initial:(s=n).present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...s},exit:["clearInitial"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},"ANIMATION.END":{target:"unmounted",actions:["invokeOnExitComplete"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},invokeOnExitComplete(e){e.onExitComplete?.()},setNode(e,t){e.node=Xn(t.node)},setStyles(e,t){const n=t.node.ownerDocument.defaultView||window;e.styles=Xn(n.getComputedStyle(t.node))},syncPresence(e,t,{send:n}){if(e.present)return void n({type:"MOUNT",src:"presence.changed"});const r=Ga(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)((()=>{e.unmountAnimationName=r,"none"===r||r===e.prevAnimationName||"none"===e.styles?.display||"0s"===e.styles?.animationDuration?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})}))},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)((()=>{e.prevAnimationName=Ga(e.styles)}))},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,t,{send:n}){const r=e.node;if(!r)return;const o=t=>{t.target===r&&(e.prevAnimationName=Ga(e.styles))},i=t=>{const o=Ga(e.styles);t.target===r&&o===e.unmountAnimationName&&n({type:"UNMOUNT",src:"animationend"})};return r.addEventListener("animationstart",o),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i),()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i)}}}}),{context:n});var s;const l=C((()=>function(e,t){const n=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&n,present:n,setNode(e){e&&t({type:"NODE.SET",node:e})},unmount(){t({type:"UNMOUNT"})}}}(i,a)));return E((()=>{l().present&&o(!0)})),C((()=>({unmounted:!l().present&&!r()&&t.lazyMount||t.unmountOnExit&&!l().present&&r(),present:l().present,presenceProps:{ref:l().setNode,hidden:!l().present,"data-state":n.present?"open":"closed"}})))},[Dl,Ml]=ml({hookName:"usePresenceContext",providerName:"<PresenceProvider />"});Ha.extendWith("view"),Ya.extendWith("view");const[Bl,Ul]=ml({hookName:"useDialogContext",providerName:"<DialogProvider />"}),Fl=e=>{const t=Il(),n=Sl(),r=ie(),o=C((()=>({id:r,dir:t().dir,getRootNode:n().getRootNode,open:e.defaultOpen,"open.controlled":void 0!==e.open,...e}))),[i,a]=qr(Us(o()),{context:o});return C((()=>function(e,t,n){const r=e.context["aria-label"],o=e.matches("open"),i=e.context.renderedElements;return{open:o,setOpen(e){e!==o&&t(e?"OPEN":"CLOSE")},getTriggerProps:()=>n.button({...Ms.trigger.attrs,dir:e.context.dir,id:Bs.getTriggerId(e.context),"aria-haspopup":"dialog",type:"button","aria-expanded":o,"data-state":o?"open":"closed","aria-controls":Bs.getContentId(e.context),onClick(e){e.defaultPrevented||t("TOGGLE")}}),getBackdropProps:()=>n.element({...Ms.backdrop.attrs,dir:e.context.dir,hidden:!o,id:Bs.getBackdropId(e.context),"data-state":o?"open":"closed"}),getPositionerProps:()=>n.element({...Ms.positioner.attrs,dir:e.context.dir,id:Bs.getPositionerId(e.context),style:{pointerEvents:o?void 0:"none"}}),getContentProps:()=>n.element({...Ms.content.attrs,dir:e.context.dir,role:e.context.role,hidden:!o,id:Bs.getContentId(e.context),tabIndex:-1,"data-state":o?"open":"closed","aria-modal":!0,"aria-label":r||void 0,"aria-labelledby":r||!i.title?void 0:Bs.getTitleId(e.context),"aria-describedby":i.description?Bs.getDescriptionId(e.context):void 0}),getTitleProps:()=>n.element({...Ms.title.attrs,dir:e.context.dir,id:Bs.getTitleId(e.context)}),getDescriptionProps:()=>n.element({...Ms.description.attrs,dir:e.context.dir,id:Bs.getDescriptionId(e.context)}),getCloseTriggerProps:()=>n.button({...Ms.closeTrigger.attrs,dir:e.context.dir,id:Bs.getCloseTriggerId(e.context),type:"button",onClick(e){e.defaultPrevented||(e.stopPropagation(),t("CLOSE"))}})}}(i,a,$r)))};var $l=Object.freeze({__proto__:null,Backdrop:e=>{const t=Ul(),n=vl(),r=Ll(Lr(n,(()=>({present:t().open})))),o=Lr((()=>t().getBackdropProps()),(()=>r().presenceProps),e);return Z(le,{get when(){return!r().unmounted},get children(){return Z(kl.div,o)}})},CloseTrigger:e=>{const t=Ul(),n=Lr((()=>t().getCloseTriggerProps()),e);return Z(kl.button,n)},Content:e=>{const t=Ul(),n=Ml(),r=Lr((()=>t().getContentProps()),(()=>n().presenceProps),e);return Z(le,{get when(){return!n().unmounted},get children(){return Z(kl.div,r)}})},Context:e=>e.children(Ul()),Description:e=>{const t=Ul(),n=Lr((()=>t().getDescriptionProps()),e);return Z(kl.div,n)},Positioner:e=>{const t=Ul(),n=Ml(),r=Lr((()=>t().getPositionerProps()),e);return Z(le,{get when(){return!n().unmounted},get children(){return Z(kl.div,r)}})},Root:e=>{const[t,n]=Nl(e),[r]=wl(t),[o,i]=bl()(n,["aria-label","closeOnEscape","closeOnInteractOutside","defaultOpen","finalFocusEl","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),a=Fl(o),s=Ll(Lr(t,(()=>({present:a().open}))));return Z(Bl,{value:a,get children(){return Z(yl,{value:r,get children(){return Z(Dl,{value:s,get children(){return i.children}})}})}})},RootProvider:e=>{const[t,n]=Nl(e),[r]=wl(t),o=Ll(Lr(t,(()=>({present:n.value().open}))));return Z(Bl,{get value(){return n.value},get children(){return Z(yl,{value:r,get children(){return Z(Dl,{value:o,get children(){return n.children}})}})}})},Title:e=>{const t=Ul(),n=Lr((()=>t().getTitleProps()),e);return Z(kl.h2,n)},Trigger:e=>{const t=Ul(),n=Ml(),r=Lr((()=>t().getTriggerProps()),(()=>({"aria-controls":n().unmounted&&null})),e);return Z(kl.button,r)}});const[jl,zl]=ml({hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),[Hl,Vl]=ml({hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[Gl,Wl]=ml({hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),[ql,Kl]=ml({hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),[Yl,Xl]=ml({hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[Zl,Jl]=ml({hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1});var Ql=Object.freeze({__proto__:null,Arrow:e=>{const t=zl(),n=Lr((()=>t().getArrowProps()),e);return Z(kl.div,n)},ArrowTip:e=>{const t=zl(),n=Lr((()=>t().getArrowTipProps()),e);return Z(kl.div,n)},CheckboxItem:e=>{const[t,n]=bl()(e,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),r=Lr(t,{type:"checkbox"}),o=zl(),i=Lr((()=>o().getOptionItemProps(r)),n),a=C((()=>o().getItemState(r)));return Z(Gl,{value:r,get children(){return Z(Hl,{value:a,get children(){return Z(kl.div,i)}})}})},Content:e=>{const t=zl(),n=Ml(),r=Lr((()=>t().getContentProps()),(()=>n().presenceProps),e);return Z(le,{get when(){return!n().unmounted},get children(){return Z(kl.div,r)}})},Context:e=>e.children(zl()),ContextTrigger:e=>{const t=zl(),n=Lr((()=>t().getContextTriggerProps()),e);return Z(kl.button,n)},Indicator:e=>{const t=zl(),n=Lr((()=>t().getIndicatorProps()),e);return Z(kl.div,n)},Item:e=>{const[t,n]=bl()(e,["closeOnSelect","disabled","value","valueText"]),r=zl(),o=Lr((()=>r().getItemProps(t)),n),i=C((()=>r().getItemState(t)));return Z(Hl,{value:i,get children(){return Z(kl.div,o)}})},ItemContext:e=>e.children(Vl()),ItemGroup:e=>{const[t,n]=bl()(e,["id"]),r=Lr({id:ie()},t),o=zl(),i=Lr((()=>o().getItemGroupProps(r)),n);return Z(ql,{value:r,get children(){return Z(kl.div,i)}})},ItemGroupLabel:e=>{const t=zl(),n=Kl(),r=Lr(t().getItemGroupLabelProps({htmlFor:n.id}),e);return Z(kl.div,r)},ItemIndicator:e=>{const t=zl(),n=Wl(),r=Lr((()=>t().getItemIndicatorProps(n)),e);return Z(kl.div,r)},ItemText:e=>{const t=zl(),n=Wl(),r=Lr((()=>t().getItemTextProps(n)),e);return Z(kl.div,r)},Positioner:e=>{const t=zl(),n=Ml(),r=Lr((()=>t().getPositionerProps()),e);return Z(le,{get when(){return!n().unmounted},get children(){return Z(kl.div,r)}})},RadioItem:e=>{const[t,n]=bl()(e,["closeOnSelect","disabled","value","valueText"]),r=zl(),o=Kl(),i=Lr(t,(()=>({type:"radio",checked:o.value===t.value,onCheckedChange:()=>o.onValueChange?.({value:t.value})}))),a=Lr((()=>r().getOptionItemProps(i)),n),s=C((()=>r().getOptionItemState(i)));return Z(Gl,{value:i,get children(){return Z(Hl,{value:s,get children(){return Z(kl.div,a)}})}})},RadioItemGroup:e=>{const[t,n]=bl()(e,["id","onValueChange","value"]),r=zl(),o=Lr({id:ie()},t),i=Lr((()=>r().getItemGroupProps(o)),n);return Z(ql,{value:o,get children(){return Z(kl.div,i)}})},Root:e=>{const[t,n]=Nl(e),[r,o]=bl()(n,["anchorPoint","aria-label","closeOnSelect","composite","defaultOpen","highlightedValue","id","ids","loopFocus","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),i=zl(),a=Xl(),s=(e=>{const t=Il(),n=Sl(),r=ie(),o=C((()=>({id:r,dir:t().dir,getRootNode:n().getRootNode,open:e.defaultOpen,"open.controlled":void 0!==e.open,...e}))),[i,a,s]=qr(qs(o()),{context:o});return{api:C((()=>Hs(i,a,$r))),machine:s}})(r),l=Ll(Lr(t,(()=>({present:s.api().open}))));E((()=>{a&&(i?.().setChild(s.machine),s.api().setParent(a))}));return Z(Zl,{value:()=>i?.().getTriggerItemProps(s.api()),get children(){return Z(Yl,{get value(){return s.machine},get children(){return Z(jl,{get value(){return s.api},get children(){return Z(Dl,{value:l,get children(){return o.children}})}})}})}})},RootProvider:e=>{const t=zl(),n=Xl(),[r,o]=Nl(e),i=Ll(Lr(r,(()=>({present:o.value.api().open}))));E((()=>{n&&(t?.().setChild(o.value.machine),o.value.api().setParent(n))}));return Z(Zl,{value:()=>t?.().getTriggerItemProps(o.value.api()),get children(){return Z(Yl,{get value(){return o.value.machine},get children(){return Z(jl,{get value(){return o.value.api},get children(){return Z(Dl,{value:i,get children(){return o.children}})}})}})}})},Separator:e=>{const t=zl(),n=Lr((()=>t().getSeparatorProps()),e);return Z(kl.hr,n)},Trigger:e=>{const t=zl(),n=Ml(),r=Lr((()=>t().getTriggerProps()),(()=>({"aria-controls":n().unmounted&&null})),e);return Z(kl.button,r)},TriggerItem:e=>{const t=Jl(),n=Lr((()=>t?.()),e);return Z(kl.div,n)}});const[ec,tc]=ml({hookName:"useProgressContext",providerName:"<ProgressProvider />"}),nc=e=>{const t=Il(),n=Sl(),r=ie(),o=C((()=>({id:r,dir:t().dir,getRootNode:n().getRootNode,...e}))),[i,a]=qr(Qs(o()),{context:o});return C((()=>function(e,t,n){const r=e.context.percent,o=e.context.isIndeterminate?"":`${r}%`,i=e.context.max,a=e.context.min,s=e.context.orientation,l=e.context.translations,c=e.context.isIndeterminate,d=e.context.value,u=l.value({value:d,max:i,percent:r,min:a}),p=function(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}(d,i),h={role:"progressbar","aria-label":u,"data-max":i,"aria-valuemin":a,"aria-valuemax":i,"aria-valuenow":d??void 0,"data-orientation":s,"data-state":p},g=function(e){const t={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:t,range:{opacity:0===e.value?0:void 0,style:{...t.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}(e.context);return{value:d,valueAsString:u,min:a,max:i,percent:r,percentAsString:o,indeterminate:c,setValue(e){t({type:"VALUE.SET",value:e})},setToMax(){t({type:"VALUE.SET",value:i})},setToMin(){t({type:"VALUE.SET",value:a})},getRootProps:()=>n.element({dir:e.context.dir,...Xs.root.attrs,id:Zs.getRootId(e.context),"data-max":i,"data-value":d??void 0,"data-state":p,"data-orientation":s,style:{"--percent":c?void 0:r}}),getLabelProps:()=>n.element({dir:e.context.dir,id:Zs.getLabelId(e.context),...Xs.label.attrs,"data-orientation":s}),getValueTextProps:()=>n.element({dir:e.context.dir,"aria-live":"polite",...Xs.valueText.attrs}),getTrackProps:()=>n.element({dir:e.context.dir,id:Zs.getTrackId(e.context),...Xs.track.attrs,...h}),getRangeProps:()=>n.element({dir:e.context.dir,...Xs.range.attrs,"data-orientation":s,"data-state":p,style:{[e.context.isHorizontal?"width":"height"]:c?void 0:`${r}%`}}),getCircleProps:()=>n.element({dir:e.context.dir,id:Zs.getCircleId(e.context),...Xs.circle.attrs,...h,...g.root}),getCircleTrackProps:()=>n.element({dir:e.context.dir,"data-orientation":s,...Xs.circleTrack.attrs,...g.track}),getCircleRangeProps:()=>n.element({dir:e.context.dir,...Xs.circleRange.attrs,...g.range,"data-state":p}),getViewProps:t=>n.element({dir:e.context.dir,...Xs.view.attrs,"data-state":t.state,hidden:t.state!==p})}}(i,a,$r)))};var rc=Object.freeze({__proto__:null,Circle:e=>{const t=tc(),n=Lr((()=>t().getCircleProps()),e);return Z(kl.svg,n)},CircleRange:e=>{const t=tc(),n=Lr((()=>t().getCircleRangeProps()),e);return Z(kl.circle,n)},CircleTrack:e=>{const t=tc(),n=Lr((()=>t().getCircleTrackProps()),e);return Z(kl.circle,n)},Context:e=>e.children(tc()),Label:e=>{const t=tc(),n=Lr((()=>t().getLabelProps()),e);return Z(kl.label,n)},Range:e=>{const t=tc(),n=Lr((()=>t().getRangeProps()),e);return Z(kl.div,n)},Root:e=>{const[t,n]=bl()(e,["id","ids","max","min","orientation","translations","value"]),r=nc(t),o=Lr((()=>r().getRootProps()),n);return Z(ec,{value:r,get children(){return Z(kl.div,o)}})},RootProvider:e=>{const[{value:t},n]=bl()(e,["value"]),r=Lr((()=>t().getRootProps()),n);return Z(ec,{value:t,get children(){return Z(kl.div,r)}})},Track:e=>{const t=tc(),n=Lr((()=>t().getTrackProps()),e);return Z(kl.div,n)},ValueText:e=>{const t=tc(),n=Lr((()=>t().getValueTextProps()),e);return Z(kl.span,ne(n,{get children(){return e.children||t().percentAsString}}))},View:e=>{const[t,n]=bl()(e,["state"]),r=tc(),o=Lr((()=>r().getViewProps(t)),n);return Z(kl.span,o)}});tl.rename("segment-group").build();const[oc,ic]=ml({hookName:"useToastContext",providerName:"<ToastProvider />"});var ac=ve("<div><div></div><div>");const sc=e=>{const[t,n]=re(e,["toaster","children"]),[r,o]=qr(t.toaster.machine),i=r.context.placement,a=C((()=>fl.connect(r,o,$r))),s=C((()=>a().getToastsByPlacement(i))),l=Lr(a().getGroupProps({placement:i}),n);return Z(kl.div,ne(l,{get children(){return Z(se,{get each(){return s()},children:e=>Z(lc,{value:e,children:e=>t.children(e)})})}}))},lc=e=>{const[t,n]=[Wr(r=e.value),r.send];var r;const o=C((()=>function(e,t,n){const r=e.hasTag("visible"),o=e.hasTag("paused"),i=e.context.placement,a=e.context.type,[s,l="center"]=i.split("-");return{type:a,title:e.context.title,description:e.context.description,placement:i,visible:r,paused:o,pause(){t("PAUSE")},resume(){t("RESUME")},dismiss(){t("DISMISS")},getRootProps:()=>n.element({...rl.root.attrs,dir:e.context.dir,id:ol.getRootId(e.context),"data-state":r?"open":"closed","data-type":a,"data-placement":i,"data-align":l,"data-side":s,"data-mounted":Zr(e.context.mounted),"data-paused":Zr(o),"data-first":Zr(e.context.frontmost),"data-sibling":Zr(!e.context.frontmost),"data-stack":Zr(e.context.stacked),"data-overlap":Zr(!e.context.stacked),role:"status","aria-atomic":"true","aria-describedby":e.context.description?ol.getDescriptionId(e.context):void 0,"aria-labelledby":e.context.title?ol.getTitleId(e.context):void 0,tabIndex:0,style:cl(e.context,r),onKeyDown(e){e.defaultPrevented||"Escape"==e.key&&(t("DISMISS"),e.preventDefault())}}),getGhostBeforeProps:()=>n.element({"data-ghost":"before",style:dl(e.context,r)}),getGhostAfterProps:()=>n.element({"data-ghost":"after",style:(e.context,{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"})}),getTitleProps:()=>n.element({...rl.title.attrs,id:ol.getTitleId(e.context)}),getDescriptionProps:()=>n.element({...rl.description.attrs,id:ol.getDescriptionId(e.context)}),getActionTriggerProps:()=>n.button({...rl.actionTrigger.attrs,type:"button",onClick(e){e.defaultPrevented||t("DISMISS")}}),getCloseTriggerProps:()=>n.button({id:ol.getCloseTriggerId(e.context),...rl.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(e){e.defaultPrevented||t("DISMISS")}})}}(t,n,$r))),i=C((()=>t.context));return Z(oc,{value:o,get children(){return e.children(i)}})};var cc=Object.freeze({__proto__:null,ActionTrigger:e=>{const t=ic(),n=Lr((()=>t().getActionTriggerProps()),e);return Z(kl.button,n)},CloseTrigger:e=>{const t=ic(),n=Lr((()=>t().getCloseTriggerProps()),e);return Z(kl.button,n)},Context:e=>e.children(ic()),Description:e=>{const t=ic(),n=Lr((()=>t().getDescriptionProps()),e);return Z(kl.div,n)},Root:e=>{const t=ic(),n=Lr((()=>t().getRootProps()),e);return r=ac(),o=r.firstChild,i=o.nextSibling,Te(r,n,!1,!0),Te(o,ne((()=>t().getGhostBeforeProps())),!1,!1),Ee(r,(()=>e.children),i),Te(i,ne((()=>t().getGhostAfterProps())),!1,!1),r;var r,o,i},Title:e=>{const t=ic(),n=Lr((()=>t().getTitleProps()),e);return Z(kl.div,n)}});const dc=(e=>{const t=fl.machine({id:"1",...e});return{...fl.connect(t,t.send,$r),machine:t}})({placement:"bottom-end",gap:24});function uc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=uc(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function pc(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=uc(e))&&(r&&(r+=" "),r+=t);return r}const hc=async({apiHost:e,sessionId:t,clientLogs:n})=>{try{await wt.post(`${Xe(e)?e:Ge()}/api/v1/sessions/${t}/clientLogs`,{json:{clientLogs:n}})}catch(e){console.log(e)}},gc=e=>"string"==typeof e?e:e instanceof Error?e.name+": "+e.message:JSON.stringify(e),fc=Object.getPrototypeOf((async()=>{})).constructor,mc=async({content:e,args:t})=>{try{const n=fc(...t.map((e=>e.id)),bc(e));await n(...t.map((e=>e.value))),console.log(bc(e))}catch(e){return console.log(e),{logs:[{status:"error",description:"Script block failed to execute",details:gc(e)}]}}},bc=e=>e.replace(/<script>/g,"").replace(/<\/script>/g,""),yc=async({args:e,content:t})=>{try{const n=fc(...Object.keys(e),t);await n(...Object.keys(e).map((t=>e[t])))}catch(e){console.warn("Script threw an error:",e)}},vc=async e=>{e?.trackingId&&(e=>{e&&(window.gtag?window.gtag("event",e.action,{event_category:Ye(e.category)?void 0:e.category,event_label:Ye(e.label)?void 0:e.label,value:e.value,send_to:Ye(e.sendTo)?void 0:e.sendTo}):console.error("Google Analytics was not properly initialized"))})(e)};function wc(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var xc={exports:{}};const kc="undefined"!=typeof Buffer,Tc=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Sc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Ec(e,t,n){null==n&&null!==t&&"object"==typeof t&&(n=t,t=void 0),kc&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));const r=JSON.parse(e,t);if(null===r||"object"!=typeof r)return r;const o=n&&n.protoAction||"error",i=n&&n.constructorAction||"error";if("ignore"===o&&"ignore"===i)return r;if("ignore"!==o&&"ignore"!==i){if(!1===Tc.test(e)&&!1===Sc.test(e))return r}else if("ignore"!==o&&"ignore"===i){if(!1===Tc.test(e))return r}else if(!1===Sc.test(e))return r;return Cc(r,{protoAction:o,constructorAction:i,safe:n&&n.safe})}function Cc(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let o=[e];for(;o.length;){const e=o;o=[];for(const i of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===r)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===r)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const e in i){const t=i[e];t&&"object"==typeof t&&o.push(t)}}}return e}function _c(e,t,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Ec(e,t,n)}finally{Error.stackTraceLimit=r}}xc.exports=_c,xc.exports.default=_c,xc.exports.parse=_c,xc.exports.safeParse=function(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Ec(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=n}},xc.exports.scan=Cc;var Ic={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Pc={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},Oc={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Ac={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Rc={code:"4",name:"assistant_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"id"in e&&"role"in e&&"content"in e&&"string"==typeof e.id&&"string"==typeof e.role&&"assistant"===e.role&&Array.isArray(e.content)&&e.content.every((e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Nc={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Lc={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Dc={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some((e=>!(null!=e&&"object"==typeof e&&"id"in e&&"string"==typeof e.id&&"type"in e&&"string"==typeof e.type&&"function"in e&&null!=e.function&&"object"==typeof e.function&&"arguments"in e.function&&"string"==typeof e.function.name&&"string"==typeof e.function.arguments))))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},Mc={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},Bc={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Uc={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Fc={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},$c={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},jc={code:"d",name:"finish_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"finishReason"in e&&"string"==typeof e.finishReason&&"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage))throw new Error('"finish_message" parts expect an object with a "finishReason" and "usage" property.');return"number"!=typeof e.usage.promptTokens&&(e.usage.promptTokens=Number.NaN),"number"!=typeof e.usage.completionTokens&&(e.usage.completionTokens=Number.NaN),{type:"finish_message",value:e}}},zc=[Ic,Pc,Oc,Ac,Rc,Nc,Lc,Dc,Mc,Bc,Uc,Fc,$c,jc],Hc={[Ic.code]:Ic,[Pc.code]:Pc,[Oc.code]:Oc,[Ac.code]:Ac,[Rc.code]:Rc,[Nc.code]:Nc,[Lc.code]:Lc,[Dc.code]:Dc,[Mc.code]:Mc,[Bc.code]:Bc,[Uc.code]:Uc,[Fc.code]:Fc,[$c.code]:$c,[jc.code]:jc},Vc=zc.map((e=>e.code)),Gc=e=>{const t=e.indexOf(":");if(-1===t)throw new Error("Failed to parse stream string. No separator found.");const n=e.slice(0,t);if(!Vc.includes(n))throw new Error(`Failed to parse stream string. Invalid code ${n}.`);const r=n,o=e.slice(t+1),i=JSON.parse(o);return Hc[r].parse(i)},Wc="\n".charCodeAt(0);function qc(e,t){const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return e.length=0,n}let Kc=null;const Yc=e=>async({messages:t,onMessageStream:n})=>{try{Kc=new AbortController;const r=e.apiHost,o=await fetch((Xe(r)?r:Ge())+`/api/v2/sessions/${e.sessionId}/streamMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t}),signal:Kc.signal});if(!o.ok)return(e.retryAttempt??0)<1&&(403===o.status||500===o.status||503===o.status)?(await new Promise((e=>setTimeout(e,3e3))),Yc({...e,retryAttempt:(e.retryAttempt??0)+1})({messages:t,onMessageStream:n})):{error:await o.json()||"Failed to fetch the chat response."};if(!o.body)throw new Error("The response body is empty.");let i="";const a=o.body.getReader(),s=ie();for await(const{type:e,value:t}of async function*(e,{isAborted:t}={}){const n=new TextDecoder,r=[];let o=0;for(;;){const{value:i}=await e.read();if(i&&(r.push(i),o+=i.length,i[i.length-1]!==Wc))continue;if(0===r.length)break;const a=qc(r,o);o=0;const s=n.decode(a,{stream:!0}).split("\n").filter((e=>""!==e)).map(Gc);for(const e of s)yield e;if(null==t?void 0:t()){e.cancel();break}}}(a,{isAborted:()=>null===Kc}))"text"===e&&(i+=t,n&&n({id:s,message:i}));return Kc=null,{message:i}}catch(e){return console.error(e),"AbortError"===e.name?(Kc=null,{error:{message:"Request aborted"}}):e instanceof Error?{error:{message:e.message}}:{error:{message:"Failed to fetch the chat response."}}}},Xc=async e=>{Ye(e?.pixelId)||(e=>{if(!e?.eventType||!e.pixelId)return;if(!window.fbq)return void console.error("Facebook Pixel was not properly initialized");const t=e.params?.length?e.params.reduce(((e,t)=>t.key&&t.value?{...e,[t.key]:t.value}:e),{}):void 0;if("Custom"===e.eventType){if(!e.name)return;window.fbq("trackSingleCustom",e.pixelId,e.name,t)}window.fbq("trackSingle",e.pixelId,e.eventType,t)})(e)},Zc=e=>{if(Ke(e))return null;if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return console.warn("Failed to safely stringify variable value",e),null}},Jc=Object.getPrototypeOf((async()=>{})).constructor,Qc=async e=>{const t=e.customHeadCode;Xe(t)&&(e=>{e.split("</noscript>").forEach((e=>{const[t,n]=e.split("<noscript>"),r=document.createRange().createContextualFragment(t??"");if(document.head.append(r),Ke(n))return;const o=document.createElement("noscript"),i=document.createRange().createContextualFragment(n);o.append(i),document.head.append(o)}))})(t);const n=e.gtmId;Xe(n)&&document.body.prepend((e=>{if(document.getElementById("gtm-noscript"))return"";const t=document.createElement("noscript");t.id="gtm-noscript";const n=document.createElement("iframe");return n.src=`https://www.googletagmanager.com/ns.html?id=${e}`,n.height="0",n.width="0",n.style.display="none",n.style.visibility="hidden",t.appendChild(n),t})(n));const r=e.googleAnalyticsId;var o;Xe(r)&&await(o=r,qe(window.gtag)?Promise.resolve():new Promise((e=>{const t=document.getElementById("gtag");if(!t){const t=document.createElement("script");t.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,t.id="gtag";const n=document.createElement("script");n.innerHTML=`window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n\n      gtag('config', '${o}');\n      `,document.body.appendChild(t),document.body.appendChild(n),t.onload=()=>{e()}}t&&e()})));const i=e.pixelIds;qe(i)&&(e=>{const t=document.createElement("script");t.innerHTML=`!function(f,b,e,v,n,t,s)\n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n  n.queue=[];t=b.createElement(e);t.async=!0;\n  t.src=v;s=b.getElementsByTagName(e)[0];\n  s.parentNode.insertBefore(t,s)}(window, document,'script',\n  'https://connect.facebook.net/en_US/fbevents.js');\n  ${e.map((e=>`fbq('init', '${e}');`)).join("\n")}\n  fbq('track', 'PageView');`,document.head.appendChild(t)})(i)},ed=async({clientSideAction:e,context:t,onMessageStream:n})=>{if("chatwoot"in e)return r=e.chatwoot,void mc(r.scriptToExecute);var r;if("googleAnalytics"in e)return vc(e.googleAnalytics);if("scriptToExecute"in e)return mc(e.scriptToExecute);if("redirect"in e)return(({url:e,isNewTab:t}={})=>{if(!e)return;return window.open(e,t?"_blank":"_top")?void 0:{blockedPopupUrl:e}})(e.redirect);if("wait"in e)return await(async({secondsToWaitFor:e})=>{await new Promise((t=>setTimeout(t,1e3*e)))})(e.wait),e.expectsDedicatedReply?{replyToSend:void 0}:void 0;if("setVariable"in e)return(async({content:e,args:t,isCode:n})=>{try{if(!isNaN(e)&&/0[^.].+/.test(e))return{replyToSend:e};const n=Jc(...t.map((e=>e.id)),e.includes("return ")?e:`return ${e}`),r=await n(...t.map((e=>e.value)));return{replyToSend:Zc(r)??void 0}}catch(t){return console.error(t),{replyToSend:Zc(e)??void 0,logs:n?[{status:"error",description:"Failed to execute Set Variable code",details:gc(t)}]:void 0}}})(e.setVariable.scriptToExecute);if("streamOpenAiChatCompletion"in e||"stream"in e){const{error:r,message:o}=await Yc(t)({messages:"streamOpenAiChatCompletion"in e?e.streamOpenAiChatCompletion?.messages:void 0,onMessageStream:n});return r?{replyToSend:void 0,logs:[{status:"error",description:"Message streaming returned an error",details:JSON.stringify(r,null,2)}]}:{replyToSend:o}}if("webhookToExecute"in e){return{replyToSend:await(async e=>{const{url:t,method:n,body:r,headers:o}=e;try{const e=await fetch(t,{method:n,body:"GET"!==n&&r?JSON.stringify(r):void 0,headers:o}),i=e.status,a=await e.json();return JSON.stringify({statusCode:i,data:a})}catch(e){return console.error(e),JSON.stringify({statusCode:500,data:"An error occured while executing the webhook on the client"})}})(e.webhookToExecute)}}return"startPropsToInject"in e?Qc(e.startPropsToInject):"pixel"in e?Xc(e.pixel):"codeToExecute"in e?yc(e.codeToExecute):void 0},[td,nd]=T([]),rd=e=>"text"===e.type?e.label??e.value:e.url,[od,id]=T();var ad=ve('<svg><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');const sd=e=>{return Te(t=ad(),ne(e,{get class(){return"animate-spin h-6 w-6 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),t;var t};var ld=ve("<button>");const cd=e=>{const t=N((()=>e.children)),[n,r]=re(e,["disabled","class"]);return Te(o=ld(),ne(r,{get disabled(){return e.isDisabled||e.isLoading},get class(){return"py-2 px-4 font-semibold focus:outline-none filter hover:brightness-90 active:brightness-75 disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 flex justify-center"+("secondary"===e.variant?" secondary-button":" chat77submodule-button")+" "+n.class}}),!1,!0),Ee(o,Z(le,{get when(){return!e.isLoading},get fallback(){return Z(sd,{})},get children(){return t()}})),o;var o};var dd=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>');const ud=e=>{return Te(t=dd(),e,!0,!0),t;var t};var pd=ve('<button class="w-5 h-5">'),hd=ve('<div class="flex justify-between items-center gap-2 w-full pr-4"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=text>');const gd=e=>{const[t,n]=T(""),[r,o]=re(e,["onInput","ref"]),i=()=>{n(""),e.onClear()};return(()=>{var a=hd(),s=a.firstChild;s.$$input=e=>(e=>{n(e),r.onInput(e)})(e.currentTarget.value);var l=e.ref;return"function"==typeof l?Se(l,s):e.ref=s,s.style.setProperty("font-size","16px"),Te(s,ne({get value(){return t()}},o),!1,!1),Ee(a,Z(le,{get when(){return t().length>0},get children(){var e=pd();return e.addEventListener("click",i),Ee(e,Z(ud,{})),e}}),null),a})()};we(["input"]);const fd="Send";let md=function(e){return e.TEXT="text input",e.NUMBER="number input",e.EMAIL="email input",e.URL="url input",e.DATE="date input",e.PHONE="phone number input",e.CHOICE="choice input",e.PICTURE_CHOICE="picture choice input",e.PAYMENT="payment input",e.RATING="rating input",e.FILE="file input",e}({});const bd=fd,yd="Filter the options...";var vd=ve('<div class="flex items-end chat77submodule-input w-full">'),wd=ve('<div class="flex flex-col gap-2 w-full"><div>'),xd=ve("<span>"),kd=ve('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-200 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-150">');const Td=e=>{let t;const[n,r]=T(e.defaultItems);I((()=>{!Ht()&&t&&t.focus({preventScroll:!0})}));const o=t=>{r(e.defaultItems.filter((e=>e.content?.toLowerCase().includes((t??"").toLowerCase()))))};return i=wd(),a=i.firstChild,Ee(i,Z(le,{get when(){return e.options?.isSearchable},get children(){var n=vd();return Ee(n,Z(gd,{ref(e){"function"==typeof t?t(e):t=e},onInput:o,get placeholder(){return e.options?.searchInputPlaceholder??yd},onClear:()=>r(e.defaultItems)})),n}}),a),Ee(a,Z(se,{get each(){return n()},children:(t,r)=>{return Ee(i=xd(),Z(cd,{"on:click":()=>{return t=r(),e.onSubmit({type:"text",value:n()[t]?.content??""});var t},get"data-itemid"(){return t.id},class:"w-full",get children(){return t.content}}),null),Ee(i,(o=C((()=>!(0!==e.chunkIndex||1!==e.defaultItems.length))),()=>o()&&kd()),null),S((()=>ke(i,"relative"+(Ht()?" w-full":"")))),i;var o,i}})),S((()=>ke(a,"flex flex-wrap justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":"")))),i;var i,a};var Sd=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"width=19px color=white><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">');const Ed=e=>{return Te(t=Sd(),e,!0,!0),t;var t},Cd=e=>{const[t,n]=re(e,["disableIcon"]),r=Ht()&&!t.disableIcon||!e.children||"string"==typeof e.children&&Ye(e.children);return Z(cd,ne({type:"submit"},n,{get class(){return pc("flex items-center",e.class)},"aria-label":r?"Send":void 0,get children(){return Z(ce,{get children(){return[Z(de,{when:r,get children(){return Z(Ed,{get class(){return"send-icon flex w-6 h-6 "+(t.disableIcon?"hidden":"")}})}}),Z(de,{when:!r,get children(){return e.children}})]}})}}))};var _d=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3px stroke-linecap=round stroke-linejoin=round><polyline points="20 6 9 17 4 12">');const Id=e=>{return Te(t=_d(),e,!0,!0),t;var t};var Pd=ve("<div>");const Od=e=>{return Ee(t=Pd(),Z(le,{get when(){return e.isChecked},get children(){return Z(Id,{})}})),S((()=>ke(t,"w-4 h-4 chat77submodule-checkbox"+(e.isChecked?" checked":"")+(e.class?` ${e.class}`:"")))),t;var t};var Ad=ve('<div class="flex items-end chat77submodule-input w-full">'),Rd=ve('<form class="flex flex-col items-end gap-2 w-full"><div>'),Nd=ve('<span><div role=checkbox><div class="flex items-center gap-2"><span>'),Ld=ve('<span><div role=checkbox aria-checked class="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none chat77submodule-selectable selected"><div class="flex items-center gap-2"><span>');const Dd=e=>{let t;const[n,r]=T(e.defaultItems),[o,i]=T([]);I((()=>{!Ht()&&t&&t.focus({preventScroll:!0})}));const a=e=>{s(e)},s=e=>{const t=o().indexOf(e);i(-1!==t?t=>t.filter((t=>t!==e)):t=>[...t,e])},l=()=>e.onSubmit({type:"text",value:o().map((t=>e.defaultItems.find((e=>e.id===t))?.content)).join(", ")}),c=t=>{r(e.defaultItems.filter((e=>e.content?.toLowerCase().includes((t??"").toLowerCase()))))};return u=Rd(),p=u.firstChild,u.addEventListener("submit",l),Ee(u,Z(le,{get when(){return e.options?.isSearchable},get children(){var n=Ad();return Ee(n,Z(gd,{ref(e){"function"==typeof t?t(e):t=e},onInput:c,get placeholder(){return e.options?.searchInputPlaceholder??yd},onClear:()=>r(e.defaultItems)})),n}}),p),Ee(p,Z(se,{get each(){return n()},children:e=>{return t=Nd(),n=t.firstChild,r=n.firstChild,i=r.firstChild,n.addEventListener("click",(()=>a(e.id))),Ee(r,Z(Od,{get isChecked(){return o().some((t=>t===e.id))},class:"flex-shrink-0"}),i),Ee(i,(()=>e.content)),S((r=>{var i="relative"+(Ht()?" w-full":""),a=o().some((t=>t===e.id)),s="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none chat77submodule-selectable"+(o().some((t=>t===e.id))?" selected":""),l=e.id;return i!==r.e&&ke(t,r.e=i),a!==r.t&&xe(n,"aria-checked",r.t=a),s!==r.a&&ke(n,r.a=s),l!==r.o&&xe(n,"data-itemid",r.o=l),r}),{e:void 0,t:void 0,a:void 0,o:void 0}),t;var t,n,r,i}}),null),Ee(p,Z(se,{get each(){return o().filter((e=>n().every((t=>t.id!==e))))},children:t=>{return n=Ld(),r=n.firstChild,o=r.firstChild,i=o.firstChild,r.addEventListener("click",(()=>a(t))),xe(r,"data-itemid",t),Ee(o,Z(Od,{isChecked:!0}),i),Ee(i,(()=>e.defaultItems.find((e=>e.id===t))?.content)),S((()=>ke(n,"relative"+(Ht()?" w-full":"")))),n;var n,r,o,i}}),null),Ee(u,(d=C((()=>o().length>0)),()=>d()&&Z(Cd,{disableIcon:!0,get children(){return e.options?.buttonLabel??bd}})),null),S((()=>ke(p,"flex flex-wrap justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":"")))),u;var d,u,p},Md={button:fd,from:"From:",to:"To:"};var Bd=ve('<div class="chat77submodule-input-form flex gap-2 items-end"><form><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input chat77submodule-date-input"data-testid=from-date>'),Ud=ve("<p class=font-semibold>"),Fd=ve('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2 chat77submodule-date-input"data-testid=to-date>');const $d=e=>{const[t,n]=T(jd(e.defaultValue??"")),r=()=>{""===t().from&&""===t().to||e.onSubmit({type:"text",value:`${t().from}${e.options?.isRange?` to ${t().to}`:""}`})};return a=Bd(),s=a.firstChild,l=s.firstChild,c=l.firstChild,d=c.firstChild,s.addEventListener("submit",(e=>{e.preventDefault(),r()})),Ee(c,(o=C((()=>!!e.options?.isRange)),()=>{return o()&&(Ee(t=Ud(),(()=>e.options.labels?.from??Md.from)),t);var t}),d),d.addEventListener("change",(e=>n({...t(),from:e.currentTarget.value}))),d.style.setProperty("min-height","32px"),d.style.setProperty("min-width","100px"),d.style.setProperty("font-size","16px"),Ee(l,(i=C((()=>!!e.options?.isRange)),()=>{return i()&&(o=Fd(),a=o.firstChild,Ee(o,(r=C((()=>!!e.options.isRange)),()=>{return r()&&(Ee(t=Ud(),(()=>e.options.labels?.to??Md.to)),t);var t}),a),a.addEventListener("change",(e=>n({...t(),to:e.currentTarget.value}))),a.style.setProperty("min-height","32px"),a.style.setProperty("min-width","100px"),a.style.setProperty("font-size","16px"),S((t=>{var n=e.options.hasTime?"datetime-local":"date",r=e.options?.min,o=e.options?.max;return n!==t.e&&xe(a,"type",t.e=n),r!==t.t&&xe(a,"min",t.t=r),o!==t.a&&xe(a,"max",t.a=o),t}),{e:void 0,t:void 0,a:void 0}),S((()=>a.value=t().to)),o);var r,o,a}),null),Ee(a,Z(Cd,{class:"h-[56px]","on:click":r,get children(){return e.options?.labels?.button}}),null),S((t=>{var n=pc("flex chat77submodule-input",e.options?.isRange?"items-end":"items-center"),r="flex items-center p-4 "+(e.options?.isRange?"pb-0 gap-2":""),o=e.options?.hasTime?"datetime-local":"date",i=e.options?.min,a=e.options?.max;return n!==t.e&&ke(s,t.e=n),r!==t.t&&ke(c,t.t=r),o!==t.a&&xe(d,"type",t.a=o),i!==t.o&&xe(d,"min",t.o=i),a!==t.i&&xe(d,"max",t.i=a),t}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S((()=>d.value=t().from)),a;var o,i,a,s,l,c,d},jd=e=>{if(!e.includes("to"))return{from:e,to:""};const[t,n]=e.split(" to ");return{from:t,to:n}};var zd=ve('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=text>');const Hd=e=>{const[t,n]=re(e,["ref","onInput"]);return(()=>{var r=zd();r.$$input=e=>t.onInput(e.currentTarget.value);var o=e.ref;return"function"==typeof o?Se(o,r):e.ref=r,r.style.setProperty("font-size","16px"),Te(r,n,!1,!1),r})()};we(["input"]);const Vd={button:fd,placeholder:"Type your email..."};var Gd=ve('<div class="chat77submodule-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex chat77submodule-input w-full">');const Wd=e=>{const[t,n]=T(e.defaultValue??"");let r;const o=e=>n(e),i=()=>{""!==r?.value&&r?.reportValidity()?e.onSubmit({type:"text",value:r?.value??t()}):r?.focus()},a=e=>{"Enter"===e.key&&i()};I((()=>{!Ht()&&r&&r.focus({preventScroll:!0}),window.addEventListener("message",s)})),P((()=>{window.removeEventListener("message",s)}));const s=e=>{const{data:t}=e;t.isFromChat77submodule&&"setInputValue"===t.command&&n(t.value)};return l=Gd(),c=l.firstChild,l.$$keydown=a,Ee(c,Z(Hd,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??Vd.placeholder},onInput:o,type:"email",autocomplete:"email"})),Ee(l,Z(Cd,{type:"button",class:"h-[56px]","on:click":i,get children(){return e.block.options?.labels?.button}}),null),l;var l,c};we(["keydown"]);const qd={isRequired:!0,isMultipleAllowed:!1,visibility:"Auto",labels:{placeholder:"<strong>\n      Click to upload\n    </strong> or drag and drop<br>\n    (size limit: 10MB)",button:"Upload",clear:"Clear",skip:"Skip",success:{single:"File uploaded",multiple:"{total} files uploaded"}}},Kd=({newFile:e,existingFiles:t,params:n,onError:r})=>{const o=n.sizeLimit??Ve("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE");if(o&&e.size>1024*o*1024)return void r({title:"File too large",description:`${e.name} is larger than ${o}MB`});if(0===t.length)return e;let i=e.name,a=1;for(;t.some((e=>e.name===i));){const t=e.name.lastIndexOf("."),n=-1!==t?e.name.slice(t):"";i=`${e.name.slice(0,t)}(${a})${n}`,a++}return new File([e],i,{type:e.type})},Yd=async({apiHost:e,files:t,onUploadProgress:n})=>{const r=[];let o=0;for(const{input:i,file:a}of t){n&&n({progress:o/t.length*100,fileIndex:o}),o+=1;const{data:s}=await We({method:"POST",url:`${e}/api/v2/generate-upload-url`,body:{fileName:i.fileName,sessionId:i.sessionId,fileType:a.type}});if(s?.presignedUrl){const e=new FormData;Object.entries(s.formData).forEach((([t,n])=>{e.append(t,n)})),e.append("file",a);if(!(await fetch(s.presignedUrl,{method:"POST",body:e})).ok)continue;r.push({url:s.fileUrl,type:a.type})}}return r};var Xd=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4">');const Zd=e=>{return Te(t=Xd(),e,!0,!0),t;var t};var Jd=ve('<div class="flex items-center gap-4 border bg-white border-gray-200 rounded-md p-2 text-gray-900 min-w-[250px]"><div></div><div class="flex flex-col"><span class="text-md font-semibold text-sm"></span><span class="text-gray-500 text-xs">');const Qd=e=>{const t=tu(e.file);return n=Jd(),r=n.firstChild,o=r.nextSibling.firstChild,i=o.nextSibling,Ee(r,Z(Zd,{class:"w-6 h-6"})),Ee(o,(()=>e.file.name)),Ee(i,(()=>eu(e.file))),S((()=>ke(r,pc("rounded-md text-white p-2 flex items-center","pink"===t&&"bg-pink-400","blue"===t&&"bg-blue-400","green"===t&&"bg-green-400","gray"===t&&"bg-gray-400","orange"===t&&"bg-orange-400")))),n;var n,r,o,i},eu=e=>{switch(e.name.split(".").pop()){case"pdf":return"PDF";case"doc":case"docx":return"Word";case"xls":case"xlsx":case"csv":return"Sheet";case"json":return"JSON";case"md":return"Markdown";default:return"DOCUMENT"}},tu=e=>{const t=e.name.split(".").pop();if(!t)return"gray";switch(t){case"pdf":return"pink";case"doc":case"docx":return"blue";case"xls":case"xlsx":case"csv":return"green";case"json":return"orange";default:return"gray"}};var nu=ve('<img class="rounded-md object-cover w-[58px] h-[58px]">'),ru=ve('<div class="relative group flex-shrink-0"><button class="absolute -right-2 p-0.5 -top-2 rounded-full bg-gray-200 text-black border border-gray-400 opacity-1 sm:opacity-0 group-hover:opacity-100 transition-opacity"aria-label="Remove attachment">'),ou=ve('<div class="absolute w-full h-full inset-0 bg-black/20 rounded-md">');const iu=e=>{return t=ru(),n=t.firstChild,Ee(t,Z(ce,{get children(){return[Z(de,{get when(){return e.file.type.startsWith("image")},get children(){var t=nu();return S((n=>{var r=URL.createObjectURL(e.file),o=e.file.name;return r!==n.e&&xe(t,"src",n.e=r),o!==n.t&&xe(t,"alt",n.t=o),n}),{e:void 0,t:void 0}),t}}),Z(de,{when:!0,get children(){return Z(Qd,{get file(){return e.file}})}})]}}),n),n.addEventListener("click",e.onRemoveClick),Ee(n,Z(ud,{class:"w-4"})),Ee(t,Z(le,{get when(){return qe(e.uploadProgressPercent)&&100!==e.uploadProgressPercent},get children(){return Z(au,{get progressPercent(){return e.uploadProgressPercent}})}}),null),t;var t,n},au=e=>{const[t,n]=T(e.progressPercent??0);let r;return E((()=>{if(20===e.progressPercent){r=setInterval((()=>{t()<100&&n((e=>e+(Math.floor(10*Math.random())+1)))}),1e3)}})),P((()=>{clearInterval(r)})),Ee(o=ou(),Z(rc.Root,{get value(){return t()},class:"flex items-center justify-center",get children(){return Z(rc.Circle,{get children(){return[Z(rc.CircleTrack,{}),Z(rc.CircleRange,{})]}})}})),o;var o};var su=ve('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full">'),lu=ve('<div class="p-4 flex gap-2 border-gray-200 border overflow-auto bg-white rounded-md w-full">'),cu=ve('<div class="flex flex-col justify-center items-center gap-4 max-w-[90%]"><p class="text-sm text-gray-500 text-center">'),du=ve("<input id=dropzone-file type=file class=hidden>"),uu=ve('<div class="flex justify-end">'),pu=ve('<div class="flex justify-end"><div class="flex gap-2">'),hu=ve('<form class="flex flex-col w-full gap-2"><label for=dropzone-file>'),gu=ve('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=text-gray-500><polyline points="16 16 12 12 8 16"></polyline><line x1=12 y1=12 x2=12 y2=21></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16">');const fu=e=>{const[t,n]=T([]),[r,o]=T(!1),[i,a]=T(0),[s,l]=T(!1),c=r=>{const o=Array.from(r).map((n=>Kd({existingFiles:t(),newFile:n,params:{sizeLimit:e.block.options&&"sizeLimit"in e.block.options?e.block.options.sizeLimit:void 0},onError:({description:e,title:t})=>dc.create({title:t,description:e})}))).filter(qe);if(0!==o.length)return e.block.options?.isMultipleAllowed?void n([...t(),...o]):u(o[0])},d=async e=>{e.preventDefault(),0!==t().length&&p(t())},u=async t=>{o(!0);const n=await Yd({apiHost:e.context.apiHost??Ge({ignoreChatApiUrl:!0}),files:[{file:t,input:{sessionId:e.context.sessionId,fileName:t.name}}]});if(o(!1),n.length&&n[0])return e.onSubmit({type:"text",label:e.block.options?.labels?.success?.single??qd.labels.success.single,value:n[0]?bu(n[0].url):"",attachments:[{type:t.type,url:n[0].url,blobUrl:URL.createObjectURL(t)}]});dc.create({description:"An error occured while uploading the file"})},p=async n=>{o(!0);const r=await Yd({apiHost:e.context.apiHost??Ge({ignoreChatApiUrl:!0}),files:n.map((t=>({file:t,input:{sessionId:e.context.sessionId,fileName:t.name}}))),onUploadProgress:a});if(o(!1),a(0),r.length!==n.length)return dc.create({description:"An error occured while uploading the files"});e.onSubmit({type:"text",label:r.length>1?(e.block.options?.labels?.success?.multiple??qd.labels.success.multiple).replaceAll("{total}",r.length.toString()):e.block.options?.labels?.success?.single??qd.labels.success.single,value:r.filter(qe).map((({url:e})=>bu(e))).join(", "),attachments:r.map(((e,n)=>e?{...e,blobUrl:URL.createObjectURL(t()[n])}:null)).filter(qe)})},h=e=>{e.preventDefault(),l(!0)},g=()=>l(!1),f=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&c(e.dataTransfer.files)},m=()=>n([]),b=()=>e.onSkip(e.block.options?.labels?.skip??qd.labels.skip);return y=hu(),v=y.firstChild,y.addEventListener("submit",d),v.addEventListener("drop",f),v.addEventListener("dragleave",g),v.addEventListener("dragover",h),Ee(v,Z(ce,{get children(){return[Z(de,{get when(){return r()},get children(){return Z(le,{get when(){return t().length>1},get fallback(){return Z(sd,{})},get children(){var e=su(),t=e.firstChild;return t.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),S((e=>null!=(e=`${i()>0?i:10}%`)?t.style.setProperty("width",e):t.style.removeProperty("width"))),e}})}}),Z(de,{get when(){return!r()},get children(){return[(o=cu(),i=o.firstChild,Ee(o,Z(le,{get when(){return t().length},get fallback(){return Z(mu,{})},get children(){var e=lu();return e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()})),Ee(e,Z(se,{get each(){return t()},children:(e,t)=>Z(iu,{file:e,onRemoveClick:()=>(e=>{n((t=>t.filter(((t,n)=>n!==e))))})(t())})})),e}}),i),S((()=>i.innerHTML=e.block.options?.labels?.placeholder??qd.labels.placeholder)),o),(r=du(),r.addEventListener("change",(e=>{e.currentTarget.files&&c(e.currentTarget.files)})),S((()=>r.multiple=e.block.options?.isMultipleAllowed??qd.isMultipleAllowed)),r)];var r,o,i}})]}})),Ee(y,Z(le,{get when(){return 0===t().length&&!1===e.block.options?.isRequired},get children(){var t=uu();return Ee(t,Z(cd,{"on:click":b,get children(){return e.block.options?.labels?.skip??qd.labels.skip}})),t}}),null),Ee(y,Z(le,{get when(){return C((()=>!!(e.block.options?.isMultipleAllowed&&t().length>0)))()&&!r()},get children(){var n=pu(),r=n.firstChild;return Ee(r,Z(le,{get when(){return t().length},get children(){return Z(cd,{variant:"secondary","on:click":m,get children(){return e.block.options?.labels?.clear??qd.labels.clear}})}}),null),Ee(r,Z(Cd,{type:"submit",disableIcon:!0,get children(){return C((()=>(e.block.options?.labels?.button??qd.labels.button)===qd.labels.button))()?`Upload ${t().length} file${t().length>1?"s":""}`:e.block.options?.labels?.button}}),null),n}}),null),S((()=>ke(v,"chat77submodule-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 "+(s()?"dragging-over":"")))),y;var y,v},mu=()=>gu(),bu=e=>{const t=e.split("/").pop();if(!t)return e;const n=encodeURIComponent(t);return e.replace(t,n)},yu={button:fd,placeholder:"Type a number..."};var vu=ve('<div class="chat77submodule-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex chat77submodule-input w-full"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=number>');const wu=e=>{const[t,n]=T(e.defaultValue??""),[r,o,i]=[_(a=()=>t()),e=>{E((()=>{const t=a();if(null==t)return void(e.value=t);const n=e.value;(0===t&&""===n||t!==n)&&(e.value=t+"")}))},e=>e.validity.badInput?a():""!==e.value?e.valueAsNumber:void 0];var a;let s;const l=()=>{""!==s?.value&&s?.reportValidity()?e.onSubmit({type:"text",value:s?.value??t().toString()}):s?.focus()},c=e=>{"Enter"===e.key&&l()};I((()=>{!Ht()&&s&&s.focus({preventScroll:!0}),window.addEventListener("message",d)})),P((()=>{window.removeEventListener("message",d)}));const d=e=>{const{data:t}=e;t.isFromChat77submodule&&"setInputValue"===t.command&&n(t.value)};return(()=>{var t=vu(),a=t.firstChild.firstChild;t.$$keydown=c,a.$$input=e=>{n(i(e.currentTarget))},Se(o,a,(()=>!0));return"function"==typeof s?Se(s,a):s=a,a.style.setProperty("font-size","16px"),a.style.setProperty("appearance","auto"),a.value=r,Ee(t,Z(Cd,{type:"button",class:"h-[56px]","on:click":l,get children(){return e.block.options?.labels?.button}}),null),S((t=>{var n=e.block.options?.labels?.placeholder??yu.placeholder,r=e.block.options?.min,o=e.block.options?.max,i=e.block.options?.step??"any";return n!==t.e&&xe(a,"placeholder",t.e=n),r!==t.t&&xe(a,"min",t.t=r),o!==t.a&&xe(a,"max",t.a=o),i!==t.o&&xe(a,"step",t.o=i),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),t})()};we(["keydown","input"]);var xu="https://js.stripe.com/v3",ku=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Tu="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Su=null,Eu=function(e){return null!==Su?Su:Su=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(Tu),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(xu,'"]')),t=0;t<e.length;t++){var n=e[t];if(ku.test(n.src))return n}return null}();r&&e?console.warn(Tu):r||(r=function(){var e=document.createElement("script");e.src="".concat(xu).concat("");var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(e),e}()),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}))},Cu=Promise.resolve().then((function(){return Eu(null)})),_u=!1;Cu.catch((function(e){_u||console.warn(e)}));(function(e){return e.STRIPE="Stripe",e})({}).STRIPE;const Iu={button:"Pay",success:"Success"};var Pu=ve('<div class="chat77submodule-input-error-message mt-4 text-center animate-fade-in">'),Ou=ve('<form id=payment-form class="flex flex-col p-4 chat77submodule-input w-full items-center"><slot name=stripe-payment-form>');let Au,Ru=null,Nu=null;const Lu=e=>{const[t,n]=T(),[r,o]=T(!1),[i,a]=T(!1);I((async()=>{if(Du(Au),!e.options?.publicKey)return n("Missing Stripe public key");if(Ru=await function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_u=!0;var r=Date.now();return Cu.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})}(r,n),r}(e,t,r)}))}(e.options?.publicKey),!Ru)return;Nu=Ru.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(Au).getPropertyValue("--chat77submodule-button-bg-color")}},clientSecret:e.options.paymentIntentSecret});Nu.create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout((()=>{o(!0),e.onTransitionEnd()}),1e3)}));const s=async t=>{if(t.preventDefault(),!Ru||!Nu)return;var r;a(!0),r={sessionId:e.context.sessionId,resultId:e.context.resultId,chat77submodule:e.context.chat77submodule},sessionStorage.setItem("chat77submodulePaymentInProgress",JSON.stringify(r));const{postalCode:o,...i}=e.options?.additionalInformation?.address??{},{error:s,paymentIntent:l}=await Ru.confirmPayment({elements:Nu,confirmParams:{return_url:window.location.href,payment_method_data:{billing_details:{name:e.options?.additionalInformation?.name,email:e.options?.additionalInformation?.email,phone:e.options?.additionalInformation?.phoneNumber,address:{...i,postal_code:o}}}},redirect:"if_required"});return ze(),a(!1),"validation_error"!==s?.type?"card_error"===s?.type?n(s.message):s||"succeeded"!==l.status?void 0:e.onSuccess():void 0};return(()=>{var n=Ou(),o=n.firstChild;n.addEventListener("submit",s);return"function"==typeof Au?Se(Au,o):Au=o,o._$owner=A(),Ee(n,Z(le,{get when(){return r()},get children(){return Z(Cd,{get isLoading(){return i()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[C((()=>e.options?.labels?.button??Iu.button))," ",C((()=>e.options?.amountLabel))]}})}}),null),Ee(n,Z(le,{get when(){return t()},get children(){var e=Pu();return Ee(e,t),e}}),null),n})()},Du=e=>{const t=e.getRootNode().host,n=document.createElement("div");n.style.width="100%",n.slot="stripe-payment-form",t.appendChild(n);const r=document.createElement("div");r.id="payment-element",n.appendChild(r)},Mu=e=>Z(Lu,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context},get onTransitionEnd(){return e.onTransitionEnd}});var Bu=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><polyline points="6 9 12 15 18 9">');const Uu=e=>{return Te(t=Bu(),e,!0,!0),t;var t},Fu={button:fd,placeholder:"Type your phone number..."},$u=[{name:"International",flag:"🌐",code:"INT",dial_code:null},{name:"Afghanistan",flag:"🇦🇫",code:"AF",dial_code:"+93"},{name:"Åland Islands",flag:"🇦🇽",code:"AX",dial_code:"+358"},{name:"Albania",flag:"🇦🇱",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"🇩🇿",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"🇦🇸",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"🇦🇩",code:"AD",dial_code:"+376"},{name:"Angola",flag:"🇦🇴",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"🇦🇮",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"🇦🇶",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"🇦🇬",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"🇦🇷",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"🇦🇲",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"🇦🇼",code:"AW",dial_code:"+297"},{name:"Australia",flag:"🇦🇺",code:"AU",dial_code:"+61"},{name:"Austria",flag:"🇦🇹",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"🇦🇿",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"🇧🇸",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"🇧🇭",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"🇧🇩",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"🇧🇧",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"🇧🇾",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"🇧🇪",code:"BE",dial_code:"+32"},{name:"Belize",flag:"🇧🇿",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"🇧🇯",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"🇧🇲",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"🇧🇹",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"🇧🇴",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"🇧🇦",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"🇧🇼",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"🇧🇻",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"🇧🇷",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"🇮🇴",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"🇧🇳",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"🇧🇬",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"🇧🇫",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"🇧🇮",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"🇰🇭",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"🇨🇲",code:"CM",dial_code:"+237"},{name:"Canada",flag:"🇨🇦",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"🇨🇻",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"🇰🇾",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"🇨🇫",code:"CF",dial_code:"+236"},{name:"Chad",flag:"🇹🇩",code:"TD",dial_code:"+235"},{name:"Chile",flag:"🇨🇱",code:"CL",dial_code:"+56"},{name:"China",flag:"🇨🇳",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"🇨🇽",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"🇨🇨",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"🇨🇴",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"🇰🇲",code:"KM",dial_code:"+269"},{name:"Congo",flag:"🇨🇬",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"🇨🇩",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"🇨🇰",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"🇨🇷",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"🇨🇮",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"🇭🇷",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"🇨🇺",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"🇨🇾",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"🇨🇿",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"🇩🇰",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"🇩🇯",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"🇩🇲",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"🇩🇴",code:"DO",dial_code:"+1849"},{name:"Dominican Republic",flag:"🇩🇴",code:"DO",dial_code:"+1829"},{name:"Dominican Republic",flag:"🇩🇴",code:"DO",dial_code:"+1809"},{name:"Ecuador",flag:"🇪🇨",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"🇪🇬",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"🇸🇻",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"🇬🇶",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"🇪🇷",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"🇪🇪",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"🇪🇹",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"🇫🇰",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"🇫🇴",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"🇫🇯",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"🇫🇮",code:"FI",dial_code:"+358"},{name:"France",flag:"🇫🇷",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"🇬🇫",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"🇵🇫",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"🇹🇫",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"🇬🇦",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"🇬🇲",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"🇬🇪",code:"GE",dial_code:"+995"},{name:"Germany",flag:"🇩🇪",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"🇬🇭",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"🇬🇮",code:"GI",dial_code:"+350"},{name:"Greece",flag:"🇬🇷",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"🇬🇱",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"🇬🇩",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"🇬🇵",code:"GP",dial_code:"+590"},{name:"Guam",flag:"🇬🇺",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"🇬🇹",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"🇬🇬",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"🇬🇳",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"🇬🇼",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"🇬🇾",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"🇭🇹",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"🇭🇲",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"🇻🇦",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"🇭🇳",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"🇭🇰",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"🇭🇺",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"🇮🇸",code:"IS",dial_code:"+354"},{name:"India",flag:"🇮🇳",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"🇮🇩",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"🇮🇷",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"🇮🇶",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"🇮🇪",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"🇮🇲",code:"IM",dial_code:"+44"},{name:"Israel",flag:"🇮🇱",code:"IL",dial_code:"+972"},{name:"Italy",flag:"🇮🇹",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"🇯🇲",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"🇯🇵",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"🇯🇪",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"🇯🇴",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"🇰🇿",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"🇰🇪",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"🇰🇮",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"🇰🇵",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"🇰🇷",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"🇽🇰",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"🇰🇼",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"🇰🇬",code:"KG",dial_code:"+996"},{name:"Laos",flag:"🇱🇦",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"🇱🇻",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"🇱🇧",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"🇱🇸",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"🇱🇷",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"🇱🇾",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"🇱🇮",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"🇱🇹",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"🇱🇺",code:"LU",dial_code:"+352"},{name:"Macao",flag:"🇲🇴",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"🇲🇰",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"🇲🇬",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"🇲🇼",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"🇲🇾",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"🇲🇻",code:"MV",dial_code:"+960"},{name:"Mali",flag:"🇲🇱",code:"ML",dial_code:"+223"},{name:"Malta",flag:"🇲🇹",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"🇲🇭",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"🇲🇶",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"🇲🇷",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"🇲🇺",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"🇾🇹",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"🇲🇽",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"🇫🇲",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"🇲🇩",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"🇲🇨",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"🇲🇳",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"🇲🇪",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"🇲🇸",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"🇲🇦",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"🇲🇿",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"🇲🇲",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"🇳🇦",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"🇳🇷",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"🇳🇵",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"🇳🇱",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"🇳🇨",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"🇳🇿",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"🇳🇮",code:"NI",dial_code:"+505"},{name:"Niger",flag:"🇳🇪",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"🇳🇬",code:"NG",dial_code:"+234"},{name:"Niue",flag:"🇳🇺",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"🇳🇫",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"🇲🇵",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"🇳🇴",code:"NO",dial_code:"+47"},{name:"Oman",flag:"🇴🇲",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"🇵🇰",code:"PK",dial_code:"+92"},{name:"Palau",flag:"🇵🇼",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"🇵🇸",code:"PS",dial_code:"+970"},{name:"Panama",flag:"🇵🇦",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"🇵🇬",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"🇵🇾",code:"PY",dial_code:"+595"},{name:"Peru",flag:"🇵🇪",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"🇵🇭",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"🇵🇳",code:"PN",dial_code:"+64"},{name:"Poland",flag:"🇵🇱",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"🇵🇹",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"🇵🇷",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"🇶🇦",code:"QA",dial_code:"+974"},{name:"Romania",flag:"🇷🇴",code:"RO",dial_code:"+40"},{name:"Russia",flag:"🇷🇺",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"🇷🇼",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"🇷🇪",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"🇧🇱",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"🇸🇭",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"🇰🇳",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"🇱🇨",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"🇲🇫",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"🇵🇲",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"🇻🇨",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"🇼🇸",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"🇸🇲",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"🇸🇹",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"🇸🇦",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"🇸🇳",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"🇷🇸",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"🇸🇨",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"🇸🇱",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"🇸🇬",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"🇸🇰",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"🇸🇮",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"🇸🇧",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"🇸🇴",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"🇿🇦",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"🇸🇸",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"🇬🇸",code:"GS",dial_code:"+500"},{name:"Spain",flag:"🇪🇸",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"🇱🇰",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"🇸🇩",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"🇸🇷",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"🇸🇯",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"🇸🇿",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"🇸🇪",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"🇨🇭",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"🇸🇾",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"🇹🇼",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"🇹🇯",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"🇹🇿",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"🇹🇭",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"🇹🇱",code:"TL",dial_code:"+670"},{name:"Togo",flag:"🇹🇬",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"🇹🇰",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"🇹🇴",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"🇹🇹",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"🇹🇳",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"🇹🇷",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"🇹🇲",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"🇹🇨",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"🇹🇻",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"🇺🇬",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"🇺🇦",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"🇦🇪",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"🇬🇧",code:"GB",dial_code:"+44"},{name:"United States",flag:"🇺🇸",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"🇺🇾",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"🇺🇿",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"🇻🇺",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"🇻🇪",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"🇻🇳",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"🇻🇬",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"🇻🇮",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"🇼🇫",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"🇾🇪",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"🇿🇲",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"🇿🇼",code:"ZW",dial_code:"+263"}];var ju=ve('<div class="chat77submodule-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex chat77submodule-input w-full"><div class="relative chat77submodule-country-select flex justify-center items-center"><div class="pl-2 pr-1 flex items-center gap-2"><span></span></div><select class="absolute top-0 left-0 w-full h-full cursor-pointer opacity-0">'),zu=ve("<option> ");const Hu=e=>{const[t,n]=T(Ye(e.defaultCountryCode)?"INT":e.defaultCountryCode),[r,o]=T(e.defaultValue??"");let i;const a=e=>{o(e),""!==e&&"+"!==e||"INT"===t()||n("INT");const r=e?.startsWith("+")&&e.length>2&&$u.reduce(((t,n)=>!n?.dial_code||null!==t&&!t.dial_code?t:e?.startsWith(n.dial_code)&&n.dial_code.length>(t?.dial_code.length??0)?n:t),null);r&&n(r.code)},s=()=>{const n=$u.find((e=>e.code===t()))?.dial_code;if(""!==i?.value&&i?.reportValidity()){const t=i?.value??r();e.onSubmit({type:"text",value:t.startsWith("+")?t:`${n??""}${t}`})}else i?.focus()},l=e=>{"Enter"===e.key&&s()},c=e=>{const t=e.currentTarget.value;n(t);const a=$u.find((e=>e.code===t))?.dial_code;""===r()&&a&&o(a),i?.focus()};I((()=>{!Ht()&&i&&i.focus({preventScroll:!0}),window.addEventListener("message",d)})),P((()=>{window.removeEventListener("message",d)}));const d=e=>{const{data:t}=e;t.isFromChat77submodule&&"setInputValue"===t.command&&o(t.value)};return u=ju(),p=u.firstChild,h=p.firstChild.firstChild,g=h.firstChild,f=h.nextSibling,u.$$keydown=l,Ee(g,(()=>$u.find((e=>t()===e.code))?.flag)),Ee(h,Z(Uu,{class:"w-3"}),null),f.addEventListener("change",c),Ee(f,Z(se,{each:$u,children:e=>{return n=zu(),r=n.firstChild,Ee(n,(()=>e.name),r),Ee(n,(()=>e.dial_code?`(${e.dial_code})`:""),null),S((()=>n.selected=e.code===t())),S((()=>n.value=e.code)),n;var n,r}})),Ee(p,Z(Hd,{type:"tel",ref(e){"function"==typeof i?i(e):i=e},get value(){return r()},onInput:a,get placeholder(){return e.labels?.placeholder??Fu.placeholder},get autofocus(){return!Ht()}}),null),Ee(u,Z(Cd,{type:"button",class:"h-[56px]","on:click":s,get children(){return e.labels?.button}}),null),u;var u,p,h,g,f};we(["keydown"]);const Vu=fd,Gu="Filter the options...";var Wu=ve('<div class="flex items-end chat77submodule-input w-full">'),qu=ve('<form class="flex flex-col gap-2 w-full items-end"><div>'),Ku=ve("<span class=font-semibold>"),Yu=ve('<span class="text-sm whitespace-pre-wrap text-left">'),Xu=ve('<div class="flex flex-col gap-1 ">'),Zu=ve("<div role=checkbox><img fetchpriority=high class=m-auto><div>"),Ju=ve('<div role=checkbox aria-checked class="flex flex-col focus:outline-none cursor-pointer select-none chat77submodule-selectable-picture selected"><img fetchpriority=high><div>');const Qu=e=>{let t;const[n,r]=T(e.defaultItems),[o,i]=T([]),[a,s]=T(0);I((()=>{!Ht()&&t&&t.focus({preventScroll:!0})}));const l=e=>{c(e)},c=e=>{const t=o().indexOf(e);i(-1!==t?t=>t.filter((t=>t!==e)):t=>[...t,e])},d=()=>e.onSubmit({type:"text",value:o().map((t=>{const n=e.defaultItems.find((e=>e.id===t));return Xe(n?.title)?n.title:n?.pictureSrc})).join(", ")}),u=t=>{r(e.defaultItems.filter((e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase()))))};E((()=>{a()===e.defaultItems.filter((e=>qe(e.pictureSrc))).length&&e.onTransitionEnd()}));const p=()=>{s((e=>e+1))};return g=qu(),f=g.firstChild,g.addEventListener("submit",d),Ee(g,Z(le,{get when(){return e.options?.isSearchable},get children(){var n=Wu();return Ee(n,Z(gd,{ref(e){"function"==typeof t?t(e):t=e},onInput:u,get placeholder(){return e.options?.searchInputPlaceholder??Gu},onClear:()=>r(e.defaultItems)})),n}}),f),Ee(f,Z(se,{get each(){return n()},children:(e,t)=>{return n=Zu(),r=n.firstChild,i=r.nextSibling,n.addEventListener("click",(()=>l(e.id))),r.addEventListener("load",p),Ee(i,Z(Od,{get isChecked(){return o().some((t=>t===e.id))},get class(){return"flex-shrink-0"+(e.title||e.description?" mt-1":void 0)}}),null),Ee(i,Z(le,{get when(){return e.title||e.description},get children(){var t=Xu();return Ee(t,Z(le,{get when(){return e.title},get children(){var t=Ku();return Ee(t,(()=>e.title)),t}}),null),Ee(t,Z(le,{get when(){return e.description},get children(){var t=Yu();return Ee(t,(()=>e.description)),t}}),null),t}}),null),S((a=>{var s=o().some((t=>t===e.id)),l="flex flex-col focus:outline-none cursor-pointer select-none chat77submodule-selectable-picture"+(o().some((t=>t===e.id))?" selected":"")+(Ze(e.pictureSrc)?" has-svg":""),c=e.id,d=e.pictureSrc,u=e.title??`Picture ${t()+1}`,p=`Picture choice ${t()+1}`,h="flex gap-3 py-2 flex-shrink-0"+(Ye(e.title)&&Ye(e.description)?" justify-center":" px-3");return s!==a.e&&xe(n,"aria-checked",a.e=s),l!==a.t&&ke(n,a.t=l),c!==a.a&&xe(n,"data-itemid",a.a=c),d!==a.o&&xe(r,"src",a.o=d),u!==a.i&&xe(r,"alt",a.i=u),p!==a.n&&xe(r,"elementtiming",a.n=p),h!==a.s&&ke(i,a.s=h),a}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),n;var n,r,i}}),null),Ee(f,Z(se,{get each(){return o().filter((e=>n().every((t=>t.id!==e)))).map((t=>e.defaultItems.find((e=>e.id===t)))).filter(qe)},children:(t,n)=>{return r=Ju(),i=r.firstChild,a=i.nextSibling,r.addEventListener("click",(()=>l(t.id))),Ee(a,Z(Od,{get isChecked(){return o().some((e=>e===t.id))},get class(){return"flex-shrink-0"+(t.title||t.description?" mt-1":void 0)}}),null),Ee(a,Z(le,{get when(){return t.title||t.description},get children(){var e=Xu();return Ee(e,Z(le,{get when(){return t.title},get children(){var e=Ku();return Ee(e,(()=>t.title)),e}}),null),Ee(e,Z(le,{get when(){return t.description},get children(){var e=Yu();return Ee(e,(()=>t.description)),e}}),null),e}}),null),S((o=>{var s=t.id,l=e.defaultItems.find((e=>e.id===t.id))?.pictureSrc,c=t.title??`Selected picture ${n()+1}`,d=`Selected picture choice ${n()+1}`,u="flex gap-3 py-2 flex-shrink-0"+(Ye(t.title)&&Ye(t.description)?" justify-center":" pl-4");return s!==o.e&&xe(r,"data-itemid",o.e=s),l!==o.t&&xe(i,"src",o.t=l),c!==o.a&&xe(i,"alt",o.a=c),d!==o.o&&xe(i,"elementtiming",o.o=d),u!==o.i&&ke(a,o.i=u),o}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),r;var r,i,a}}),null),Ee(g,(h=C((()=>o().length>0)),()=>h()&&Z(Cd,{disableIcon:!0,get children(){return e.options?.buttonLabel??Vu}})),null),S((()=>ke(f,"flex flex-wrap justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":"")))),g;var h,g,f};var ep=ve('<div class="flex items-end chat77submodule-input w-full">'),tp=ve('<div class="flex flex-col gap-2 w-full"><div>'),np=ve('<button><img fetchpriority=high class=m-auto><div><span class=font-semibold></span><span class="text-sm whitespace-pre-wrap text-left">');const rp=e=>{let t;const[n,r]=T(e.defaultItems),[o,i]=T(0);I((()=>{!Ht()&&t&&t.focus({preventScroll:!0})}));const a=t=>{r(e.defaultItems.filter((e=>e.title?.toLowerCase().includes((t??"").toLowerCase())||e.description?.toLowerCase().includes((t??"").toLowerCase()))))};E((()=>{o()===e.defaultItems.filter((e=>qe(e.pictureSrc))).length&&e.onTransitionEnd()}));const s=()=>{i((e=>e+1))};return l=tp(),c=l.firstChild,Ee(l,Z(le,{get when(){return e.options?.isSearchable},get children(){var n=ep();return Ee(n,Z(gd,{ref(e){"function"==typeof t?t(e):t=e},onInput:a,get placeholder(){return e.options?.searchInputPlaceholder??""},onClear:()=>r(e.defaultItems)})),n}}),c),Ee(c,Z(se,{get each(){return n()},children:(t,r)=>{return o=np(),i=o.firstChild,a=i.nextSibling,l=a.firstChild,c=l.nextSibling,o.addEventListener("click",(()=>(t=>{const r=n()[t];if(r)return e.onSubmit({type:"text",label:Xe(r.title)?r.title:r.pictureSrc??r.id,value:r.id})})(r()))),i.addEventListener("load",s),Ee(l,(()=>t.title)),Ee(c,(()=>t.description)),S((e=>{var n=t.id,s="flex flex-col chat77submodule-picture-button focus:outline-none filter hover:brightness-90 active:brightness-75 justify-between  "+(Ze(t.pictureSrc)?"has-svg":""),l=t.pictureSrc,c=t.title??`Picture ${r()+1}`,d=`Picture choice ${r()+1}`,u="flex flex-col gap-1 py-2 flex-shrink-0 px-4 w-full"+(t.description?" items-start":"");return n!==e.e&&xe(o,"data-itemid",e.e=n),s!==e.t&&ke(o,e.t=s),l!==e.a&&xe(i,"src",e.a=l),c!==e.o&&xe(i,"alt",e.o=c),d!==e.i&&xe(i,"elementtiming",e.i=d),u!==e.n&&ke(a,e.n=u),e}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),o;var o,i,a,l,c}})),S((()=>ke(c,"gap-2 flex flex-wrap justify-end"+(e.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":"")))),l;var l,c},op="Numbers",ip=10,ap={button:fd},sp=0;var lp=ve('<form class="flex flex-col gap-2"><div class="flex flex-wrap justify-center gap-2"></div><div class="flex justify-end">'),cp=ve('<span class="text-sm w-full rating-label">'),dp=ve('<span class="text-sm w-full text-right pr-2 rating-label">'),up=ve("<div role=checkbox>"),pp=ve("<div>");const hp=e=>{const[t,n]=T(e.defaultValue?Number(e.defaultValue):void 0),r=n=>{n.preventDefault();const r=t();Ke(r)||e.onSubmit({type:"text",value:r.toString()})},o=t=>{e.block.options?.isOneClickSubmitEnabled&&e.onSubmit({type:"text",value:t.toString()}),n(t)};return l=lp(),c=l.firstChild,d=c.nextSibling,l.addEventListener("submit",r),Ee(l,(i=C((()=>!!e.block.options?.labels?.left)),()=>{return i()&&(Ee(t=cp(),(()=>e.block.options.labels.left)),t);var t}),c),Ee(c,Z(se,{get each(){return Array.from(Array((e.block.options?.length??ip)+("Numbers"===(e.block.options?.buttonType??op)?-((e.block.options?.startsAt??sp)-1):0)))},children:(n,r)=>Z(gp,ne((()=>e.block.options),{get rating(){return t()},get idx(){return r()+("Numbers"===(e.block.options?.buttonType??op)?e.block.options?.startsAt??sp:1)},onClick:o}))})),Ee(l,(a=C((()=>!!e.block.options?.labels?.right)),()=>{return a()&&(Ee(t=dp(),(()=>e.block.options.labels.right)),t);var t}),d),Ee(d,(s=C((()=>!!qe(t()))),()=>s()&&Z(Cd,{disableIcon:!0,get children(){return e.block.options?.labels?.button??ap.button}}))),l;var i,a,s,l,c,d},gp=e=>{const t=t=>{t.preventDefault(),e.onClick(e.idx)};return Z(ce,{get children(){return[Z(de,{get when(){return"Numbers"===(e.buttonType??op)},get children(){return[Z(le,{get when(){return e.isOneClickSubmitEnabled},get children(){return Z(cd,{"on:click":t,get children(){return e.idx}})}}),Z(le,{get when(){return!e.isOneClickSubmitEnabled},get children(){var n=up();return n.addEventListener("click",t),Ee(n,(()=>e.idx)),S((t=>{var r=qe(e.rating)&&e.idx<=e.rating,o="py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none chat77submodule-selectable"+(qe(e.rating)&&e.idx<=e.rating?" selected":"");return r!==t.e&&xe(n,"aria-checked",t.e=r),o!==t.t&&ke(n,t.t=o),t}),{e:void 0,t:void 0}),n}})]}}),Z(de,{get when(){return"Numbers"!==(e.buttonType??op)},get children(){var t=pp();return t.addEventListener("click",(()=>e.onClick(e.idx))),S((n=>{var r="flex justify-center items-center rating-icon-container cursor-pointer "+(qe(e.rating)&&e.idx<=e.rating?"selected":""),o=e.customIcon?.isEnabled&&!Ye(e.customIcon.svg)?e.customIcon.svg:fp;return r!==n.e&&ke(t,n.e=r),o!==n.t&&(t.innerHTML=n.t=o),n}),{e:void 0,t:void 0}),t}})]}})},fp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';var mp=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48">');const bp=e=>{return Te(t=mp(),e,!0,!0),t;var t};var yp=ve('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><circle cx=10 cy=12 r=2></circle><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22">');const vp=e=>{return Te(t=yp(),e,!0,!0),t;var t};var wp=ve("<input type=file id=document-upload multiple class=hidden>"),xp=ve('<input type=file id=photos-upload accept="image/*, video/*"multiple class=hidden>'),kp=ve('<label aria-label="Add attachments"for=document-upload>'),Tp=ve("<label> Document"),Sp=ve("<label> Photos & videos");const Ep=e=>{return[(n=wp(),n.addEventListener("change",(t=>{t.currentTarget.files&&e.onNewFiles(t.currentTarget.files)})),n),(t=xp(),t.addEventListener("change",(t=>{t.currentTarget.files&&e.onNewFiles(t.currentTarget.files)})),t),Z(ce,{get children(){return[Z(de,{get when(){return Ht()},get children(){var t=kp();return Ee(t,Z(bp,{class:"w-5"})),S((()=>ke(t,pc("filter data-[state=open]:backdrop-brightness-90 hover:backdrop-brightness-95 transition rounded-md p-2 focus:outline-none",e.class)))),t}}),Z(de,{when:!0,get children(){return Z(Ql.Root,{get children(){return[Z(Ql.Trigger,{get class(){return pc("filter data-[state=open]:backdrop-brightness-90 hover:backdrop-brightness-95 transition rounded-md p-2 focus:outline-none",e.class)},"aria-label":"Add attachments",get children(){return Z(bp,{class:"w-5"})}}),Z(Ql.Positioner,{get children(){return Z(Ql.Content,{class:"p-3 gap-2 focus:outline-none",get children(){return[Z(Ql.Item,{value:"document",asChild:e=>{return t=Tp(),n=t.firstChild,Te(t,ne(e,{for:"document-upload",class:"p-2 filter hover:brightness-95 flex gap-3 items-center"}),!1,!0),Ee(t,Z(Zd,{class:"w-4"}),n),t;var t,n}}),Z(Ql.Item,{value:"photos",asChild:e=>{return t=Sp(),n=t.firstChild,Te(t,ne(e,{for:"photos-upload",class:"p-2 filter hover:brightness-95 flex gap-3 items-center"}),!1,!0),Ee(t,Z(vp,{class:"w-4"}),n),t;var t,n}})]}})}})]}})}})]}})];var t,n};var Cp=ve('<svg viewBox="0 0 384 512"stroke=currentColor fill=currentColor><path d="M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z">');const _p=e=>{return Te(t=Cp(),e,!0,!0),t;var t};var Ip=ve('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"rows=6 data-testid=textarea required>');const Pp=e=>{const[t,n]=re(e,["ref","onInput"]);return(()=>{var e=Ip();e.$$input=e=>t.onInput(e.currentTarget.value);var r=t.ref;return"function"==typeof r?Se(r,e):t.ref=e,e.style.setProperty("font-size","16px"),Te(e,ne({get autofocus(){return!Ht()}},n),!1,!1),e})()};we(["input"]);var Op={},Ap=function(e,t){return Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ap(e,t)};function Rp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ap(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Np=function(){return Np=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Np.apply(this,arguments)};function Lp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Dp(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Mp(e,t){return function(n,r){t(n,r,e)}}function Bp(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p=!1,h=n.length-1;h>=0;h--){var g={};for(var f in r)g[f]="access"===f?{}:r[f];for(var f in r.access)g.access[f]=r.access[f];g.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,n[h])("accessor"===l?{get:u.get,set:u.set}:u[c],g);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(u.get=s),(s=a(m.set))&&(u.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):u[c]=s)}d&&Object.defineProperty(d,r.name,u),p=!0}function Up(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function Fp(e){return"symbol"==typeof e?e:"".concat(e)}function $p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function jp(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function zp(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Hp(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var Vp=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function Gp(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Vp(t,e,n)}function Wp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Kp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qp(arguments[t]));return e}function Yp(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function Xp(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Zp(e){return this instanceof Zp?(this.v=e,this):new Zp(e)}function Jp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof Zp?Promise.resolve(e.value.v).then(l,c):d(i[0][2],e)}(o[e](t))}catch(e){d(i[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Qp(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Zp(e[r](t)),done:!1}:o?o(t):t}:o}}function eh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Wp(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function th(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var nh=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},rh=function(e){return rh=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},rh(e)};function oh(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=rh(e),r=0;r<n.length;r++)"default"!==n[r]&&Vp(t,e,n[r]);return nh(t,e),t}function ih(e){return e&&e.__esModule?e:{default:e}}function ah(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function sh(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function lh(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function ch(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var dh="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function uh(e){function t(t){e.error=e.hasError?new dh(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,(function(e){return t(e),o()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function ph(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,o,i){return n?t?".jsx":".js":!r||o&&i?r+o+"."+i.toLowerCase()+"js":e})):e}var hh,gh={__extends:Rp,__assign:Np,__rest:Lp,__decorate:Dp,__param:Mp,__esDecorate:Bp,__runInitializers:Up,__propKey:Fp,__setFunctionName:$p,__metadata:jp,__awaiter:zp,__generator:Hp,__createBinding:Vp,__exportStar:Gp,__values:Wp,__read:qp,__spread:Kp,__spreadArrays:Yp,__spreadArray:Xp,__await:Zp,__asyncGenerator:Jp,__asyncDelegator:Qp,__asyncValues:eh,__makeTemplateObject:th,__importStar:oh,__importDefault:ih,__classPrivateFieldGet:ah,__classPrivateFieldSet:sh,__classPrivateFieldIn:lh,__addDisposableResource:ch,__disposeResources:uh,__rewriteRelativeImportExtension:ph},fh=wc(Object.freeze({__proto__:null,__addDisposableResource:ch,get __assign(){return Np},__asyncDelegator:Qp,__asyncGenerator:Jp,__asyncValues:eh,__await:Zp,__awaiter:zp,__classPrivateFieldGet:ah,__classPrivateFieldIn:lh,__classPrivateFieldSet:sh,__createBinding:Vp,__decorate:Dp,__disposeResources:uh,__esDecorate:Bp,__exportStar:Gp,__extends:Rp,__generator:Hp,__importDefault:ih,__importStar:oh,__makeTemplateObject:th,__metadata:jp,__param:Mp,__propKey:Fp,__read:qp,__rest:Lp,__rewriteRelativeImportExtension:ph,__runInitializers:Up,__setFunctionName:$p,__spread:Kp,__spreadArray:Xp,__spreadArrays:Yp,__values:Wp,default:gh})),mh={},bh={},yh={};function vh(){if(hh)return yh;hh=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.WebmBase=void 0;return yh.WebmBase=class{constructor(e="Unknown",t=0){this.name=e,this.start=t}getType(){return"Unknown"}updateBySource(){}setSource(e){this.source=e,this.updateBySource()}updateByData(){}setData(e){this.data=e,this.updateByData()}getValue(){return this.data}setValue(e){this.setData(e)}},yh}var wh,xh,kh={},Th={},Sh={};function Eh(){return wh||(wh=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.SectionType=void 0,function(e){e.Container="Container",e.Uint="Uint",e.Int="Int",e.Float="Float",e.String="String",e.Date="Date",e.Binary="Binary"}(e||(Sh.SectionType=e={}))),Sh;var e}function Ch(){if(xh)return Th;xh=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.sections=void 0;const e=Eh();return Th.sections={172351395:{name:"EBML",type:e.SectionType.Container},646:{name:"EBMLVersion",type:e.SectionType.Uint},759:{name:"EBMLReadVersion",type:e.SectionType.Uint},754:{name:"EBMLMaxIDLength",type:e.SectionType.Uint},755:{name:"EBMLMaxSizeLength",type:e.SectionType.Uint},642:{name:"DocType",type:e.SectionType.String},647:{name:"DocTypeVersion",type:e.SectionType.Uint},645:{name:"DocTypeReadVersion",type:e.SectionType.Uint},108:{name:"Void",type:e.SectionType.Binary},63:{name:"CRC-32",type:e.SectionType.Binary},190023271:{name:"SignatureSlot",type:e.SectionType.Container},16010:{name:"SignatureAlgo",type:e.SectionType.Uint},16026:{name:"SignatureHash",type:e.SectionType.Uint},16037:{name:"SignaturePublicKey",type:e.SectionType.Binary},16053:{name:"Signature",type:e.SectionType.Binary},15963:{name:"SignatureElements",type:e.SectionType.Container},15995:{name:"SignatureElementList",type:e.SectionType.Container},9522:{name:"SignedElement",type:e.SectionType.Binary},139690087:{name:"Segment",type:e.SectionType.Container},21863284:{name:"SeekHead",type:e.SectionType.Container},3515:{name:"Seek",type:e.SectionType.Container},5035:{name:"SeekID",type:e.SectionType.Binary},5036:{name:"SeekPosition",type:e.SectionType.Uint},88713574:{name:"Info",type:e.SectionType.Container},13220:{name:"SegmentUID",type:e.SectionType.Binary},13188:{name:"SegmentFilename",type:e.SectionType.String},1882403:{name:"PrevUID",type:e.SectionType.Binary},1868715:{name:"PrevFilename",type:e.SectionType.String},2013475:{name:"NextUID",type:e.SectionType.Binary},1999803:{name:"NextFilename",type:e.SectionType.String},1092:{name:"SegmentFamily",type:e.SectionType.Binary},10532:{name:"ChapterTranslate",type:e.SectionType.Container},10748:{name:"ChapterTranslateEditionUID",type:e.SectionType.Uint},10687:{name:"ChapterTranslateCodec",type:e.SectionType.Uint},10661:{name:"ChapterTranslateID",type:e.SectionType.Binary},710577:{name:"TimecodeScale",type:e.SectionType.Uint},1161:{name:"Duration",type:e.SectionType.Float},1121:{name:"DateUTC",type:e.SectionType.Date},15273:{name:"Title",type:e.SectionType.String},3456:{name:"MuxingApp",type:e.SectionType.String},5953:{name:"WritingApp",type:e.SectionType.String},103:{name:"Timecode",type:e.SectionType.Uint},6228:{name:"SilentTracks",type:e.SectionType.Container},6359:{name:"SilentTrackNumber",type:e.SectionType.Uint},39:{name:"Position",type:e.SectionType.Uint},43:{name:"PrevSize",type:e.SectionType.Uint},35:{name:"SimpleBlock",type:e.SectionType.Binary},32:{name:"BlockGroup",type:e.SectionType.Container},33:{name:"Block",type:e.SectionType.Binary},34:{name:"BlockVirtual",type:e.SectionType.Binary},13729:{name:"BlockAdditions",type:e.SectionType.Container},38:{name:"BlockMore",type:e.SectionType.Container},110:{name:"BlockAddID",type:e.SectionType.Uint},37:{name:"BlockAdditional",type:e.SectionType.Binary},27:{name:"BlockDuration",type:e.SectionType.Uint},122:{name:"ReferencePriority",type:e.SectionType.Uint},123:{name:"ReferenceBlock",type:e.SectionType.Int},125:{name:"ReferenceVirtual",type:e.SectionType.Int},36:{name:"CodecState",type:e.SectionType.Binary},13730:{name:"DiscardPadding",type:e.SectionType.Int},14:{name:"Slices",type:e.SectionType.Container},104:{name:"TimeSlice",type:e.SectionType.Container},76:{name:"LaceNumber",type:e.SectionType.Uint},77:{name:"FrameNumber",type:e.SectionType.Uint},75:{name:"BlockAdditionID",type:e.SectionType.Uint},78:{name:"Delay",type:e.SectionType.Uint},79:{name:"SliceDuration",type:e.SectionType.Uint},72:{name:"ReferenceFrame",type:e.SectionType.Container},73:{name:"ReferenceOffset",type:e.SectionType.Uint},74:{name:"ReferenceTimeCode",type:e.SectionType.Uint},47:{name:"EncryptedBlock",type:e.SectionType.Binary},106212971:{name:"Tracks",type:e.SectionType.Container},46:{name:"TrackEntry",type:e.SectionType.Container},87:{name:"TrackNumber",type:e.SectionType.Uint},13253:{name:"TrackUID",type:e.SectionType.Uint},3:{name:"TrackType",type:e.SectionType.Uint},57:{name:"FlagEnabled",type:e.SectionType.Uint},8:{name:"FlagDefault",type:e.SectionType.Uint},5546:{name:"FlagForced",type:e.SectionType.Uint},28:{name:"FlagLacing",type:e.SectionType.Uint},11751:{name:"MinCache",type:e.SectionType.Uint},11768:{name:"MaxCache",type:e.SectionType.Uint},254851:{name:"DefaultDuration",type:e.SectionType.Uint},216698:{name:"DefaultDecodedFieldDuration",type:e.SectionType.Uint},209231:{name:"TrackTimecodeScale",type:e.SectionType.Float},4991:{name:"TrackOffset",type:e.SectionType.Int},5614:{name:"MaxBlockAdditionID",type:e.SectionType.Uint},4974:{name:"Name",type:e.SectionType.String},177564:{name:"Language",type:e.SectionType.String},6:{name:"CodecID",type:e.SectionType.String},9122:{name:"CodecPrivate",type:e.SectionType.Binary},362120:{name:"CodecName",type:e.SectionType.String},13382:{name:"AttachmentLink",type:e.SectionType.Uint},1742487:{name:"CodecSettings",type:e.SectionType.String},1785920:{name:"CodecInfoURL",type:e.SectionType.String},438848:{name:"CodecDownloadURL",type:e.SectionType.String},42:{name:"CodecDecodeAll",type:e.SectionType.Uint},12203:{name:"TrackOverlay",type:e.SectionType.Uint},5802:{name:"CodecDelay",type:e.SectionType.Uint},5819:{name:"SeekPreRoll",type:e.SectionType.Uint},9764:{name:"TrackTranslate",type:e.SectionType.Container},9980:{name:"TrackTranslateEditionUID",type:e.SectionType.Uint},9919:{name:"TrackTranslateCodec",type:e.SectionType.Uint},9893:{name:"TrackTranslateTrackID",type:e.SectionType.Binary},96:{name:"Video",type:e.SectionType.Container},26:{name:"FlagInterlaced",type:e.SectionType.Uint},5048:{name:"StereoMode",type:e.SectionType.Uint},5056:{name:"AlphaMode",type:e.SectionType.Uint},5049:{name:"OldStereoMode",type:e.SectionType.Uint},48:{name:"PixelWidth",type:e.SectionType.Uint},58:{name:"PixelHeight",type:e.SectionType.Uint},5290:{name:"PixelCropBottom",type:e.SectionType.Uint},5307:{name:"PixelCropTop",type:e.SectionType.Uint},5324:{name:"PixelCropLeft",type:e.SectionType.Uint},5341:{name:"PixelCropRight",type:e.SectionType.Uint},5296:{name:"DisplayWidth",type:e.SectionType.Uint},5306:{name:"DisplayHeight",type:e.SectionType.Uint},5298:{name:"DisplayUnit",type:e.SectionType.Uint},5299:{name:"AspectRatioType",type:e.SectionType.Uint},963876:{name:"ColourSpace",type:e.SectionType.Binary},1029411:{name:"GammaValue",type:e.SectionType.Float},230371:{name:"FrameRate",type:e.SectionType.Float},97:{name:"Audio",type:e.SectionType.Container},53:{name:"SamplingFrequency",type:e.SectionType.Float},14517:{name:"OutputSamplingFrequency",type:e.SectionType.Float},31:{name:"Channels",type:e.SectionType.Uint},15739:{name:"ChannelPositions",type:e.SectionType.Binary},8804:{name:"BitDepth",type:e.SectionType.Uint},98:{name:"TrackOperation",type:e.SectionType.Container},99:{name:"TrackCombinePlanes",type:e.SectionType.Container},100:{name:"TrackPlane",type:e.SectionType.Container},101:{name:"TrackPlaneUID",type:e.SectionType.Uint},102:{name:"TrackPlaneType",type:e.SectionType.Uint},105:{name:"TrackJoinBlocks",type:e.SectionType.Container},109:{name:"TrackJoinUID",type:e.SectionType.Uint},64:{name:"TrickTrackUID",type:e.SectionType.Uint},65:{name:"TrickTrackSegmentUID",type:e.SectionType.Binary},70:{name:"TrickTrackFlag",type:e.SectionType.Uint},71:{name:"TrickMasterTrackUID",type:e.SectionType.Uint},68:{name:"TrickMasterTrackSegmentUID",type:e.SectionType.Binary},11648:{name:"ContentEncodings",type:e.SectionType.Container},8768:{name:"ContentEncoding",type:e.SectionType.Container},4145:{name:"ContentEncodingOrder",type:e.SectionType.Uint},4146:{name:"ContentEncodingScope",type:e.SectionType.Uint},4147:{name:"ContentEncodingType",type:e.SectionType.Uint},4148:{name:"ContentCompression",type:e.SectionType.Container},596:{name:"ContentCompAlgo",type:e.SectionType.Uint},597:{name:"ContentCompSettings",type:e.SectionType.Binary},4149:{name:"ContentEncryption",type:e.SectionType.Container},2017:{name:"ContentEncAlgo",type:e.SectionType.Uint},2018:{name:"ContentEncKeyID",type:e.SectionType.Binary},2019:{name:"ContentSignature",type:e.SectionType.Binary},2020:{name:"ContentSigKeyID",type:e.SectionType.Binary},2021:{name:"ContentSigAlgo",type:e.SectionType.Uint},2022:{name:"ContentSigHashAlgo",type:e.SectionType.Uint},206814059:{name:"Cues",type:e.SectionType.Container},59:{name:"CuePoint",type:e.SectionType.Container},51:{name:"CueTime",type:e.SectionType.Uint},55:{name:"CueTrackPositions",type:e.SectionType.Container},119:{name:"CueTrack",type:e.SectionType.Uint},113:{name:"CueClusterPosition",type:e.SectionType.Uint},112:{name:"CueRelativePosition",type:e.SectionType.Uint},50:{name:"CueDuration",type:e.SectionType.Uint},4984:{name:"CueBlockNumber",type:e.SectionType.Uint},106:{name:"CueCodecState",type:e.SectionType.Uint},91:{name:"CueReference",type:e.SectionType.Container},22:{name:"CueRefTime",type:e.SectionType.Uint},23:{name:"CueRefCluster",type:e.SectionType.Uint},4959:{name:"CueRefNumber",type:e.SectionType.Uint},107:{name:"CueRefCodecState",type:e.SectionType.Uint},155296873:{name:"Attachments",type:e.SectionType.Container},8615:{name:"AttachedFile",type:e.SectionType.Container},1662:{name:"FileDescription",type:e.SectionType.String},1646:{name:"FileName",type:e.SectionType.String},1632:{name:"FileMimeType",type:e.SectionType.String},1628:{name:"FileData",type:e.SectionType.Binary},1710:{name:"FileUID",type:e.SectionType.Uint},1653:{name:"FileReferral",type:e.SectionType.Binary},1633:{name:"FileUsedStartTime",type:e.SectionType.Uint},1634:{name:"FileUsedEndTime",type:e.SectionType.Uint},4433776:{name:"Chapters",type:e.SectionType.Container},1465:{name:"EditionEntry",type:e.SectionType.Container},1468:{name:"EditionUID",type:e.SectionType.Uint},1469:{name:"EditionFlagHidden",type:e.SectionType.Uint},1499:{name:"EditionFlagDefault",type:e.SectionType.Uint},1501:{name:"EditionFlagOrdered",type:e.SectionType.Uint},54:{name:"ChapterAtom",type:e.SectionType.Container},13252:{name:"ChapterUID",type:e.SectionType.Uint},5716:{name:"ChapterStringUID",type:e.SectionType.String},17:{name:"ChapterTimeStart",type:e.SectionType.Uint},18:{name:"ChapterTimeEnd",type:e.SectionType.Uint},24:{name:"ChapterFlagHidden",type:e.SectionType.Uint},1432:{name:"ChapterFlagEnabled",type:e.SectionType.Uint},11879:{name:"ChapterSegmentUID",type:e.SectionType.Binary},11964:{name:"ChapterSegmentEditionUID",type:e.SectionType.Uint},9155:{name:"ChapterPhysicalEquiv",type:e.SectionType.Uint},15:{name:"ChapterTrack",type:e.SectionType.Container},9:{name:"ChapterTrackNumber",type:e.SectionType.Uint},0:{name:"ChapterDisplay",type:e.SectionType.Container},5:{name:"ChapString",type:e.SectionType.String},892:{name:"ChapLanguage",type:e.SectionType.String},894:{name:"ChapCountry",type:e.SectionType.String},10564:{name:"ChapProcess",type:e.SectionType.Container},10581:{name:"ChapProcessCodecID",type:e.SectionType.Uint},1293:{name:"ChapProcessPrivate",type:e.SectionType.Binary},10513:{name:"ChapProcessCommand",type:e.SectionType.Container},10530:{name:"ChapProcessTime",type:e.SectionType.Uint},10547:{name:"ChapProcessData",type:e.SectionType.Binary},39109479:{name:"Tags",type:e.SectionType.Container},13171:{name:"Tag",type:e.SectionType.Container},9152:{name:"Targets",type:e.SectionType.Container},10442:{name:"TargetTypeValue",type:e.SectionType.Uint},9162:{name:"TargetType",type:e.SectionType.String},9157:{name:"TagTrackUID",type:e.SectionType.Uint},9161:{name:"TagEditionUID",type:e.SectionType.Uint},9156:{name:"TagChapterUID",type:e.SectionType.Uint},9158:{name:"TagAttachmentUID",type:e.SectionType.Uint},10184:{name:"SimpleTag",type:e.SectionType.Container},1443:{name:"TagName",type:e.SectionType.String},1146:{name:"TagLanguage",type:e.SectionType.String},1156:{name:"TagDefault",type:e.SectionType.Uint},1159:{name:"TagString",type:e.SectionType.String},1157:{name:"TagBinary",type:e.SectionType.Binary},5552:{name:"Colour",type:e.SectionType.Container},5553:{name:"MatrixCoefficients",type:e.SectionType.Uint},5554:{name:"BitsPerChannel",type:e.SectionType.Uint},5555:{name:"ChromaSubsamplingHorz",type:e.SectionType.Uint},5556:{name:"ChromaSubsamplingVert",type:e.SectionType.Uint},5557:{name:"CbSubsamplingHorz",type:e.SectionType.Uint},5558:{name:"CbSubsamplingVert",type:e.SectionType.Uint},5559:{name:"ChromaSitingHorz",type:e.SectionType.Uint},5560:{name:"ChromaSitingVert",type:e.SectionType.Uint},5561:{name:"Range",type:e.SectionType.Uint},5562:{name:"TransferCharacteristics",type:e.SectionType.Uint},5563:{name:"Primaries",type:e.SectionType.Uint},5564:{name:"MaxCLL",type:e.SectionType.Uint},5565:{name:"MaxFALL",type:e.SectionType.Uint}},Th}var _h,Ih={};function Ph(){if(_h)return Ih;_h=1,Object.defineProperty(Ih,"__esModule",{value:!0}),Ih.WebmUint=void 0;const e=vh();function t(e){return e.length%2==1?"0"+e:e}let n=class extends e.WebmBase{constructor(e,t=0){super(e,t)}getType(){return"Uint"}updateBySource(){this.data="";for(let e=0;e<this.source.length;e++){const n=this.source[e].toString(16);this.data+=t(n)}}updateByData(){const e=this.data.length/2;this.source=new Uint8Array(e);for(let t=0;t<e;t++){const e=this.data.substring(2*t,2*t+2);this.source[t]=parseInt(e,16)}}getValue(){return parseInt(this.data,16)}setValue(e){this.setData(t(e.toString(16)))}};return Ih.WebmUint=n,Ih}var Oh,Ah={};function Rh(){if(Oh)return Ah;Oh=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.WebmFloat=void 0;const e=vh();let t=class extends e.WebmBase{constructor(e,t=0){super(e,t)}getType(){return"Float"}getFloatArrayType(){return this.source&&4===this.source.length?Float32Array:Float64Array}updateBySource(){const e=this.source.reverse(),t=new(this.getFloatArrayType())(e.buffer);this.data=t[0]}updateByData(){const e=new(this.getFloatArrayType())([this.data]),t=new Uint8Array(e.buffer);this.source=t.reverse()}};return Ah.WebmFloat=t,Ah}var Nh,Lh,Dh={};function Mh(){if(Nh)return Dh;Nh=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.WebmString=void 0;const e=vh();let t=class extends e.WebmBase{constructor(e,t=0){super(e,t)}getType(){return"String"}updateBySource(){this.data=this.source}updateByData(){this.source=this.data}getValue(){let e="";return this.source.forEach((t=>{e+=String.fromCharCode(t)})),e}};return Dh.WebmString=t,Dh}function Bh(){if(Lh)return kh;Lh=1,Object.defineProperty(kh,"__esModule",{value:!0}),kh.WebmContainer=void 0;const e=vh(),t=Ch(),n=Eh(),r=Ph(),o=Rh(),i=Mh();let a=class a extends e.WebmBase{constructor(e,t=!1,n=0){super(e,n),this.isInfinite=t,this.offset=0}getType(){return"Container"}readByte(){return this.source[this.offset++]}readUint(){const e=this.readByte(),t=8-e.toString(2).length;let n=e-(1<<7-t);for(let e=0;e<t;e++)n<<=8,n|=this.readByte();return n}updateBySource(){var s;let l;for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=l){const c=this.offset,d=this.readUint(),{name:u,type:p}=null!==(s=t.sections[d])&&void 0!==s?s:{},h=this.readUint();l=this.source.length,h>=0&&(l=Math.min(this.offset+h,l));const g=this.source.slice(this.offset,l);let f;switch(p){case n.SectionType.Container:f=new a(u,h<0,c);break;case n.SectionType.Uint:f=new r.WebmUint(u,c);break;case n.SectionType.Float:f=new o.WebmFloat(u,c);break;case n.SectionType.String:f=new i.WebmString(u,c);break;default:f=new e.WebmBase(u,c)}f.setSource(g),this.data.push({id:d,idHex:d.toString(16),data:f})}}writeUint(e,t=!1){let n;for(n=1;(e<0||e>=1<<7*n)&&n<8;n++);if(!t){for(let t=0;t<n;t++)this.source[this.offset+t]=e>>8*(n-1-t)&255;this.source[this.offset]&=(1<<8-n)-1,this.source[this.offset]|=1<<8-n}this.offset+=n}writeSections(e=!1){this.offset=0;for(let t=0;t<this.data.length;t++){const n=this.data[t],r=n.data.source,o=r.length;this.writeUint(n.id,e),this.writeUint(n.data instanceof a&&n.data.isInfinite?-1:o,e),e||this.source.set(r,this.offset),this.offset+=o}return this.offset}updateByData(){const e=this.writeSections(!0);this.source=new Uint8Array(e),this.writeSections()}getSectionById(e){for(let t=0;t<this.data.length;t++){const n=this.data[t];if(n.id===e)return n.data}return null}};return kh.WebmContainer=a,kh}var Uh,Fh={};var $h,jh,zh={};function Hh(){return jh||(jh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=fh;t.__exportStar(vh(),e),t.__exportStar(Bh(),e),t.__exportStar(function(){if(Uh)return Fh;Uh=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.WebmFile=void 0;const e=fh,t=Bh();let n=class n extends t.WebmContainer{constructor(e){super("File"),this.setSource(e)}getType(){return"File"}toBlob(e="video/webm"){return new Blob([this.source.buffer],{type:e})}static blobToArray(e){return new Promise(((t,n)=>{try{const r=new FileReader;r.onloadend=()=>{try{t(new Uint8Array(r.result))}catch(e){n(e)}},r.readAsArrayBuffer(e)}catch(e){n(e)}}))}static fromBlob(t){return e.__awaiter(this,void 0,void 0,(function*(){const e=yield n.blobToArray(t);return new n(e)}))}};return Fh.WebmFile=n,Fh}(),e),t.__exportStar(Rh(),e),t.__exportStar(Mh(),e),t.__exportStar(Ph(),e),t.__exportStar(Eh(),e),t.__exportStar(($h||($h=1,Object.defineProperty(zh,"__esModule",{value:!0})),zh),e),t.__exportStar(Ch(),e)}(bh)),bh}var Vh,Gh,Wh={};function qh(){if(Vh)return Wh;Vh=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.fixParsedWebmDuration=void 0;const e=Hh();return Wh.fixParsedWebmDuration=(t,n,r={})=>{let o=r.logger;void 0===o?o=e=>console.debug(e):o||(o=()=>{});const i=t.getSectionById(139690087);if(!i)return o("[fix-webm-duration] Segment section is missing"),!1;const a=i.getSectionById(88713574);if(!a)return o("[fix-webm-duration] Info section is missing"),!1;const s=a.getSectionById(710577);if(!s)return o("[fix-webm-duration] TimecodeScale section is missing"),!1;let l=a.getSectionById(1161);if(l){if(!(l.getValue()<=0))return o(`[fix-webm-duration] Duration section is present, and the value is ${l.getValue()}`),!1;o(`[fix-webm-duration] Duration section is present, but the value is ${l.getValue()}`),l.setValue(n)}else o("[fix-webm-duration] Duration section is missing"),l=new e.WebmFloat("Duration"),l.setValue(n),a.data.push({id:1161,data:l});return s.setValue(1e6),a.updateByData(),i.updateByData(),t.updateByData(),!0},Wh}!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=fh;t.__exportStar(function(){if(Gh)return mh;Gh=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.fixWebmDuration=void 0;const e=fh,t=Hh(),n=qh();return mh.fixWebmDuration=(r,o,i)=>e.__awaiter(void 0,void 0,void 0,(function*(){try{const e=yield t.WebmFile.fromBlob(r);if((0,n.fixParsedWebmDuration)(e,o,i))return e.toBlob(r.type)}catch(e){}return r})),mh}(),e),t.__exportStar(qh(),e)}(Op);const Kh={button:fd,placeholder:"Type your answer..."},Yh={isEnabled:!1,visibility:"Auto"};var Xh=ve('<div><button class="p-0.5 rounded-full"aria-label="Stop recording"></button><div class="relative flex w-full"><canvas class="w-full h-[56px]"></canvas><div class="absolute left-gradient w-2 left-0 h-[56px]"></div><div class="absolute right-gradient w-3 right-0 h-[56px]"></div></div><span class="time-container flex-none w-[35px] font-bold text-sm">');const Zh=e=>{const[t,n]=T(0);let r,o,i,a,s,l,c,d,u,p=[],h=0;const g=hn(e.buttonsTheme?.backgroundColor??Mt).join(", "),f=()=>{if(!i||!r||!u)return;const e=performance.now(),t=e-u;u=e,i.clearRect(0,0,r.width,r.height),i.fillStyle=`rgba(${g}, 0.2)`;for(let e=0;e<(r.width+3)/6;e++){const t=6*e-h,n=.1*r.height,o=(r.height-n)/2;i.beginPath(),i.roundRect(t,o,3,n,5),i.fill()}i.fillStyle=`rgba(${g}, 1)`;for(let e=0;e<p.length;e++){const t=r.width+6*(e+1)-h,n=r.height*((p[e]??0)/100),o=(r.height-n)/2;i.beginPath(),i.roundRect(t,o,3,n,5),i.fill()}h+=t/1e3*60,o=requestAnimationFrame(f)},m=()=>{i&&r&&i.clearRect(0,0,r.width,r.height),h=0,s?.disconnect(),s=void 0,l?.disconnect(),l=void 0,a?.close(),a=void 0,c?.getTracks().forEach((e=>e.stop())),c=void 0,p=[],clearTimeout(d),n(0),cancelAnimationFrame(o),e.onAbortRecording()};return E((()=>{"asking"===e.recordingStatus?(async()=>{r&&(c=await navigator.mediaDevices.getUserMedia({audio:!0}),e.onRecordingConfirmed(c),i||(i=r.getContext("2d")??void 0),d=setInterval((()=>{n((e=>e+1))}),1e3),a=new AudioContext,s=await Jh(a),l=a.createMediaStreamSource(c),l.connect(s),s.connect(a.destination),s.port.onmessage=e=>{6*((r.width+3)/6+p.length)<r.width+h&&p.push(Math.min(Math.max(e.data,5),90))},u=performance.now(),o=requestAnimationFrame(f))})():"stopped"===e.recordingStatus&&m()})),P((()=>{m()})),(()=>{var n=Xh(),o=n.firstChild,i=o.nextSibling,a=i.firstChild,s=i.nextSibling;o.addEventListener("click",m),Ee(o,Z(ud,{class:"w-4"}));return"function"==typeof r?Se(r,a):r=a,Ee(s,(()=>Qh(t()))),S((()=>ke(n,pc("w-full gap-2 items-center transition-opacity px-2 chat77submodule-recorder","started"===e.recordingStatus?"opacity-1 flex":"opacity-0 hidden")))),n})()},Jh=async e=>{const t=new Blob(['\nconst gainFactor = 3;\n\nclass VolumeProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n  }\n\n  process(inputs) {\n    const input = inputs[0];\n    if (input.length > 0) {\n      const channelData = input[0];\n      let sum = 0;\n      for (let i = 0; i < channelData.length; i++) {\n        sum += channelData[i] * channelData[i];\n      }\n      const rms = Math.sqrt(sum / channelData.length);\n      this.port.postMessage(rms * 100 * gainFactor)\n    }\n    return true;\n  }\n}\n\nregisterProcessor("volume-processor", VolumeProcessor);\n\n'],{type:"application/javascript"}),n=URL.createObjectURL(t);return await e.audioWorklet.addModule(n),new AudioWorkletNode(e,"volume-processor")},Qh=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;var eg=ve('<div class="p-2 flex gap-2 border-gray-100 overflow-auto">'),tg=ve("<div>"),ng=ve("<div><div>");const rg=e=>{const[t,n]=T(e.defaultValue??""),[r,o]=T([]),[i,a]=T(void 0),[s,l]=T(!1),[c,d]=T("stopped");let u,p,h=[];const g=e=>n(e),f=async()=>{if("started"===c()&&p)p.stop();else if(""!==u?.value&&u?.reportValidity()){let n;if(r().length>0){a(void 0);const t=await Yd({apiHost:e.context.apiHost??Ge({ignoreChatApiUrl:!0}),files:r().map((t=>({file:t,input:{sessionId:e.context.sessionId,fileName:t.name}}))),onUploadProgress:a});n=t?.map(((e,t)=>e?{...e,blobUrl:URL.createObjectURL(r()[t])}:null)).filter(qe)}e.onSubmit({type:"text",value:u?.value??t(),attachments:n})}else u?.focus()},m=t=>{e.block.options?.isLong||"Enter"===t.key&&f()},b=t=>{e.block.options?.isLong&&"Enter"===t.key&&(t.metaKey||t.ctrlKey)&&f()};I((()=>{!Ht()&&u&&u.focus({preventScroll:!0}),window.addEventListener("message",y)})),P((()=>{window.removeEventListener("message",y)}));const y=e=>{const{data:t}=e;t.isFromChat77submodule&&"setInputValue"===t.command&&n(t.value)},v=e=>{e.preventDefault(),l(!0)},w=()=>l(!1),x=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer?.files&&k(e.dataTransfer.files)},k=e=>{const t=Array.from(e).map((e=>Kd({existingFiles:r(),newFile:e,params:{sizeLimit:Ve("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE")},onError:({description:e,title:t})=>{dc.create({description:e,title:t})}}))).filter(qe);0!==t.length&&o((e=>[...t,...e]))},E=()=>{d("asking")},_=t=>{let n;const r=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"video/mp4";p=new MediaRecorder(t,{mimeType:r}),p.ondataavailable=e=>{0!==e.data.size&&h.push(e.data)},p.onstart=()=>{n=Date.now()},p.onstop=async()=>{if("started"!==c()||0===h.length)return;const t=Date.now()-n,o=await Op.fixWebmDuration(new Blob(h,{type:r}),t),i=new File([o],`rec-${e.block.id}-${Date.now()}.${"audio/webm"===r?"webm":"mp4"}`,{type:r});a(void 0);const s=(await Yd({apiHost:e.context.apiHost??Ge({ignoreChatApiUrl:!0}),files:[{file:i,input:{sessionId:e.context.sessionId,fileName:i.name}}],onUploadProgress:a})).filter(qe).map((e=>e.url));e.onSubmit({type:"recording",url:s[0],blobUrl:URL.createObjectURL(i)})},p.start(),d("started")},O=()=>{p?.stop(),d("stopped"),p=void 0,h=[]};return A=ng(),R=A.firstChild,A.addEventListener("dragleave",w),A.addEventListener("dragover",v),A.addEventListener("drop",x),A.$$keydown=m,Ee(R,Z(Zh,{get recordingStatus(){return c()},get buttonsTheme(){return e.context.chat77submodule.theme.chat?.buttons},onRecordingConfirmed:_,onAbortRecording:O}),null),Ee(R,Z(le,{get when(){return"started"!==c()},get children(){return[Z(le,{get when(){return r().length},get children(){var e=eg();return e.style.setProperty("border-bottom-width","1px"),Ee(e,Z(se,{get each(){return r()},children:(e,t)=>Z(iu,{file:e,get uploadProgressPercent(){return C((()=>!!i()))()?C((()=>i()?.fileIndex===t()))()?20:t()<(i()?.fileIndex??0)?100:0:void 0},onRemoveClick:()=>(e=>{o((t=>t.filter(((t,n)=>n!==e))))})(t())})})),e}}),(a=tg(),Ee(a,(n=C((()=>!!e.block.options?.isLong)),()=>n()?Z(Pp,{ref(e){"function"==typeof u?u(e):u=e},onInput:g,onKeyDown:b,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??Kh.placeholder}}):Z(Hd,{ref(e){"function"==typeof u?u(e):u=e},onInput:g,get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??Kh.placeholder}})),null),Ee(a,Z(le,{get when(){return(e.block.options?.attachments?.isEnabled??Yh.isEnabled)&&e.block.options?.attachments?.saveVariableId},get children(){return Z(Ep,{onNewFiles:k,get class(){return pc(e.block.options?.isLong?"ml-2":void 0)}})}}),null),S((()=>ke(a,pc("flex justify-between px-2",e.block.options?.isLong?"items-end":"items-center")))),a)];var n,a}}),null),Ee(A,Z(ce,{get children(){return[Z(de,{get when(){return!t()&&"started"!==c()&&e.block.options?.audioClip?.isEnabled},get children(){return Z(cd,{class:"h-[56px] flex items-center","on:click":E,"aria-label":"Record voice",get children(){return Z(_p,{class:"flex w-6 h-6"})}})}}),Z(de,{when:!0,get children(){return Z(Cd,{type:"button","on:click":f,get isDisabled(){return Boolean(i())},class:"h-[56px]",get children(){return e.block.options?.labels?.button}})}})]}}),null),S((t=>{var n=pc("chat77submodule-input-form flex w-full gap-2 items-end",e.block.options?.isLong&&"started"!==c()?"max-w-full":"max-w-[350px]"),r=pc("relative chat77submodule-input flex-col w-full",s()&&"filter brightness-95");return n!==t.e&&ke(A,t.e=n),r!==t.t&&ke(R,t.t=r),t}),{e:void 0,t:void 0}),A;var A,R};we(["keydown"]);const og={button:fd,placeholder:"Type a URL..."};var ig=ve('<div class="chat77submodule-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex chat77submodule-input w-full">');const ag=e=>{const[t,n]=T(e.defaultValue??"");let r;const o=e=>{n(e)},i=()=>{r&&!r?.value.startsWith("http")&&(r.value=`https://${r.value}`),""!==r?.value&&r?.reportValidity()?e.onSubmit({type:"text",value:r?.value??t()}):r?.focus()},a=e=>{"Enter"===e.key&&i()};I((()=>{!Ht()&&r&&r.focus({preventScroll:!0}),window.addEventListener("message",s)})),P((()=>{window.removeEventListener("message",s)}));const s=e=>{const{data:t}=e;t.isFromChat77submodule&&"setInputValue"===t.command&&n(t.value)};return l=ig(),c=l.firstChild,l.$$keydown=a,Ee(c,Z(Hd,{ref(e){"function"==typeof r?r(e):r=e},get value(){return t()},get placeholder(){return e.block.options?.labels?.placeholder??og.placeholder},onInput:o,type:"url",autocomplete:"url"})),Ee(l,Z(Cd,{type:"button",class:"h-[56px]","on:click":i,get children(){return e.block.options?.labels?.button}}),null),l;var l,c};we(["keydown"]);const sg=e=>Z($l.Root,{get open(){return e.isOpen},lazyMount:!0,unmountOnExit:!0,onOpenChange:t=>t.open?void 0:e.onClose?.(),get children(){return[Z($l.Backdrop,{class:"fixed inset-0 bg-[rgba(0,0,0,0.5)] h-screen z-50"}),Z($l.Positioner,{class:"fixed inset-0 z-50 flex items-center justify-center px-2",get children(){return[Z($l.Content,{get children(){return e.children}}),Z($l.CloseTrigger,{class:"fixed top-2 right-2 z-50 rounded-md bg-white p-2 text-black",get children(){return Z(ud,{class:"w-6 h-6"})}})]}})]}});var lg=ve('<figure data-testid=default-avatar><svg width=75 height=75 viewBox="0 0 75 75"fill=none xmlns=http://www.w3.org/2000/svg><mask id=mask0 x=0 y=0 mask-type=alpha><circle cx=37.5 cy=37.5 r=37.5 fill=#0042DA></circle></mask><g mask=url(#mask0)><rect x=-30 y=-43 width=131 height=154 fill=#0042DA></rect><rect x=2.50413 y=120.333 width=81.5597 height=86.4577 rx=2.5 transform="rotate(-52.6423 2.50413 120.333)"stroke=#FED23D stroke-width=5></rect><circle cx=76.5 cy=-1.5 r=29 stroke=#FF8E20 stroke-width=5></circle><path d="M-49.8224 22L-15.5 -40.7879L18.8224 22H-49.8224Z"stroke=#F7F8FF stroke-width=5>');const cg=()=>{return e=lg(),t=e.firstChild,S((n=>{var r="flex justify-center items-center rounded-full text-white relative flex-shrink-0 "+(Ht()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),o="absolute top-0 left-0 "+(Ht()?" w-6 h-6 text-sm":"w-full h-full text-xl");return r!==n.e&&ke(e,n.e=r),o!==n.t&&xe(t,"class",n.t=o),n}),{e:void 0,t:void 0}),e;var e,t};var dg=ve('<figure><img alt="Bot avatar"class="rounded-full object-cover w-full h-full"elementtiming="Bot avatar"fetchpriority=high>');const ug=e=>{const[t,n]=T(e.initialAvatarSrc);return E((()=>{!t()?.startsWith("{{")&&t()||!e.initialAvatarSrc?.startsWith("http")||n(e.initialAvatarSrc)})),Z(le,{get when(){return Xe(t())},keyed:!0,get fallback(){return Z(cg,{})},get children(){var e=dg(),n=e.firstChild;return S((r=>{var o="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(Ht()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),i=t();return o!==r.e&&ke(e,r.e=o),i!==r.t&&xe(n,"src",r.t=i),r}),{e:void 0,t:void 0}),e}})};var pg=ve('<div class="flex justify-end items-end animate-fade-in gap-2 guest-container">'),hg=ve("<div>"),gg=ve('<span class="px-[15px] py-[7px]">'),fg=ve("<img alt=Attachment>"),mg=ve('<div class="flex flex-col gap-1 items-end"><div class="p-[1px] whitespace-pre-wrap max-w-full chat77submodule-guest-bubble flex flex-col"data-testid=guest-bubble>'),bg=ve("<img>"),yg=ve('<div class="flex flex-col gap-1 items-end"><div class="p-2 w-full whitespace-pre-wrap chat77submodule-guest-bubble flex flex-col"data-testid=guest-bubble><audio controls>');const vg=e=>{return Ee(t=pg(),Z(ce,{get children(){return[Z(de,{get when(){return"text"===e.answer?.type},get children(){return Z(wg,{get answer(){return e.answer}})}}),Z(de,{get when(){return"recording"===e.answer?.type},get children(){return Z(xg,{get answer(){return e.answer}})}})]}}),null),Ee(t,Z(le,{get when(){return e.showAvatar},get children(){return Z(ug,{get initialAvatarSrc(){return e.avatarSrc}})}}),null),S((n=>null!=(n=e.hasHostAvatar?Ht()?"28px":"50px":void 0)?t.style.setProperty("margin-left",n):t.style.removeProperty("margin-left"))),t;var t},wg=e=>{const[t,n]=T();return r=mg(),o=r.firstChild,Ee(r,Z(le,{get when(){return(e.answer.attachments??[]).length>0},get children(){return[(r=hg(),Ee(r,Z(se,{get each(){return e.answer.attachments?.filter((e=>e.type.startsWith("image")))},children:(t,r)=>{return(o=bg()).$$click=()=>n(t.blobUrl??t.url),S((n=>{var i=t.blobUrl??t.url,a=`Attached image ${r()+1}`,s=pc("chat77submodule-guest-bubble-image-attachment cursor-pointer",e.answer.attachments.filter((e=>e.type.startsWith("image"))).length>1&&"max-w-[90%]");return i!==n.e&&xe(o,"src",n.e=i),a!==n.t&&xe(o,"alt",n.t=a),s!==n.a&&ke(o,n.a=s),n}),{e:void 0,t:void 0,a:void 0}),o;var o}})),S((()=>ke(r,pc("flex gap-1 overflow-auto max-w-[350px]",Ht()?"flex-wrap justify-end":"items-center")))),r),(t=hg(),Ee(t,Z(se,{get each(){return e.answer.attachments?.filter((e=>!e.type.startsWith("image")))},children:e=>Z(Qd,{get file(){return{name:e.url.split("/").at(-1)}}})})),S((()=>ke(t,pc("flex gap-1 overflow-auto max-w-[350px]",Ht()?"flex-wrap justify-end":"items-center")))),t)];var t,r}}),o),Ee(o,Z(le,{get when(){return Xe(e.answer.label??e.answer.value)},get children(){var t=gg();return Ee(t,(()=>e.answer.label??e.answer.value)),t}})),Ee(r,Z(sg,{get isOpen(){return void 0!==t()},onClose:()=>n(void 0),get children(){var e=fg();return e.style.setProperty("border-radius","6px"),S((()=>xe(e,"src",t()))),e}}),null),r;var r,o},xg=e=>{return t=yg(),n=t.firstChild.firstChild,S((()=>xe(n,"src",e.answer.blobUrl??e.answer.url))),t;var t,n};we(["click"]);var kg=ve("<div>"),Tg=ve('<div class="flex justify-end animate-fade-in gap-2 chat77submodule-input-container">');const Sg=e=>{const[t,n]=un(T(),{key:`chat77submodule-${e.context.chat77submodule.id}-input-${e.chunkIndex}`,storage:e.context.storage}),r=async t=>{n(t),e.onSubmit(t)},o=t=>{n({type:"text",value:t}),e.onSkip()};return E((()=>{const t=td().findLast((t=>e.chunkIndex===t.inputIndex))?.formattedMessage;t&&e.block.type!==md.FILE&&n((e=>"text"===e?.type?{...e,label:t}:e))})),Z(ce,{get children(){return[Z(de,{get when(){return t()&&!e.hasError},get children(){return Z(vg,{get answer(){return t()},get showAvatar(){return e.guestAvatar?.isEnabled??$t},get avatarSrc(){return e.guestAvatar?.url&&e.guestAvatar.url},get hasHostAvatar(){return e.hasHostAvatar}})}}),Z(de,{get when(){return Ke(t())||e.hasError},get children(){var n=Tg(),i=e.ref;return"function"==typeof i?Se(i,n):e.ref=n,Ee(n,Z(le,{get when(){return e.hasHostAvatar},get children(){var e=kg();return S((()=>ke(e,"flex flex-shrink-0 items-center "+(Ht()?"w-6 h-6":"w-10 h-10")))),e}}),null),Ee(n,Z(Cg,{get context(){return e.context},get block(){return e.block},get chunkIndex(){return e.chunkIndex},get isInputPrefillEnabled(){return e.isInputPrefillEnabled},get existingAnswer(){return C((()=>!!e.hasError))()?Eg(t()):void 0},get onTransitionEnd(){return e.onTransitionEnd},onSubmit:r,onSkip:o}),null),S((()=>xe(n,"data-blockid",e.block.id))),n}})]}})},Eg=e=>{if(e)return"text"===e.type?e.value:e.url},Cg=e=>{const t=t=>e.onSubmit(t),n=()=>e.existingAnswer??(e.isInputPrefillEnabled?e.block.prefilledValue:void 0),r=()=>e.onSubmit({type:"text",value:e.block.options?.labels?.success??Iu.success});return Z(ce,{get children(){return[Z(de,{get when(){return e.block.type===md.TEXT},get children(){return Z(rg,{get block(){return e.block},get defaultValue(){return n()},get context(){return e.context},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.NUMBER},get children(){return Z(wu,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.EMAIL},get children(){return Z(Wd,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.URL},get children(){return Z(ag,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.PHONE},get children(){return Z(Hu,{get labels(){return e.block.options?.labels},get defaultCountryCode(){return e.block.options?.defaultCountryCode},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.DATE},get children(){return Z($d,{get options(){return e.block.options},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return _g(e.block)},keyed:!0,children:n=>Z(ce,{get children(){return[Z(de,{get when(){return!n.options?.isMultipleChoice},get children(){return Z(Td,{get chunkIndex(){return e.chunkIndex},get defaultItems(){return n.items},get options(){return n.options},onSubmit:t})}}),Z(de,{get when(){return n.options?.isMultipleChoice},get children(){return Z(Dd,{get defaultItems(){return n.items},get options(){return n.options},onSubmit:t})}})]}})}),Z(de,{get when(){return Ig(e.block)},keyed:!0,children:n=>Z(ce,{get children(){return[Z(de,{get when(){return!n.options?.isMultipleChoice},get children(){return Z(rp,{get defaultItems(){return n.items},get options(){return n.options},onSubmit:t,get onTransitionEnd(){return e.onTransitionEnd}})}}),Z(de,{get when(){return n.options?.isMultipleChoice},get children(){return Z(Qu,{get defaultItems(){return n.items},get options(){return n.options},onSubmit:t,get onTransitionEnd(){return e.onTransitionEnd}})}})]}})}),Z(de,{get when(){return e.block.type===md.RATING},get children(){return Z(hp,{get block(){return e.block},get defaultValue(){return n()},onSubmit:t})}}),Z(de,{get when(){return e.block.type===md.FILE},get children(){return Z(fu,{get context(){return e.context},get block(){return e.block},onSubmit:t,get onSkip(){return e.onSkip}})}}),Z(de,{get when(){return e.block.type===md.PAYMENT},get children(){return Z(Mu,{get context(){return e.context},get options(){return{...e.block.options,...e.block.runtimeOptions}},onSuccess:r,get onTransitionEnd(){return e.onTransitionEnd}})}})]}})},_g=e=>e?.type===md.CHOICE?e:void 0,Ig=e=>e?.type===md.PICTURE_CHOICE?e:void 0;var Pg=ve('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bubble1"></div><div class="w-2 h-2 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">');const Og=()=>Pg(),Ag=!0;var Rg=ve('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start chat77submodule-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><audio controls>');let Ng;const Lg=e=>{let t,n,r=!1;const[o,i]=T(!!e.onTransitionEnd);return I((()=>{Ng=setTimeout((()=>{r||(r=!0,i(!1),setTimeout((()=>e.onTransitionEnd?.(t)),400))}),100)})),P((()=>{Ng&&clearTimeout(Ng)})),(()=>{var r,i=Rg(),a=i.firstChild.firstChild.firstChild,s=a.nextSibling;"function"==typeof t?Se(t,i):t=i,Ee(a,(r=C((()=>!!o())),()=>r()&&Z(Og,{})));return"function"==typeof n?Se(n,s):n=s,S((t=>{var n=pc("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),r=o()?"64px":"100%",l=o()?"32px":"100%",c=e.content?.url,d=!!e.onTransitionEnd&&(e.content?.isAutoplayEnabled??Ag),u="z-10 text-fade-in "+(o()?"opacity-0":"opacity-100 m-2"),p=o()?Ht()?"32px":"36px":"revert";return n!==t.e&&ke(i,t.e=n),r!==t.t&&(null!=(t.t=r)?a.style.setProperty("width",r):a.style.removeProperty("width")),l!==t.a&&(null!=(t.a=l)?a.style.setProperty("height",l):a.style.removeProperty("height")),c!==t.o&&xe(s,"src",t.o=c),d!==t.i&&(s.autoplay=t.i=d),u!==t.n&&ke(s,t.n=u),p!==t.s&&(null!=(t.s=p)?s.style.setProperty("height",p):s.style.removeProperty("height")),t}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),i})()};var Dg=ve('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start chat77submodule-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><div class="w-full overflow-y-auto">');let Mg;const Bg=e=>{let t;const[n,r]=T(!!e.onTransitionEnd);let o;return I((()=>{yc({args:{...e.content.initFunction.args,chat77submoduleElement:o},content:e.content.initFunction.content}),e.content.waitForEventFunction&&yc({args:{...e.content.waitForEventFunction.args,continueFlow:t=>e.onCompleted(t?{type:"text",value:t}:void 0)},content:e.content.waitForEventFunction.content}),Mg=setTimeout((()=>{r(!1),setTimeout((()=>e.onTransitionEnd?.(t)),400)}),2e3)})),P((()=>{Mg&&clearTimeout(Mg)})),(()=>{var r,i=Dg(),a=i.firstChild.firstChild.firstChild,s=a.nextSibling,l=s.firstChild;"function"==typeof t?Se(t,i):t=i,Ee(a,(r=C((()=>!!n())),()=>r()&&Z(Og,{})));return"function"==typeof o?Se(o,l):o=l,S((t=>{var r=pc("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),o=n()?"64px":"100%",c=n()?"32px":"100%",d=pc("p-2 z-20 text-fade-in w-full",n()?"opacity-0":"opacity-100"),u=n()?Ht()?"32px":"36px":void 0,p=`calc(${xt()} - 100px)`;return r!==t.e&&ke(i,t.e=r),o!==t.t&&(null!=(t.t=o)?a.style.setProperty("width",o):a.style.removeProperty("width")),c!==t.a&&(null!=(t.a=c)?a.style.setProperty("height",c):a.style.removeProperty("height")),d!==t.o&&ke(s,t.o=d),u!==t.i&&(null!=(t.i=u)?s.style.setProperty("height",u):s.style.removeProperty("height")),p!==t.n&&(null!=(t.n=p)?l.style.setProperty("max-height",p):l.style.removeProperty("max-height")),t}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i})()},Ug=400;var Fg=ve('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start chat77submodule-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><iframe id=embed-bubble-content class="w-full h-full ">');let $g;const jg=e=>{let t;const[n,r]=T(!!e.onTransitionEnd),o=t=>{e.content?.waitForEvent?.isEnabled&&Xe(t.data.name)&&t.data.name===e.content?.waitForEvent.name&&(e.onCompleted?.(e.content.waitForEvent.saveDataInVariableId&&t.data.data?{type:"text",value:t.data.data}:void 0),window.removeEventListener("message",o))};return I((()=>{$g=setTimeout((()=>{r(!1),e.content?.waitForEvent?.isEnabled&&window.addEventListener("message",o),setTimeout((()=>{e.onTransitionEnd?.(t)}),400)}),2e3)})),P((()=>{$g&&clearTimeout($g),window.removeEventListener("message",o)})),a=Fg(),s=a.firstChild.firstChild.firstChild,l=s.nextSibling,c=l.firstChild,"function"==typeof t?Se(t,a):t=a,Ee(s,(i=C((()=>!!n())),()=>i()&&Z(Og,{}))),S((t=>{var r=pc("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),o=n()?"64px":"100%",i=n()?"32px":"100%",d=pc("p-4 z-20 text-fade-in w-full",n()?"opacity-0":"opacity-100 p-4"),u=n()?Ht()?"32px":"36px":`${e.content?.height??Ug}px`,p=e.content?.url;return r!==t.e&&ke(a,t.e=r),o!==t.t&&(null!=(t.t=o)?s.style.setProperty("width",o):s.style.removeProperty("width")),i!==t.a&&(null!=(t.a=i)?s.style.setProperty("height",i):s.style.removeProperty("height")),d!==t.o&&ke(l,t.o=d),u!==t.i&&(null!=(t.i=u)?l.style.setProperty("height",u):l.style.removeProperty("height")),p!==t.n&&xe(c,"src",t.n=p),t}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),a;var i,a,s,l,c},zg={alt:"Bubble image"};var Hg=ve('<img elementtiming="Bubble image"fetchpriority=high>'),Vg=ve('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start chat77submodule-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),Gg=ve("<a target=_blank rel=noreferrer>"),Wg=ve("<figure>");let qg;const Kg=e=>{let t,n;const[r,o]=T(!!e.onTransitionEnd),i=()=>{r()&&(o(!1),setTimeout((()=>{e.onTransitionEnd?.(t)}),400))};I((()=>{n&&(qg=setTimeout(i,5e3),n.onload=()=>{clearTimeout(qg),i()})})),P((()=>{qg&&clearTimeout(qg)}));const a=(s=Hg(),"function"==typeof n?Se(n,s):n=s,s.style.setProperty("max-height","512px"),S((t=>{var n=e.content?.url,o=e.content?.clickLink?.alt??zg.alt,i=pc(r()?"opacity-0":"opacity-100",e.onTransitionEnd?"text-fade-in":void 0,e.content?.url?.endsWith(".svg")?"w-full":void 0),a=r()?"32px":"auto";return n!==t.e&&xe(s,"src",t.e=n),o!==t.t&&xe(s,"alt",t.t=o),i!==t.a&&ke(s,t.a=i),a!==t.o&&(null!=(t.o=a)?s.style.setProperty("height",a):s.style.removeProperty("height")),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),s);var s,l,c,d,u,p;return d=Vg(),u=d.firstChild.firstChild,p=u.firstChild,"function"==typeof t?Se(t,d):t=d,Ee(p,(l=C((()=>!!r())),()=>l()?Z(Og,{}):null)),Ee(u,(c=C((()=>!!e.content?.clickLink)),()=>{return c()?(Ee(n=Gg(),a),S((t=>{var o=e.content.clickLink.url,i=pc("z-10",r()?"h-8":"p-4");return o!==t.e&&xe(n,"href",t.e=o),i!==t.t&&ke(n,t.t=i),t}),{e:void 0,t:void 0}),n):(Ee(t=Wg(),a),S((()=>ke(t,pc("z-10",!r()&&"p-4",r()?Ht()?"h-8":"h-9":"")))),t);var t,n}),null),S((t=>{var n=pc("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),o=r()?"64px":"100%",i=r()?"32px":"100%";return n!==t.e&&ke(d,t.e=n),o!==t.t&&(null!=(t.t=o)?p.style.setProperty("width",o):p.style.removeProperty("width")),i!==t.a&&(null!=(t.a=i)?p.style.setProperty("height",i):p.style.removeProperty("height")),t}),{e:void 0,t:void 0,a:void 0}),d},Yg=e=>e.map((e=>e.text??Yg(e.children))).join("");var Xg=ve("<br>"),Zg=ve("<span>");const Jg=e=>{return Ee(t=Zg(),(()=>e.text),null),Ee(t,Z(le,{get when(){return C((()=>!!e.isUniqueChild))()&&Ye(e.text)},get children(){return Xg()}}),null),S((()=>ke(t,((e,t,n)=>{let r="";return e&&(r+="slate-bold"),t&&(r+=" slate-italic"),n&&(r+=" slate-underline"),r})(e.bold,e.italic,e.underline)))),t;var t};var Qg=ve('<a target=_blank rel="noopener noreferrer">'),ef=ve("<ol>"),tf=ve("<ul>"),nf=ve("<li>"),rf=ve("<span>"),of=ve("<div>");const af=e=>Z(ce,{get children(){return[Z(de,{get when(){return qe(e.element.text)},get children(){return Z(Jg,ne((()=>e.element),{get isUniqueChild(){return e.isUniqueChild??!1}}))}}),Z(de,{when:!0,get children(){return Z(ce,{get children(){return[Z(de,{get when(){return"a"===e.element.type},get children(){var t=Qg();return Ee(t,Z(se,{get each(){return e.element.children},children:t=>Z(af,{element:t,get isUniqueChild(){return 1===e.element.children?.length}})})),S((()=>xe(t,"href",e.element.url))),t}}),Z(de,{get when(){return"ol"===e.element.type},get children(){var t=ef();return Ee(t,Z(se,{get each(){return e.element.children},children:t=>Z(af,{element:t,get isUniqueChild(){return 1===e.element.children?.length}})})),t}}),Z(de,{get when(){return"ul"===e.element.type},get children(){var t=tf();return Ee(t,Z(se,{get each(){return e.element.children},children:t=>Z(af,{element:t,get isUniqueChild(){return 1===e.element.children?.length}})})),t}}),Z(de,{get when(){return"li"===e.element.type},get children(){var t=nf();return Ee(t,Z(se,{get each(){return e.element.children},children:t=>Z(af,{element:t,get isUniqueChild(){return 1===e.element.children?.length}})})),t}}),Z(de,{when:!0,get children(){return Z(sf,{get element(){return e.element},get insideInlineVariable(){return e.insideInlineVariable??!1},get children(){return Z(se,{get each(){return e.element.children},children:t=>Z(af,{element:t,get isUniqueChild(){return 1===e.element.children?.length},get insideInlineVariable(){return"inline-variable"===e.element.type}})})}})}})]}})}})]}}),sf=e=>Z(ce,{get children(){return[Z(de,{get when(){return"inline-variable"===e.element.type||e.insideInlineVariable},get children(){var t=rf();return Ee(t,(()=>e.children)),S((()=>xe(t,"data-element-type",e.element.type))),t}}),Z(de,{when:!0,get children(){var t=of();return Ee(t,(()=>e.children)),S((()=>xe(t,"data-element-type",e.element.type))),t}})]}});var lf=ve('<div><div class="flex w-full items-center"><div class="flex relative items-start chat77submodule-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><div>');let cf;const df=e=>{let t;const[n,r]=T(!!e.onTransitionEnd),o=()=>{n()&&(r(!1),setTimeout((()=>{e.onTransitionEnd?.(t)}),400))};return I((()=>{if(!n)return;const t=e.content?.richText?Yg(e.content.richText):"",r=!1===e.typingEmulation?.enabled||e.isTypingSkipped?0:(({bubbleContent:e,typingSettings:t})=>{let n=e.match(/(\w+)/g)?.length??0;0===n&&(n=e.length);const{enabled:r,speed:o,maxDelay:i}={enabled:t?.enabled??Wt.enabled,speed:t?.speed??Wt.speed,maxDelay:t?.maxDelay??Wt.maxDelay};let a=r?n/o*6e4:0;return a>1e3*i&&(a=1e3*i),a})({bubbleContent:t,typingSettings:e.typingEmulation});cf=setTimeout(o,r)})),P((()=>{cf&&clearTimeout(cf)})),a=lf(),s=a.firstChild.firstChild.firstChild,l=s.nextSibling,"function"==typeof t?Se(t,a):t=a,Ee(s,(i=C((()=>!!n())),()=>i()&&Z(Og,{}))),Ee(l,Z(se,{get each(){return e.content?.richText},children:e=>Z(af,{element:e})})),S((t=>{var r=pc("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),o=n()?"64px":"100%",i=n()?"32px":"100%",c=pc("overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis",n()?"opacity-0":"opacity-100"),d=n()?Ht()?"16px":"20px":"100%";return r!==t.e&&ke(a,t.e=r),o!==t.t&&(null!=(t.t=o)?s.style.setProperty("width",o):s.style.removeProperty("width")),i!==t.a&&(null!=(t.a=i)?s.style.setProperty("height",i):s.style.removeProperty("height")),c!==t.o&&ke(l,t.o=c),d!==t.i&&(null!=(t.i=d)?l.style.setProperty("height",d):l.style.removeProperty("height")),t}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),a;var i,a,s,l};let uf=function(e){return e.URL="url",e.YOUTUBE="youtube",e.VIMEO="vimeo",e.TIKTOK="tiktok",e.GUMLET="gumlet",e}({});const pf=[uf.YOUTUBE,uf.VIMEO,uf.TIKTOK,uf.GUMLET],hf=400,gf="100%",ff=!0,mf=!0,bf={[uf.VIMEO]:"https://player.vimeo.com/video",[uf.YOUTUBE]:"https://www.youtube.com/embed",[uf.TIKTOK]:"https://www.tiktok.com/embed/v2",[uf.GUMLET]:"https://play.gumlet.io/embed"};var yf=ve("<video>"),vf=ve('<div><iframe class="w-full h-full"allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"allowfullscreen>'),wf=ve('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start chat77submodule-host-bubble overflow-hidden w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">');let xf;const kf=e=>{let t;const[n,r]=T(!!e.onTransitionEnd);return I((()=>{const o=e.content?.type&&pf.includes(e.content?.type)?2e3:100;xf=setTimeout((()=>{n()&&(r(!1),setTimeout((()=>{e.onTransitionEnd?.(t)}),400))}),o)})),P((()=>{xf&&clearTimeout(xf)})),i=wf(),a=i.firstChild.firstChild,s=a.firstChild,"function"==typeof t?Se(t,i):t=i,Ee(s,(o=C((()=>!!n())),()=>o()&&Z(Og,{}))),Ee(a,Z(ce,{get children(){return[Z(de,{get when(){return e.content?.type&&e.content.type===uf.URL},get children(){var t=yf();return S((r=>{var o=!!e.onTransitionEnd&&(e.content?.isAutoplayEnabled??mf),i=e.content?.url,a=e.content?.areControlsDisplayed??ff,s="p-4 focus:outline-none w-full z-10 text-fade-in rounded-md "+(n()?"opacity-0":"opacity-100"),l=n()?Ht()?"32px":"36px":"auto",c=e.content?.aspectRatio,d=e.content?.maxWidth??gf;return o!==r.e&&(t.autoplay=r.e=o),i!==r.t&&xe(t,"src",r.t=i),a!==r.a&&(t.controls=r.a=a),s!==r.o&&ke(t,r.o=s),l!==r.i&&(null!=(r.i=l)?t.style.setProperty("height",l):t.style.removeProperty("height")),c!==r.n&&(null!=(r.n=c)?t.style.setProperty("aspect-ratio",c):t.style.removeProperty("aspect-ratio")),d!==r.s&&(null!=(r.s=d)?t.style.setProperty("max-width",d):t.style.removeProperty("max-width")),r}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),t}}),Z(de,{get when(){return C((()=>!!e.content?.type))()&&pf.includes(e.content.type)},get children(){var t=vf(),r=t.firstChild;return S((o=>{var i=pc("p-4 z-10 text-fade-in w-full",n()?"opacity-0":"opacity-100 p-4"),a=n()?Ht()?"32px":"36px":e.content?.aspectRatio?void 0:`${e.content?.height??hf}px`,s=e.content?.aspectRatio,l=e.content?.maxWidth??gf,c=`${bf[e.content?.type]}/${e.content?.id??""}${e.content?.queryParamsStr??""}`;return i!==o.e&&ke(t,o.e=i),a!==o.t&&(null!=(o.t=a)?t.style.setProperty("height",a):t.style.removeProperty("height")),s!==o.a&&(null!=(o.a=s)?t.style.setProperty("aspect-ratio",s):t.style.removeProperty("aspect-ratio")),l!==o.o&&(null!=(o.o=l)?t.style.setProperty("max-width",l):t.style.removeProperty("max-width")),c!==o.i&&xe(r,"src",o.i=c),o}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t}})]}}),null),S((t=>{var r=pc("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),o=n()?"64px":"100%",a=n()?"32px":"100%",l=e.content?.maxWidth??gf;return r!==t.e&&ke(i,t.e=r),o!==t.t&&(null!=(t.t=o)?s.style.setProperty("width",o):s.style.removeProperty("width")),a!==t.a&&(null!=(t.a=a)?s.style.setProperty("height",a):s.style.removeProperty("height")),l!==t.o&&(null!=(t.o=l)?s.style.setProperty("max-width",l):s.style.removeProperty("max-width")),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),i;var o,i,a,s};let Tf=function(e){return e.TEXT="text",e.IMAGE="image",e.VIDEO="video",e.EMBED="embed",e.AUDIO="audio",e}({});const Sf=e=>Z(ce,{get children(){return[Z(de,{get when(){return e.message.type===Tf.TEXT},get children(){return Z(df,{get content(){return e.message.content},get isTypingSkipped(){return e.isTypingSkipped},get typingEmulation(){return e.typingEmulation},get onTransitionEnd(){return e.onTransitionEnd}})}}),Z(de,{get when(){return e.message.type===Tf.IMAGE},get children(){return Z(Kg,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}}),Z(de,{get when(){return e.message.type===Tf.VIDEO},get children(){return Z(kf,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}}),Z(de,{get when(){return e.message.type===Tf.EMBED},get children(){return Z(jg,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd},get onCompleted(){return e.onCompleted}})}}),Z(de,{get when(){return"custom-embed"===e.message.type},get children(){return Z(Bg,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd},get onCompleted(){return e.onCompleted}})}}),Z(de,{get when(){return e.message.type===Tf.AUDIO},get children(){return Z(Lg,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}})]}})
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */,{entries:Ef,setPrototypeOf:Cf,isFrozen:_f,getPrototypeOf:If,getOwnPropertyDescriptor:Pf}=Object;let{freeze:Of,seal:Af,create:Rf}=Object,{apply:Nf,construct:Lf}="undefined"!=typeof Reflect&&Reflect;Of||(Of=function(e){return e}),Af||(Af=function(e){return e}),Nf||(Nf=function(e,t,n){return e.apply(t,n)}),Lf||(Lf=function(e,t){return new e(...t)});const Df=qf(Array.prototype.forEach),Mf=qf(Array.prototype.pop),Bf=qf(Array.prototype.push),Uf=qf(String.prototype.toLowerCase),Ff=qf(String.prototype.toString),$f=qf(String.prototype.match),jf=qf(String.prototype.replace),zf=qf(String.prototype.indexOf),Hf=qf(String.prototype.trim),Vf=qf(RegExp.prototype.test),Gf=(Wf=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lf(Wf,t)});var Wf;function qf(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Nf(e,t,r)}}function Kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uf;Cf&&Cf(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(_f(t)||(t[r]=e),o=e)}e[o]=!0}return e}function Yf(e){const t=Rf(null);for(const[n,r]of Ef(e))void 0!==Pf(e,n)&&(t[n]=r);return t}function Xf(e,t){for(;null!==e;){const n=Pf(e,t);if(n){if(n.get)return qf(n.get);if("function"==typeof n.value)return qf(n.value)}e=If(e)}return function(e){return console.warn("fallback value for",e),null}}const Zf=Of(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jf=Of(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qf=Of(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),em=Of(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tm=Of(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nm=Of(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rm=Of(["#text"]),om=Of(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),im=Of(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),am=Of(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sm=Of(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lm=Af(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cm=Af(/<%[\w\W]*|[\w\W]*%>/gm),dm=Af(/\${[\w\W]*}/gm),um=Af(/^data-[\-\w.\u00B7-\uFFFF]/),pm=Af(/^aria-[\-\w]+$/),hm=Af(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gm=Af(/^(?:\w+script|data):/i),fm=Af(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mm=Af(/^html$/i);var bm=Object.freeze({__proto__:null,MUSTACHE_EXPR:lm,ERB_EXPR:cm,TMPLIT_EXPR:dm,DATA_ATTR:um,ARIA_ATTR:pm,IS_ALLOWED_URI:hm,IS_SCRIPT_OR_DATA:gm,ATTR_WHITESPACE:fm,DOCTYPE_NAME:mm});const ym=function(){return"undefined"==typeof window?null:window};var vm=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ym();const n=t=>e(t);if(n.version="3.0.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:g}=t,f=c.prototype,m=Xf(f,"cloneNode"),b=Xf(f,"nextSibling"),y=Xf(f,"childNodes"),v=Xf(f,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,x="";const{implementation:k,createNodeIterator:T,createDocumentFragment:S,getElementsByTagName:E}=r,{importNode:C}=o;let _={};n.isSupported="function"==typeof Ef&&"function"==typeof v&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:I,ERB_EXPR:P,TMPLIT_EXPR:O,DATA_ATTR:A,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:L}=bm;let{IS_ALLOWED_URI:D}=bm,M=null;const B=Kf({},[...Zf,...Jf,...Qf,...tm,...rm]);let U=null;const F=Kf({},[...om,...im,...am,...sm]);let $=Object.seal(Rf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,H=!0,V=!0,G=!1,W=!0,q=!1,K=!1,Y=!1,X=!1,Z=!1,J=!1,Q=!1,ee=!0,te=!1,ne=!0,re=!1,oe={},ie=null;const ae=Kf({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let se=null;const le=Kf({},["audio","video","img","source","image","track"]);let ce=null;const de=Kf({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml";let ge=he,fe=!1,me=null;const be=Kf({},[ue,pe,he],Ff);let ye=null;const ve=["application/xhtml+xml","text/html"];let we=null,xe=null;const ke=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!xe||xe!==e){if(e&&"object"==typeof e||(e={}),e=Yf(e),ye=ye=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,we="application/xhtml+xml"===ye?Ff:Uf,M="ALLOWED_TAGS"in e?Kf({},e.ALLOWED_TAGS,we):B,U="ALLOWED_ATTR"in e?Kf({},e.ALLOWED_ATTR,we):F,me="ALLOWED_NAMESPACES"in e?Kf({},e.ALLOWED_NAMESPACES,Ff):be,ce="ADD_URI_SAFE_ATTR"in e?Kf(Yf(de),e.ADD_URI_SAFE_ATTR,we):de,se="ADD_DATA_URI_TAGS"in e?Kf(Yf(le),e.ADD_DATA_URI_TAGS,we):le,ie="FORBID_CONTENTS"in e?Kf({},e.FORBID_CONTENTS,we):ae,j="FORBID_TAGS"in e?Kf({},e.FORBID_TAGS,we):{},z="FORBID_ATTR"in e?Kf({},e.FORBID_ATTR,we):{},oe="USE_PROFILES"in e&&e.USE_PROFILES,H=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,W=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,K=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,J=e.RETURN_DOM_FRAGMENT||!1,Q=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ee=!1!==e.SANITIZE_DOM,te=e.SANITIZE_NAMED_PROPS||!1,ne=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,D=e.ALLOWED_URI_REGEXP||hm,ge=e.NAMESPACE||he,$=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(V=!1),J&&(Z=!0),oe&&(M=Kf({},[...rm]),U=[],!0===oe.html&&(Kf(M,Zf),Kf(U,om)),!0===oe.svg&&(Kf(M,Jf),Kf(U,im),Kf(U,sm)),!0===oe.svgFilters&&(Kf(M,Qf),Kf(U,im),Kf(U,sm)),!0===oe.mathMl&&(Kf(M,tm),Kf(U,am),Kf(U,sm))),e.ADD_TAGS&&(M===B&&(M=Yf(M)),Kf(M,e.ADD_TAGS,we)),e.ADD_ATTR&&(U===F&&(U=Yf(U)),Kf(U,e.ADD_ATTR,we)),e.ADD_URI_SAFE_ATTR&&Kf(ce,e.ADD_URI_SAFE_ATTR,we),e.FORBID_CONTENTS&&(ie===ae&&(ie=Yf(ie)),Kf(ie,e.FORBID_CONTENTS,we)),ne&&(M["#text"]=!0),K&&Kf(M,["html","head","body"]),M.table&&(Kf(M,["tbody"]),delete j.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Gf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Gf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(g,i)),null!==w&&"string"==typeof x&&(x=w.createHTML(""));Of&&Of(e),xe=e}},Ee=Kf({},["mi","mo","mn","ms","mtext"]),Ce=Kf({},["foreignobject","desc","title","annotation-xml"]),_e=Kf({},["title","style","font","a","script"]),Ie=Kf({},Jf);Kf(Ie,Qf),Kf(Ie,em);const Pe=Kf({},tm);Kf(Pe,nm);const Oe=function(e){Bf(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Ae=function(e,t){try{Bf(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Bf(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!U[e])if(Z||J)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Re=function(e){let t=null,n=null;if(X)e="<remove></remove>"+e;else{const t=$f(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ye&&ge===he&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=w?w.createHTML(e):e;if(ge===he)try{t=(new h).parseFromString(o,ye)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(ge,"template",null);try{t.documentElement.innerHTML=fe?x:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ge===he?E.call(t,K?"html":"body")[0]:K?t.documentElement:i},Ne=function(e){return T.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null)},Le=function(e){return"function"==typeof l&&e instanceof l},De=function(e,t,r){_[e]&&Df(_[e],(e=>{e.call(n,t,r,xe)}))},Me=function(e){let t=null;if(De("beforeSanitizeElements",e,null),(r=e)instanceof p&&("string"!=typeof r.nodeName||"string"!=typeof r.textContent||"function"!=typeof r.removeChild||!(r.attributes instanceof u)||"function"!=typeof r.removeAttribute||"function"!=typeof r.setAttribute||"string"!=typeof r.namespaceURI||"function"!=typeof r.insertBefore||"function"!=typeof r.hasChildNodes))return Oe(e),!0;var r;const o=we(e.nodeName);if(De("uponSanitizeElement",e,{tagName:o,allowedTags:M}),e.hasChildNodes()&&!Le(e.firstElementChild)&&Vf(/<[/\w]/g,e.innerHTML)&&Vf(/<[/\w]/g,e.textContent))return Oe(e),!0;if(!M[o]||j[o]){if(!j[o]&&Ue(o)){if($.tagNameCheck instanceof RegExp&&Vf($.tagNameCheck,o))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(o))return!1}if(ne&&!ie[o]){const t=v(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r)t.insertBefore(m(n[r],!0),b(e))}}return Oe(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:ge,tagName:"template"});const n=Uf(e.tagName),r=Uf(t.tagName);return!!me[e.namespaceURI]&&(e.namespaceURI===pe?t.namespaceURI===he?"svg"===n:t.namespaceURI===ue?"svg"===n&&("annotation-xml"===r||Ee[r]):Boolean(Ie[n]):e.namespaceURI===ue?t.namespaceURI===he?"math"===n:t.namespaceURI===pe?"math"===n&&Ce[r]:Boolean(Pe[n]):e.namespaceURI===he?!(t.namespaceURI===pe&&!Ce[r])&&!(t.namespaceURI===ue&&!Ee[r])&&!Pe[n]&&(_e[n]||!Ie[n]):!("application/xhtml+xml"!==ye||!me[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Vf(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&3===e.nodeType&&(t=e.textContent,Df([I,P,O],(e=>{t=jf(t,e," ")})),e.textContent!==t&&(Bf(n.removed,{element:e.cloneNode()}),e.textContent=t)),De("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Be=function(e,t,n){if(ee&&("id"===t||"name"===t)&&(n in r||n in ke))return!1;if(V&&!z[t]&&Vf(A,t));else if(H&&Vf(R,t));else if(!U[t]||z[t]){if(!(Ue(e)&&($.tagNameCheck instanceof RegExp&&Vf($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&Vf($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Vf($.tagNameCheck,n)||$.tagNameCheck instanceof Function&&$.tagNameCheck(n))))return!1}else if(ce[t]);else if(Vf(D,jf(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==zf(n,"data:")||!se[e]){if(G&&!Vf(N,jf(n,L,"")));else if(n)return!1}else;return!0},Ue=function(e){return e.indexOf("-")>0},Fe=function(e){De("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:l}=i,c=we(a);let d="value"===a?l:Hf(l);if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,De("uponSanitizeAttribute",e,r),d=r.attrValue,r.forceKeepAttr)continue;if(Ae(a,e),!r.keepAttr)continue;if(!W&&Vf(/\/>/i,d)){Ae(a,e);continue}q&&Df([I,P,O],(e=>{d=jf(d,e," ")}));const u=we(e.nodeName);if(Be(u,c,d)){if(!te||"id"!==c&&"name"!==c||(Ae(a,e),d="user-content-"+d),w&&"object"==typeof g&&"function"==typeof g.getAttributeType)if(s);else switch(g.getAttributeType(u,c)){case"TrustedHTML":d=w.createHTML(d);break;case"TrustedScriptURL":d=w.createScriptURL(d)}try{s?e.setAttributeNS(s,a,d):e.setAttribute(a,d),Mf(n.removed)}catch(e){}}}De("afterSanitizeAttributes",e,null)},$e=function e(t){let n=null;const r=Ne(t);for(De("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)De("uponSanitizeShadowNode",n,null),Me(n)||(n.content instanceof a&&e(n.content),Fe(n));De("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,c=null;if(fe=!e,fe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Le(e)){if("function"!=typeof e.toString)throw Gf("toString is not a function");if("string"!=typeof(e=e.toString()))throw Gf("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Y||Se(t),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){const t=we(e.nodeName);if(!M[t]||j[t])throw Gf("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Re("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!Z&&!q&&!K&&-1===e.indexOf("<"))return w&&Q?w.createHTML(e):e;if(r=Re(e),!r)return Z?null:Q?x:""}r&&X&&Oe(r.firstChild);const d=Ne(re?e:r);for(;s=d.nextNode();)Me(s)||(s.content instanceof a&&$e(s.content),Fe(s));if(re)return e;if(Z){if(J)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(U.shadowroot||U.shadowrootmode)&&(c=C.call(o,c,!0)),c}let u=K?r.outerHTML:r.innerHTML;return K&&M["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Vf(mm,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),q&&Df([I,P,O],(e=>{u=jf(u,e," ")})),w&&Q?w.createHTML(u):u},n.setConfig=function(){Se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Y=!0},n.clearConfig=function(){xe=null,Y=!1},n.isValidAttribute=function(e,t,n){xe||Se({});const r=we(e),o=we(t);return Be(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(_[e]=_[e]||[],Bf(_[e],t))},n.removeHook=function(e){if(_[e])return Mf(_[e])},n.removeHooks=function(e){_[e]&&(_[e]=[])},n.removeAllHooks=function(){_={}},n}();function wm(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let xm={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function km(e){xm=e}const Tm=/[&<>"']/,Sm=new RegExp(Tm.source,"g"),Em=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Cm=new RegExp(Em.source,"g"),_m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Im=e=>_m[e];function Pm(e,t){if(t){if(Tm.test(e))return e.replace(Sm,Im)}else if(Em.test(e))return e.replace(Cm,Im);return e}const Om=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Am(e){return e.replace(Om,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Rm=/(^|[^\[])\^/g;function Nm(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(Rm,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}function Lm(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const Dm={exec:()=>null};function Mm(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})),r=n.split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Bm(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function Um(e,t,n,r){const o=t.href,i=t.title?Pm(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:Pm(a)}}class Fm{options;rules;lexer;constructor(e){this.options=e||xm}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Bm(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Bm(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",s="",l=!1;for(;e;){let n=!1;if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],d=0;this.options.pedantic?(d=2,s=r.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,s=r.slice(d),d+=t[1].length);let u=!1;if(!r&&/^ *$/.test(c)&&(a+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),o.test(c))break;if(i.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=d||!c.trim())s+="\n"+c.slice(d);else{if(u)break;if(r.search(/[^ ]/)>=4)break;if(o.test(r))break;if(i.test(r))break;if(n.test(r))break;s+="\n"+c}u||c.trim()||(u=!0),a+=l+"\n",e=e.substring(l.length+1),r=c.slice(d)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let p,h=null;this.options.gfm&&(h=/^\[[ xX]\] /.exec(s),h&&(p="[ ] "!==h[0],s=s.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!h,checked:p,loose:!1,text:s,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=s.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const e={type:"table",raw:t[0],header:Mm(t[1]).map((e=>({text:e,tokens:[]}))),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let t,n,r,o,i=e.align.length;for(t=0;t<i;t++){const n=e.align[t];n&&(/^ *-+: *$/.test(n)?e.align[t]="right":/^ *:-+: *$/.test(n)?e.align[t]="center":/^ *:-+ *$/.test(n)?e.align[t]="left":e.align[t]=null)}for(i=e.rows.length,t=0;t<i;t++)e.rows[t]=Mm(e.rows[t],e.header.length).map((e=>({text:e,tokens:[]})));for(i=e.header.length,n=0;n<i;n++)e.header[n].tokens=this.lexer.inline(e.header[n].text);for(i=e.rows.length,n=0;n<i;n++)for(o=e.rows[n],r=0;r<o.length;r++)o[r].tokens=this.lexer.inline(o[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Pm(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Bm(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Um(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Um(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let o,i,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+r[0].length-1);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=[...e].slice(0,n+r.index+i+1).join("");if(Math.min(n,i)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=Pm(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=Pm(t[1]),n="mailto:"+e):(e=Pm(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=Pm(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(r!==t[0]);e=Pm(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:Pm(t[0]),{type:"text",raw:t[0],text:e}}}}const $m={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Dm,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};$m.def=Nm($m.def).replace("label",$m._label).replace("title",$m._title).getRegex(),$m.bullet=/(?:[*+-]|\d{1,9}[.)])/,$m.listItemStart=Nm(/^( *)(bull) */).replace("bull",$m.bullet).getRegex(),$m.list=Nm($m.list).replace(/bull/g,$m.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$m.def.source+")").getRegex(),$m._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$m._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$m.html=Nm($m.html,"i").replace("comment",$m._comment).replace("tag",$m._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$m.lheading=Nm($m.lheading).replace(/bull/g,$m.bullet).getRegex(),$m.paragraph=Nm($m._paragraph).replace("hr",$m.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$m._tag).getRegex(),$m.blockquote=Nm($m.blockquote).replace("paragraph",$m.paragraph).getRegex(),$m.normal={...$m},$m.gfm={...$m.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},$m.gfm.table=Nm($m.gfm.table).replace("hr",$m.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$m._tag).getRegex(),$m.gfm.paragraph=Nm($m._paragraph).replace("hr",$m.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$m.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$m._tag).getRegex(),$m.pedantic={...$m.normal,html:Nm("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",$m._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Dm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Nm($m.normal._paragraph).replace("hr",$m.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",$m.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const jm={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Dm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Dm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};jm.punctuation=Nm(jm.punctuation,"u").replace(/punctuation/g,jm._punctuation).getRegex(),jm.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,jm.anyPunctuation=/\\[punct]/g,jm._escapes=/\\([punct])/g,jm._comment=Nm($m._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),jm.emStrong.lDelim=Nm(jm.emStrong.lDelim,"u").replace(/punct/g,jm._punctuation).getRegex(),jm.emStrong.rDelimAst=Nm(jm.emStrong.rDelimAst,"gu").replace(/punct/g,jm._punctuation).getRegex(),jm.emStrong.rDelimUnd=Nm(jm.emStrong.rDelimUnd,"gu").replace(/punct/g,jm._punctuation).getRegex(),jm.anyPunctuation=Nm(jm.anyPunctuation,"gu").replace(/punct/g,jm._punctuation).getRegex(),jm._escapes=Nm(jm._escapes,"gu").replace(/punct/g,jm._punctuation).getRegex(),jm._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,jm._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,jm.autolink=Nm(jm.autolink).replace("scheme",jm._scheme).replace("email",jm._email).getRegex(),jm._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,jm.tag=Nm(jm.tag).replace("comment",jm._comment).replace("attribute",jm._attribute).getRegex(),jm._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jm._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,jm._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,jm.link=Nm(jm.link).replace("label",jm._label).replace("href",jm._href).replace("title",jm._title).getRegex(),jm.reflink=Nm(jm.reflink).replace("label",jm._label).replace("ref",$m._label).getRegex(),jm.nolink=Nm(jm.nolink).replace("ref",$m._label).getRegex(),jm.reflinkSearch=Nm(jm.reflinkSearch,"g").replace("reflink",jm.reflink).replace("nolink",jm.nolink).getRegex(),jm.normal={...jm},jm.pedantic={...jm.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Nm(/^!?\[(label)\]\((.*?)\)/).replace("label",jm._label).getRegex(),reflink:Nm(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jm._label).getRegex()},jm.gfm={...jm.normal,escape:Nm(jm.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jm.gfm.url=Nm(jm.gfm.url,"i").replace("email",jm.gfm._extended_email).getRegex(),jm.breaks={...jm.gfm,br:Nm(jm.br).replace("{2,}","*").getRegex(),text:Nm(jm.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class zm{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xm,this.options.tokenizer=this.options.tokenizer||new Fm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:$m.normal,inline:jm.normal};this.options.pedantic?(t.block=$m.pedantic,t.inline=jm.pedantic):this.options.gfm&&(t.block=$m.gfm,this.options.breaks?t.inline=jm.breaks:t.inline=jm.gfm),this.tokenizer.rules=t}static get rules(){return{block:$m,inline:jm}}static lex(e,t){return new zm(t).lex(e)}static lexInline(e,t){return new zm(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,i,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Hm{options;constructor(e){this.options=e||xm}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+Pm(r)+'">'+(n?e:Pm(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Pm(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=Lm(e);if(null===r)return n;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const r=Lm(e);if(null===r)return n;let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class Vm{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Gm{options;renderer;textRenderer;constructor(e){this.options=e||xm,this.options.renderer=this.options.renderer||new Hm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Vm}static parse(e,t){return new Gm(t).parse(e)}static parseInline(e,t){return new Gm(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(o.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=o;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,Am(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=o;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=o;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let i="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});i+=this.renderer.tablerow(r)}n+=this.renderer.table(t,i);continue}case"blockquote":{const e=o,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=o,t=e.ordered,r=e.start,i=e.loose;let a="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,o=n.task;let s="";if(n.task){const e=this.renderer.checkbox(!!r);i?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parse(n.tokens,i),a+=this.renderer.listitem(s,o,!!r)}n+=this.renderer.list(a,t,r);continue}case"html":{const e=o;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=o;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let i=o,a=i.tokens?this.parseInline(i.tokens):i.text;for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],a+="\n"+(i.tokens?this.parseInline(i.tokens):i.text);n+=t?this.renderer.paragraph(a):a;continue}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}switch(o.type){case"escape":{const e=o;n+=t.text(e.text);break}case"html":{const e=o;n+=t.html(e.text);break}case"link":{const e=o;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=o;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=o;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=o;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=o;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=o;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=o;n+=t.text(e.text);break}default:{const e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class Wm{options;constructor(e){this.options=e||xm}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const qm=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(zm.lex,Gm.parse);parseInline=this.#e(zm.lexInline,Gm.parseInline);Parser=Gm;parser=Gm.parse;Renderer=Hm;TextRenderer=Vm;Lexer=zm;lexer=zm.lex;Tokenizer=Fm;Hooks=Wm;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{n=n.concat(this.walkTokens(e[r],t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Hm(this.defaults);for(const n in e.renderer){const r=e.renderer[n],o=n,i=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new Fm(this.defaults);for(const n in e.tokenizer){const r=e.tokenizer[n],o=n,i=t[o];t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Wm;for(const n in e.hooks){const r=e.hooks[n],o=n,i=t[o];Wm.passThroughHooks.has(n)?t[o]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>i.call(t,e)));const n=r.call(t,e);return i.call(t,n)}:t[o]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}#e(e,t){return(n,r)=>{const o={...r},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const a=this.#t(!!i.silent,!!i.async);if(null==n)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then((t=>e(t,i))).then((e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>t(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(a);try{i.hooks&&(n=i.hooks.preprocess(n));const r=e(n,i);i.walkTokens&&this.walkTokens(r,i.walkTokens);let o=t(r,i);return i.hooks&&(o=i.hooks.postprocess(o)),o}catch(e){return a(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Pm(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function Km(e,t){return qm.parse(e,t)}Km.options=Km.setOptions=function(e){return qm.setOptions(e),Km.defaults=qm.defaults,km(Km.defaults),Km},Km.getDefaults=wm,Km.defaults=xm,Km.use=function(...e){return qm.use(...e),Km.defaults=qm.defaults,km(Km.defaults),Km},Km.walkTokens=function(e,t){return qm.walkTokens(e,t)},Km.parseInline=qm.parseInline,Km.Parser=Gm,Km.parser=Gm.parse,Km.Renderer=Hm,Km.TextRenderer=Vm,Km.Lexer=zm,Km.lexer=zm.lex,Km.Tokenizer=Fm,Km.Hooks=Wm,Km.parse=Km,Km.options,Km.setOptions,Km.use,Km.walkTokens,Km.parseInline;var Ym=ve('<div class="flex flex-col animate-fade-in chat77submodule-streaming-container"><div class="flex w-full items-center"><div class="flex relative items-start chat77submodule-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><div class="flex flex-col overflow-hidden text-fade-in mx-4 my-2 relative text-ellipsis h-full gap-6">'),Xm=ve("<span>");const Zm=e=>{const[t,n]=un(T([]),{key:`chat77submodule-streaming-message-${e.streamingMessageId}`,storage:e.context.storage});return Km.use({renderer:{link:(e,t,n)=>`<a href="${e}" target="_blank" rel="noopener noreferrer">${n}</a>`}}),E((()=>{if(od()?.id!==e.streamingMessageId)return[];n(od()?.content.split("```").flatMap(((e,t)=>t%2==0?e.split("\n\n").map((e=>vm.sanitize(Km.parse(e.replace(/【.+】/g,""),{breaks:!0}),{ADD_ATTR:["target"]}))):[vm.sanitize(Km.parse("```"+e+"```",{breaks:!0}),{ADD_ATTR:["target"]})])).filter(Xe)??[])})),r=Ym(),o=r.firstChild.firstChild.firstChild,i=o.nextSibling,o.style.setProperty("width","100%"),o.style.setProperty("height","100%"),Ee(i,Z(se,{get each(){return t()},children:e=>{return(t=Xm()).innerHTML=e,t;var t}})),r;var r,o,i};var Jm=ve("<div><div>");const Qm=e=>{let t;const[n,r]=T(0),o=new ResizeObserver((e=>r(e[0].target.clientHeight-(Ht()?24:40))));return I((()=>{t&&o.observe(t)})),P((()=>{t&&o.unobserve(t)})),i=Jm(),a=i.firstChild,"function"==typeof t?Se(t,i):t=i,Ee(a,Z(ug,{get initialAvatarSrc(){return e.hostAvatarSrc}})),S((t=>{var r="flex flex-shrink-0 items-center relative chat77submodule-avatar-container "+(Ht()?"w-6":"w-10"),o="absolute flex items-center top-0"+(Ht()?" w-6 h-6":" w-10 h-10")+(e.hideAvatar?" opacity-0":" opacity-100"),s=`${n()}px`,l=e.isTransitionDisabled?void 0:"top 350ms ease-out, opacity 250ms ease-out";return r!==t.e&&ke(i,t.e=r),o!==t.t&&ke(a,t.t=o),s!==t.a&&(null!=(t.a=s)?a.style.setProperty("top",s):a.style.removeProperty("top")),l!==t.o&&(null!=(t.o=l)?a.style.setProperty("transition",l):a.style.removeProperty("transition")),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),i;var i,a};var eb=ve('<div><div class="flex flex-col flex-1 gap-2">'),tb=ve('<div class="flex flex-col w-full min-w-0 gap-2 chat77submodule-chat-chunk">');const nb=e=>{let t;const[n,r]=T(e.isTransitionDisabled?e.messages.length:0),[o,i]=T();I((()=>{e.streamingMessageId||(0===e.messages.length&&e.onAllBubblesDisplayed(),e.onScrollToBottom(t,50))}));const a=async t=>{(e.settings.typingEmulation?.delayBetweenBubbles??Wt.delayBetweenBubbles)>0&&n()<e.messages.length-1&&await new Promise((t=>setTimeout(t,1e3*(e.settings.typingEmulation?.delayBetweenBubbles??Wt.delayBetweenBubbles))));const o=e.messages[n()].id;await e.onNewBubbleDisplayed(o),r(n()===e.messages.length?n():n()+1),e.onScrollToBottom(t),n()===e.messages.length&&(i(t),e.onAllBubblesDisplayed())};return Ee(l=tb(),Z(le,{get when(){return e.messages.length>0},get children(){var t=eb(),r=t.firstChild;return Ee(t,Z(le,{get when(){return(e.theme.chat?.hostAvatar?.isEnabled??Ft)&&e.messages.length>0},get children(){return Z(Qm,{get hostAvatarSrc(){return e.theme.chat?.hostAvatar?.url},get hideAvatar(){return e.hideAvatar},get isTransitionDisabled(){return e.isTransitionDisabled}})}}),r),Ee(r,Z(se,{get each(){return e.messages.slice(0,n()+1)},children:(t,n)=>Z(Sf,{message:t,get typingEmulation(){return e.settings.typingEmulation},get isTypingSkipped(){return C((()=>!(!(e.settings.typingEmulation?.isDisabledOnFirstMessage??Wt.isDisabledOnFirstMessage)||0!==e.index)))()&&0===n()},get onTransitionEnd(){return e.isTransitionDisabled?void 0:a},get onCompleted(){return e.onSubmit}})})),S((n=>{var o="flex"+(Ht()?" gap-1":" gap-2"),i=e.theme.chat?.guestAvatar?.isEnabled?Ht()?"calc(100% - 60px)":"calc(100% - 48px - 48px)":"100%";return o!==n.e&&ke(t,n.e=o),i!==n.t&&(null!=(n.t=i)?r.style.setProperty("max-width",i):r.style.removeProperty("max-width")),n}),{e:void 0,t:void 0}),t}}),null),Ee(l,(s=C((()=>!(!e.input||n()!==e.messages.length))),()=>s()&&Z(Sg,{ref(e){"function"==typeof t?t(e):t=e},get block(){return e.input},get chunkIndex(){return e.index},get hasHostAvatar(){return e.theme.chat?.hostAvatar?.isEnabled??Ft},get guestAvatar(){return e.theme.chat?.guestAvatar},get context(){return e.context},get isInputPrefillEnabled(){return e.settings.general?.isInputPrefillEnabled??Gt.isInputPrefillEnabled},get hasError(){return e.hasError},onTransitionEnd:()=>e.onScrollToBottom(o()),get onSubmit(){return e.onSubmit},get onSkip(){return e.onSkip}})),null),Ee(l,Z(le,{get when(){return e.streamingMessageId},keyed:!0,children:t=>{return n=eb(),r=n.firstChild,Ee(n,Z(le,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Ft},get children(){return Z(Qm,{get hostAvatarSrc(){return e.theme.chat?.hostAvatar?.url},get hideAvatar(){return e.hideAvatar}})}}),r),Ee(r,Z(Zm,{streamingMessageId:t,get context(){return e.context}})),S((t=>{var o="flex"+(Ht()?" gap-1":" gap-2"),i=e.theme.chat?.guestAvatar?.isEnabled?Ht()?"calc(100% - 60px)":"calc(100% - 48px - 48px)":"100%";return o!==t.e&&ke(n,t.e=o),i!==t.t&&(null!=(t.t=i)?r.style.setProperty("max-width",i):r.style.removeProperty("max-width")),t}),{e:void 0,t:void 0}),n;var n,r}}),null),l;var s,l};var rb=ve('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start chat77submodule-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis">');const ob=()=>{return e=rb(),(t=e.firstChild.firstChild.firstChild).style.setProperty("width","64px"),t.style.setProperty("height","32px"),Ee(t,Z(Og,{})),e;var e,t};var ib=ve('<div class="flex w-full chat77submodule-loading-chunk"><div class="flex flex-col w-full min-w-0"><div class="flex gap-2">');const ab=e=>{return t=ib(),Ee(n=t.firstChild.firstChild,Z(le,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Ft},get children(){return Z(Qm,{get hostAvatarSrc(){return e.theme.chat?.hostAvatar?.url}})}}),null),Ee(n,Z(ob,{}),null),t;var t,n};var sb=ve('<div class="w-full max-w-xs p-4 text-gray-500 bg-white shadow flex flex-col gap-2 chat77submodule-popup-blocked-toast"role=alert><div class="flex flex-col gap-1"><span class=" text-sm font-semibold text-gray-900">Popup blocked</span><div class="text-sm font-normal">The bot wants to open a new tab but it was blocked by your browser. It needs a manual approval.</div></div><a target=_blank class="py-1 px-4 justify-center text-sm font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 filter hover:brightness-90 active:brightness-75 chat77submodule-button"rel=noreferrer>Continue in new tab');const lb=e=>{return t=sb(),(n=t.firstChild.nextSibling).$$click=()=>e.onLinkClick(),S((()=>xe(n,"href",e.url))),t;var t,n};we(["click"]);var cb=ve('<div class="flex flex-col overflow-y-auto w-full px-3 pt-10 relative scrollable-container chat77submodule-chat-view scroll-smooth gap-2">'),db=ve('<div class="flex justify-end">'),ub=ve('<div class="w-full flex-shrink-0 chat77submodule-bottom-spacer">');const pb=e=>{let t;const[n,r,o,i]=un(T([{input:e.initialChatReply.input,messages:e.initialChatReply.messages,clientSideActions:e.initialChatReply.clientSideActions}]),{key:`chat77submodule-${e.context.chat77submodule.id}-chatChunks`,storage:e.context.storage,onRecovered:()=>{setTimeout((()=>{t?.scrollTo(0,t.scrollHeight)}),200)}}),[a,s]=T(e.initialChatReply.dynamicTheme),[l,c]=T(e.initialChatReply.chat77submodule.theme),[d,u]=T(!1),[p,h]=T(),[g,f]=T(!1);I((()=>{(async()=>{const e=n()[0];if(!e.clientSideActions)return;const t=e.clientSideActions.filter((e=>Ke(e.lastBubbleBlockId)));await k(t)})()}));const m=({id:e,message:t})=>{u(!1);const o=[...n()].pop();o&&(o.streamingMessageId!==e&&r((t=>[...t,{messages:[],streamingMessageId:e}])),id({id:e,content:t}))};E((()=>{c(((e,t)=>({...e,chat:{...e.chat,hostAvatar:e.chat?.hostAvatar&&t?.hostAvatarUrl?{...e.chat.hostAvatar,url:t.hostAvatarUrl}:e.chat?.hostAvatar,guestAvatar:e.chat?.guestAvatar&&t?.guestAvatarUrl?{...e.chat.guestAvatar,url:t?.guestAvatarUrl}:e.chat?.guestAvatar}}))(e.initialChatReply.chat77submodule.theme,a()))}));const b=async t=>{t&&(e.onNewLogs?.(t),e.context.isPreview||await hc({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,clientLogs:t}))},y=async t=>{i(!1),f(!1);const o=[...n()].pop()?.input;o?.id&&e.onAnswer&&t&&e.onAnswer({message:rd(t),blockId:o.id});const a=setTimeout((()=>{u(!0)}),1e3);v();const{data:l,error:c}=await(async({apiHost:e,message:t,sessionId:n})=>{try{return{data:await wt.post(`${Xe(e)?e:Ge()}/api/v1/sessions/${n}/continueChat`,{json:{message:t},timeout:!1}).json()}}catch(e){return{error:e}}})({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,message:gb(t)});if(clearTimeout(a),u(!1),c){f(!0);const t=[{description:"Failed to send the reply",details:c instanceof Je?{status:c.response.status,body:await c.response.json()}:c,status:"error"}];return await hc({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,clientLogs:t}),void e.onNewLogs?.(t)}if(l){if(l.progress&&e.onProgressUpdate?.(l.progress),l.lastMessageNewFormat&&nd([...td(),{inputIndex:[...n()].length-1,formattedMessage:l.lastMessageNewFormat}]),l.logs&&e.onNewLogs?.(l.logs),l.dynamicTheme&&s(l.dynamicTheme),l.input&&e.onNewInputBlock&&e.onNewInputBlock(l.input),l.clientSideActions){const e=l.clientSideActions.filter((e=>Ke(e.lastBubbleBlockId)));if(await k(e),1===l.clientSideActions.length&&"stream"===l.clientSideActions[0].type&&0===l.messages.length&&void 0===l.input)return}r((e=>[...e,{input:l.input,messages:l.messages,clientSideActions:l.clientSideActions}]))}},v=(e,n=0)=>{if(!t)return;const r=.6*t.clientHeight-128;t.scrollTop+t.clientHeight>=t.scrollHeight-r&&setTimeout((()=>{t?.scrollTo(0,e?e.offsetTop-n:t.scrollHeight)}),50)},w=async()=>{const t=[...n()].pop();t&&Ke(t.input)&&e.onEnd?.()},x=async e=>{const t=[...n()].pop();if(t&&t.clientSideActions){const n=t.clientSideActions.filter((t=>t.lastBubbleBlockId===e));await k(n)}},k=async t=>{if(!o())for(const n of t){("streamOpenAiChatCompletion"in n||"webhookToExecute"in n||"stream"in n)&&u(!0);const t=await ed({clientSideAction:n,context:{apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId},onMessageStream:m});if(t&&"logs"in t&&b(t.logs),t&&"replyToSend"in t)return u(!1),void y(t.replyToSend?{type:"text",value:t.replyToSend}:void 0);t&&"blockedPopupUrl"in t&&h(t.blockedPopupUrl)}};P((()=>{id(void 0),nd([])}));const S=()=>y(void 0);return _=cb(),"function"==typeof t?Se(t,_):t=_,Ee(_,Z(se,{get each(){return n()},children:(t,r)=>Z(nb,{get index(){return r()},get messages(){return t.messages},get input(){return t.input},get theme(){return l()},get settings(){return e.initialChatReply.chat77submodule.settings},get streamingMessageId(){return t.streamingMessageId},get context(){return e.context},get hideAvatar(){return C((()=>!t.input))()&&((n()[r()+1]?.messages??[]).length>0||void 0!==n()[r()+1]?.streamingMessageId||t.messages.length>0&&d())},get hasError(){return C((()=>!!g()))()&&r()===n().length-1},get isTransitionDisabled(){return r()!==n().length-1},onNewBubbleDisplayed:x,onAllBubblesDisplayed:w,onSubmit:y,onScrollToBottom:v,onSkip:S})}),null),Ee(_,Z(le,{get when(){return d()},get children(){return Z(ab,{get theme(){return l()}})}}),null),Ee(_,Z(le,{get when(){return p()},keyed:!0,children:e=>{return Ee(t=db(),Z(lb,{url:e,onLinkClick:()=>h(void 0)})),t;var t}}),null),Ee(_,Z(hb,{}),null),_;var _},hb=()=>{return(e=ub()).style.setProperty("height","128px"),e;var e},gb=e=>{if(e)return"text"===e.type?{type:"text",text:e.value,attachedFileUrls:e.attachments?.map((e=>e.url))}:"recording"===e.type?{type:"audio",url:e.url}:void 0};var fb=ve('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p><pre>');const mb=e=>{return t=fb(),n=t.firstChild,r=n.nextSibling,Ee(n,(()=>e.error.message)),Ee(r,(()=>JSON.stringify(e.error.cause,null,2))),t;var t,n,r};var bb=ve('<svg viewBox="0 0 800 800"width=16><rect width=800 height=800 rx=80 fill=#0042DA></rect><rect x=650 y=293 width=85.4704 height=384.617 rx=20 transform="rotate(90 650 293)"fill=#FF8E20></rect><path fill-rule=evenodd clip-rule=evenodd d="M192.735 378.47C216.337 378.47 235.47 359.337 235.47 335.735C235.47 312.133 216.337 293 192.735 293C169.133 293 150 312.133 150 335.735C150 359.337 169.133 378.47 192.735 378.47Z"fill=#FF8E20></path><rect x=150 y=506.677 width=85.4704 height=384.617 rx=20 transform="rotate(-90 150 506.677)"fill=white></rect><path fill-rule=evenodd clip-rule=evenodd d="M607.265 421.206C583.663 421.206 564.53 440.34 564.53 463.942C564.53 487.544 583.663 506.677 607.265 506.677C630.867 506.677 650 487.544 650 463.942C650 440.34 630.867 421.206 607.265 421.206Z"fill=white>');const yb=()=>bb();var vb=ve('<a href="https://www.chat77npm/?utm_source=litebadge"target=_blank rel="noopener noreferrer"class=lite-badge id=lite-badge><span>Made with Chat77');const wb=e=>{let t,n;const r=n=>{n.forEach((n=>{n.removedNodes.forEach((n=>{"id"in n&&t&&"lite-badge"===n.id&&(console.log("Sorry, you can't remove the brand 😅"),e.botContainer?.append(t))}))}))};return I((()=>{document&&e.botContainer&&(n=new MutationObserver(r),n.observe(e.botContainer,{subtree:!1,childList:!0}))})),P((()=>{n&&n.disconnect()})),o=vb(),i=o.firstChild,"function"==typeof t?Se(t,o):t=o,Ee(o,Z(yb,{}),i),o;var o,i};var xb=ve("<div class=chat77submodule-progress-bar-container><div class=chat77submodule-progress-bar>");const kb=e=>{return t=xb(),n=t.firstChild,S((t=>null!=(t=`${e.value}%`)?n.style.setProperty("width",t):n.style.removeProperty("width"))),t;var t,n};var Tb=ve("<style>"),Sb=ve("<div>");const Eb=e=>{const[t,n]=T(),[r,o]=T(""),[i,a]=T(!1),[s,l]=T(),c=async()=>{e.font&&zt(e.font),a(!0);const t=new URLSearchParams(location.search);e.onInit?.();const r={};t.forEach(((e,t)=>{r[t]=e}));const i="string"==typeof e.chat77submodule?e.chat77submodule:void 0,s="string"!=typeof e.chat77submodule||(e.isPreview??!1),c=(e=>{if(e)try{return sessionStorage.getItem(`${On}-${e}`)??localStorage.getItem(`${On}-${e}`)??void 0}catch{}})(i),{data:d,error:u}=await async function({chat77submodule:e,isPreview:t,apiHost:n,prefilledVariables:r,resultId:o,stripeRedirectStatus:i,startFrom:a,sessionId:s}){if(Ke(e))throw new Error("chat77 ID is required to get initial messages");const l=je()??void 0,c=l?JSON.parse(l):void 0;if(c){ze();try{return{data:{...await wt.post(`${Xe(n)?n:Ge()}/api/v1/sessions/${c.sessionId}/continueChat`,{json:{message:c?"failed"===i?"fail":"Success":void 0},timeout:!1}).json(),...c}}}catch(e){return{error:e}}}const d="string"==typeof e?e:e.id;if(t)try{return{data:await wt.post(`${Xe(n)?n:Ge()}/api/v1/chat77submodules/${d}/preview/startChat`,{json:{isStreamEnabled:!0,startFrom:a,chat77submodule:e,prefilledVariables:r,sessionId:s},timeout:!1}).json()}}catch(e){return{error:e}}try{const e=parent!==window&&Xe(document.referrer)?new URL(document.referrer).origin:void 0,t=await wt.post(`${Xe(n)?n:Ge()}/api/v1/chat77submodules/${d}/startChat`,{headers:{"x-chat77submodule-iframe-referrer-origin":e},json:{isStreamEnabled:!0,prefilledVariables:r,resultId:o,isOnlyRegistering:!1},timeout:!1});console.log("packa",t);const i=t.headers.get("access-control-allow-origin");if(e&&i&&"*"!==i&&!e.includes(i))throw new He(i);return{data:await t.json()}}catch(e){return{error:e}}}({stripeRedirectStatus:t.get("redirect_status")??void 0,chat77submodule:e.chat77submodule,apiHost:e.apiHost,isPreview:s,resultId:Xe(e.resultId)?e.resultId:c,prefilledVariables:{...r,...e.prefilledVariables},startFrom:e.startFrom,sessionId:e.sessionId});if(u instanceof Je)return s?l(new Error("An error occurred while loading the bot.",{cause:{status:u.response.status,body:await u.response.json()}})):400===u.response.status||403===u.response.status?l(new Error("This bot is now closed.")):404===u.response.status?l(new Error("The bot you're looking for doesn't exist.")):l(new Error(`Error! Couldn't initiate the chat. (${u.response.statusText})`));if(u instanceof He)return l(new Error(u.message));if(!d)return u&&(console.error(u),s)?l(new Error("Error! Could not reach server. Check your connection.",{cause:u})):l(new Error("Error! Could not reach server. Check your connection."));if(d.resultId&&i&&(d.chat77submodule.settings.general?.rememberUser?.isEnabled??Gt.rememberUser.isEnabled)){c&&c!==d.resultId&&Mn(d.chat77submodule.id);const t=d.chat77submodule.settings.general?.rememberUser?.storage??Gt.rememberUser.storage;((e="session")=>(t,n)=>{try{Dn(e).setItem(`${On}-${t}`,n)}catch{}})(t)(i,d.resultId);const r=(e=>{if(e)try{const t=sessionStorage.getItem(`chat77submodule-${e}-initialChatReply`)??localStorage.getItem(`chat77submodule-${e}-initialChatReply`);if(!t)return;return JSON.parse(t)}catch{}})(d.chat77submodule.id);r&&r.chat77submodule.publishedAt&&d.chat77submodule.publishedAt?new Date(r.chat77submodule.publishedAt).getTime()===new Date(d.chat77submodule.publishedAt).getTime()?n(r):(Mn(d.chat77submodule.id),n(d),An(d,{chat77submoduleId:d.chat77submodule.id,storage:t})):(n(d),An(d,{chat77submoduleId:d.chat77submodule.id,storage:t})),e.onChatStatePersisted?.(!0)}else Mn(d.chat77submodule.id),n(d),d.input?.id&&e.onNewInputBlock&&e.onNewInputBlock(d.input),d.logs&&e.onNewLogs?.(d.logs),e.onChatStatePersisted?.(!1);o(d.chat77submodule.theme.customCss??"")};return E((()=>{Ke(e.chat77submodule)||i()||c().then()})),E((()=>{Ke(e.chat77submodule)||"string"==typeof e.chat77submodule||(o(e.chat77submodule.theme.customCss??""),e.chat77submodule.theme.general?.progressBar?.isEnabled&&t()&&!t()?.chat77submodule.theme.general?.progressBar?.isEnabled&&(a(!1),c().then()))})),P((()=>{a(!1)})),[(u=Tb(),Ee(u,r),u),(d=Tb(),Ee(d,"#lite-badge{background-color:#fff!important;border-radius:4px!important;border-width:1px!important;bottom:20px!important;color:#111827!important;display:flex!important;font-size:14px!important;font-weight:600!important;gap:8px!important;left:auto!important;line-height:20px!important;opacity:1!important;padding:4px 8px!important;position:absolute!important;right:auto!important;text-decoration:none!important;top:auto!important;transition:background-color .2s ease-in-out!important;visibility:visible!important;z-index:50!important}#lite-badge:hover{background-color:#f7f8ff!important}"),d),Z(le,{get when(){return s()},keyed:!0,children:e=>Z(mb,{error:e})}),Z(le,{get when(){return t()},keyed:!0,children:t=>Z(Cb,{get class(){return e.class},get initialChatReply(){return{...t,chat77submodule:{...t.chat77submodule,settings:"string"==typeof e.chat77submodule?t.chat77submodule?.settings:e.chat77submodule?.settings,theme:"string"==typeof e.chat77submodule?t.chat77submodule?.theme:e.chat77submodule?.theme}}},get context(){return{apiHost:e.apiHost,isPreview:"string"!=typeof e.chat77submodule||(e.isPreview??!1),resultId:t.resultId,sessionId:t.sessionId,chat77submodule:t.chat77submodule,storage:t.chat77submodule.settings.general?.rememberUser?.isEnabled&&"string"==typeof e.chat77submodule&&!e.isPreview?t.chat77submodule.settings.general?.rememberUser?.storage??Gt.rememberUser.storage:void 0}},get progressBarRef(){return e.progressBarRef},get onNewInputBlock(){return e.onNewInputBlock},get onNewLogs(){return e.onNewLogs},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd}})})];var d,u},Cb=e=>{const[t,n]=un(T(e.initialChatReply.progress),{storage:e.context.storage,key:`chat77submodule-${e.context.chat77submodule.id}-progressValue`});let r;const o=new ResizeObserver((e=>Vt((e[0]?.target.clientWidth??0)<400)));return I((()=>{r&&(St(r),o.observe(r),kt(`${r.clientHeight}px`))})),E((()=>{zt(e.initialChatReply.chat77submodule.theme.general?.font??{type:"Google",family:It}),r&&((e,t,n)=>{if(!e)return;const r=t?.style;r&&(bn(e.general,r,n),vn(e.chat,e.general?.background,r))})(e.initialChatReply.chat77submodule.theme,r,e.context.isPreview)})),P((()=>{r&&o.unobserve(r)})),i=Sb(),"function"==typeof r?Se(r,i):r=i,Ee(i,Z(le,{get when(){return qe(t())&&e.initialChatReply.chat77submodule.theme.general?.progressBar?.isEnabled},get children(){return Z(le,{get when(){return e.progressBarRef&&"fixed"===(e.initialChatReply.chat77submodule.theme.general?.progressBar?.position??At)},get fallback(){return Z(kb,{get value(){return t()}})},get children(){return Z(Le,{get mount(){return e.progressBarRef},get children(){return Z(kb,{get value(){return t()}})}})}})}}),null),Ee(i,Z(pb,{get context(){return e.context},get initialChatReply(){return e.initialChatReply},get onNewInputBlock(){return e.onNewInputBlock},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd},get onNewLogs(){return e.onNewLogs},onProgressUpdate:n}),null),Ee(i,Z(le,{get when(){return e.initialChatReply.chat77submodule.settings.general?.isBrandingEnabled},get children(){return Z(wb,{botContainer:r})}}),null),Ee(i,Z(sc,{toaster:dc,children:e=>Z(cc.Root,{get children(){return[Z(cc.Title,{get children(){return e().title}}),Z(cc.Description,{get children(){return e().description}}),Z(cc.CloseTrigger,{class:"absolute right-2 top-2",get children(){return Z(ud,{class:"w-4 h-4"})}})]}})}),null),S((()=>ke(i,pc("relative flex w-full h-full text-base overflow-hidden flex-col justify-center items-center chat77submodule-container",e.class)))),i;var i};var _b='/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.-right-2{right:-8px}.-top-2{top:-8px}.bottom-5{bottom:20px}.left-0{left:0}.left-5{left:20px}.right-0{right:0}.right-2{right:8px}.right-5{right:20px}.top-0{top:0}.top-2{top:8px}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.m-2{margin:8px}.m-auto{margin:auto}.mx-4{margin-left:16px;margin-right:16px}.my-2{margin-bottom:8px;margin-top:8px}.-mr-1{margin-right:-4px}.-mt-1{margin-top:-4px}.ml-2{margin-left:8px}.mt-1{margin-top:4px}.mt-4{margin-top:16px}.\\!block{display:block!important}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-10{height:40px}.h-2{height:8px}.h-2\\.5{height:10px}.h-3{height:12px}.h-4{height:16px}.h-5{height:20px}.h-6{height:24px}.h-8{height:32px}.h-9{height:36px}.h-\\[56px\\]{height:56px}.h-\\[58px\\]{height:58px}.h-\\[80vh\\]{height:80vh}.h-full{height:100%}.h-screen{height:100vh}.max-h-80{max-height:320px}.max-h-\\[464px\\]{max-height:464px}.min-h-full{min-height:100%}.w-10{width:40px}.w-2{width:8px}.w-3{width:12px}.w-4{width:16px}.w-5{width:20px}.w-6{width:24px}.w-8{width:32px}.w-\\[35px\\]{width:35px}.w-\\[58px\\]{width:58px}.w-\\[60\\%\\]{width:60%}.w-full{width:100%}.min-w-0{min-width:0}.min-w-\\[250px\\]{min-width:250px}.max-w-\\[256px\\]{max-width:256px}.max-w-\\[350px\\]{max-width:350px}.max-w-\\[90\\%\\]{max-width:90%}.max-w-full{max-width:100%}.max-w-lg{max-width:512px}.max-w-xs{max-width:320px}.flex-1{flex:1 1 0%}.flex-none{flex:none}.flex-shrink-0{flex-shrink:0}.-rotate-180{--tw-rotate:-180deg}.-rotate-180,.rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.scale-0{--tw-scale-x:0;--tw-scale-y:0}.scale-0,.scale-100{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fade-in .3s ease-out}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:4px}.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}.gap-6{gap:24px}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-scroll{overflow-y:scroll}.scroll-smooth{scroll-behavior:smooth}.text-ellipsis{text-overflow:ellipsis}.whitespace-pre-wrap{white-space:pre-wrap}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:8px}.rounded-md{border-radius:6px}.border{border-width:1px}.border-2{border-width:2px}.border-dashed{border-style:dashed}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246/var(--tw-border-opacity))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175/var(--tw-border-opacity))}.bg-\\[rgba\\(0\\2c 0\\2c 0\\2c 0\\.5\\)\\]{background-color:rgba(0,0,0,.5)}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-black\\/20{background-color:rgba(0,0,0,.2)}.bg-blue-400{--tw-bg-opacity:1;background-color:rgb(96 165 250/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-green-400{--tw-bg-opacity:1;background-color:rgb(74 222 128/var(--tw-bg-opacity))}.bg-orange-400{--tw-bg-opacity:1;background-color:rgb(251 146 60/var(--tw-bg-opacity))}.bg-pink-400{--tw-bg-opacity:1;background-color:rgb(244 114 182/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity:0.5}.fill-transparent{fill:transparent}.stroke-2{stroke-width:2}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-0\\.5{padding:2px}.p-1{padding:4px}.p-2{padding:8px}.p-3{padding:12px}.p-4{padding:16px}.p-\\[1px\\]{padding:1px}.px-2{padding-left:8px;padding-right:8px}.px-3{padding-left:12px;padding-right:12px}.px-4{padding-left:16px;padding-right:16px}.px-8{padding-left:32px;padding-right:32px}.px-\\[15px\\]{padding-left:15px;padding-right:15px}.py-1{padding-bottom:4px;padding-top:4px}.py-2{padding-bottom:8px;padding-top:8px}.py-4{padding-bottom:16px;padding-top:16px}.py-6{padding-bottom:24px;padding-top:24px}.py-\\[7px\\]{padding-bottom:7px;padding-top:7px}.pb-0{padding-bottom:0}.pl-2{padding-left:8px}.pl-4{padding-left:16px}.pr-1{padding-right:4px}.pr-2{padding-right:8px}.pr-4{padding-right:16px}.pt-10{padding-top:40px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:24px;line-height:32px}.text-4xl{font-size:36px;line-height:40px}.text-base{font-size:16px;line-height:24px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-75{opacity:.75}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.shadow,.shadow-md{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.blur{--tw-blur:blur(8px)}.blur,.brightness-150{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-150{--tw-brightness:brightness(1.5)}.brightness-200{--tw-brightness:brightness(2)}.brightness-200,.brightness-95{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.brightness-95{--tw-brightness:brightness(.95)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.scrollable-container::-webkit-scrollbar{display:none}.scrollable-container{-ms-overflow-style:none;scrollbar-width:none}.text-fade-in{transition:opacity .4s ease-in .2s}.bubble-typing{transition:width .4s ease-out,height .4s ease-out}.bubble1,.bubble2,.bubble3{background-color:var(--chat77submodule-host-bubble-color);opacity:.5}.bubble1,.bubble2{animation:chatBubbles 1s ease-in-out infinite}.bubble2{animation-delay:.3s}.bubble3{animation:chatBubbles 1s ease-in-out infinite;animation-delay:.5s}@keyframes chatBubbles{0%{transform:translateY(2.5)}50%{transform:translateY(-2.5px)}to{transform:translateY(0)}}button,input,textarea{font-weight:300}a{text-decoration:underline}ol,ul{margin-inline-end:0;margin-inline-start:0;padding-inline-start:40px}ol{list-style-type:decimal}ul{list-style-type:disc}li:not(:last-child){margin-bottom:8px}pre{word-wrap:break-word;max-height:100%;max-width:100%;overflow:auto;overflow-wrap:break-word;white-space:pre-wrap}.slate-bold{font-weight:700}.slate-italic{font-style:oblique}.slate-underline{text-decoration:underline}.text-input::-moz-placeholder{color:var(--chat77submodule-input-placeholder-color)!important;opacity:1!important}.text-input::placeholder{color:var(--chat77submodule-input-placeholder-color)!important;opacity:1!important}.chat77submodule-container{background-color:var(--chat77submodule-container-bg-color);background-image:var(--chat77submodule-container-bg-image);background-position:50%;background-size:cover;container-type:inline-size;font-family:var(--chat77submodule-container-font-family),-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}.chat77submodule-chat-view{-webkit-backdrop-filter:blur(var(--chat77submodule-chat-container-blur));backdrop-filter:blur(var(--chat77submodule-chat-container-blur));background-color:rgba(var(--chat77submodule-chat-container-bg-rgb),var(--chat77submodule-chat-container-opacity));border-color:rgba(var(--chat77submodule-chat-container-border-rgb),var(--chat77submodule-chat-container-border-opacity));border-width:var(--chat77submodule-chat-container-border-width);box-shadow:var(--chat77submodule-chat-container-box-shadow);color:rgb(var(--chat77submodule-chat-container-color));max-width:var(--chat77submodule-chat-container-max-width);min-height:100%;padding-left:20px;padding-right:20px}@container (min-width: 480px){.chat77submodule-chat-view{border-radius:var(--chat77submodule-chat-container-border-radius);max-height:var(--chat77submodule-chat-container-max-height);min-height:var(--chat77submodule-chat-container-max-height)}}.chat77submodule-button{-webkit-backdrop-filter:blur(var(--chat77submodule-button-blur));backdrop-filter:blur(var(--chat77submodule-button-blur));background-color:rgba(var(--chat77submodule-button-bg-rgb),var(--chat77submodule-button-opacity));border-color:rgba(var(--chat77submodule-button-border-rgb),var(--chat77submodule-button-border-opacity));border-radius:var(--chat77submodule-button-border-radius);border-width:var(--chat77submodule-button-border-width);box-shadow:var(--chat77submodule-button-box-shadow);color:var(--chat77submodule-button-color);transition:all .3s ease}.chat77submodule-selectable{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.08));border-color:rgba(var(--chat77submodule-button-border-rgb),calc(var(--selectable-alpha-ratio)*.25));border-radius:var(--chat77submodule-button-border-radius);border-width:var(--chat77submodule-button-border-width);color:rgb(var(--chat77submodule-chat-container-color));transition:all .3s ease}.chat77submodule-selectable:hover{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.12));border-color:rgba(var(--chat77submodule-button-border-rgb),calc(var(--selectable-alpha-ratio)*.3))}.chat77submodule-selectable.selected{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.18));border-color:rgba(var(--chat77submodule-button-border-rgb),calc(var(--selectable-alpha-ratio)*.35))}.chat77submodule-checkbox{background-color:rgba(var(--chat77submodule-checkbox-bg-rgb));border:1px solid rgba(var(--chat77submodule-button-bg-rgb),var(--chat77submodule-button-opacity));border-radius:var(--chat77submodule-button-border-radius);border-radius:2px;color:var(--chat77submodule-button-color);padding:1px;transition:all .3s ease}.chat77submodule-checkbox.checked{background-color:rgb(var(--chat77submodule-button-bg-rgb))}.chat77submodule-host-bubble{color:var(--chat77submodule-host-bubble-color)}.chat77submodule-host-bubble>.bubble-typing{-webkit-backdrop-filter:blur(var(--chat77submodule-host-bubble-blur));backdrop-filter:blur(var(--chat77submodule-host-bubble-blur));background-color:rgba(var(--chat77submodule-host-bubble-bg-rgb),var(--chat77submodule-host-bubble-opacity));border-color:rgba(var(--chat77submodule-host-bubble-border-rgb),var(--chat77submodule-host-bubble-border-opacity));border-radius:var(--chat77submodule-host-bubble-border-radius);border-width:var(--chat77submodule-host-bubble-border-width);box-shadow:var(--chat77submodule-host-bubble-box-shadow)}.chat77submodule-host-bubble iframe,.chat77submodule-host-bubble img,.chat77submodule-host-bubble video{border-radius:6px}.chat77submodule-guest-bubble{-webkit-backdrop-filter:blur(var(--chat77submodule-guest-bubble-blur));backdrop-filter:blur(var(--chat77submodule-guest-bubble-blur));background-color:rgba(var(--chat77submodule-guest-bubble-bg-rgb),var(--chat77submodule-guest-bubble-opacity));border-color:rgba(var(--chat77submodule-guest-bubble-border-rgb),var(--chat77submodule-guest-bubble-border-opacity));border-width:var(--chat77submodule-guest-bubble-border-width);box-shadow:var(--chat77submodule-guest-bubble-box-shadow);color:var(--chat77submodule-guest-bubble-color)}.chat77submodule-guest-bubble,.chat77submodule-guest-bubble-image-attachment{border-radius:var(--chat77submodule-guest-bubble-border-radius)}.chat77submodule-input{-webkit-backdrop-filter:blur(var(--chat77submodule-input-blur));backdrop-filter:blur(var(--chat77submodule-input-blur));background-color:rgba(var(--chat77submodule-input-bg-rgb),var(--chat77submodule-input-opacity));border-color:rgba(var(--chat77submodule-input-border-rgb),var(--chat77submodule-input-border-opacity));border-radius:var(--chat77submodule-input-border-radius);border-width:var(--chat77submodule-input-border-width);box-shadow:var(--chat77submodule-input-box-shadow);transition:filter .1s ease}.chat77submodule-input,.chat77submodule-input-error-message{color:var(--chat77submodule-input-color)}.chat77submodule-input-form .chat77submodule-button{box-shadow:var(--chat77submodule-input-box-shadow)}.chat77submodule-button>.send-icon{fill:var(--chat77submodule-button-color)}.ping span{background-color:rgb(var(--chat77submodule-button-bg-rgb))}.rating-icon-container svg{stroke:rgb(var(--chat77submodule-button-bg-rgb));fill:rgba(var(--chat77submodule-host-bubble-bg-rgb),var(--chat77submodule-host-bubble-opacity));height:42px;transition:fill .1s ease-out;width:42px}.rating-icon-container.selected svg{fill:rgb(var(--chat77submodule-button-bg-rgb))}.rating-icon-container:hover svg{filter:brightness(.9)}.rating-icon-container:active svg{filter:brightness(.75)}.upload-progress-bar{border-radius:var(--chat77submodule-input-border-radius)}.total-files-indicator,.upload-progress-bar{background-color:rgb(var(--chat77submodule-button-bg-rgb))}.total-files-indicator{color:var(--chat77submodule-button-color);font-size:10px}.chat77submodule-upload-input{border-radius:var(--chat77submodule-input-border-radius);transition:border-color .1s ease-out}.chat77submodule-upload-input.dragging-over{border-color:rgb(var(--chat77submodule-button-bg-rgb))}.secondary-button{background-color:rgba(var(--chat77submodule-host-bubble-bg-rgb),var(--chat77submodule-host-bubble-opacity));border-radius:var(--chat77submodule-button-border-radius);color:var(--chat77submodule-host-bubble-color)}.chat77submodule-country-select{background-color:var(--chat77submodule-input-bg-color);border-radius:var(--chat77submodule-button-border-radius);color:var(--chat77submodule-input-color)}.chat77submodule-date-input{background-color:var(--chat77submodule-input-bg-color);color:var(--chat77submodule-input-color);color-scheme:light}.chat77submodule-date-input,.chat77submodule-popup-blocked-toast{border-radius:var(--chat77submodule-input-border-radius)}.chat77submodule-picture-button{background-color:rgb(var(--chat77submodule-button-bg-rgb));border-radius:var(--chat77submodule-button-border-radius);color:var(--chat77submodule-button-color);transition:all .3s ease;width:236px}.chat77submodule-picture-button>img,.chat77submodule-selectable-picture>img{border-radius:var(--chat77submodule-button-border-radius) var(--chat77submodule-button-border-radius) 0 0;height:100%;max-height:200px;min-width:200px;-o-object-fit:cover;object-fit:cover;width:100%}.chat77submodule-picture-button.has-svg>img,.chat77submodule-selectable-picture.has-svg>img{max-height:128px;-o-object-fit:contain;object-fit:contain;padding:1rem}.chat77submodule-selectable-picture{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.08));border:1px solid rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.25));border-radius:var(--chat77submodule-button-border-radius);color:rgb(var(--chat77submodule-chat-container-color));transition:all .3s ease;width:236px}.chat77submodule-selectable-picture:hover{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.12));border-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.3))}.chat77submodule-selectable-picture.selected{background-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.18));border-color:rgba(var(--chat77submodule-button-bg-rgb),calc(var(--selectable-alpha-ratio)*.35))}select option{background-color:var(--chat77submodule-input-bg-color);color:var(--chat77submodule-input-color)}.chat77submodule-progress-bar-container{background-color:rgba(var(--chat77submodule-progress-bar-bg-rgb),calc(var(--selectable-alpha-ratio)*.12));bottom:var(--chat77submodule-progress-bar-bottom);height:var(--chat77submodule-progress-bar-height);left:0;position:var(--chat77submodule-progress-bar-position);top:var(--chat77submodule-progress-bar-top);width:100%;z-index:42424242}.chat77submodule-progress-bar-container>.chat77submodule-progress-bar{background-color:var(--chat77submodule-progress-bar-color);height:100%;position:absolute;transition:width .25s ease}.chat77submodule-recorder .left-gradient{background-image:linear-gradient(to right,rgba(var(--chat77submodule-input-bg-rgb),1),rgba(var(--chat77submodule-input-bg-rgb),0))}.chat77submodule-recorder .right-gradient{background-image:linear-gradient(to left,rgba(var(--chat77submodule-input-bg-rgb),1),rgba(var(--chat77submodule-input-bg-rgb),0))}.chat77submodule-recorder button{background-color:rgba(var(--chat77submodule-button-bg-rgb),.3);color:rgba(var(--chat77submodule-button-bg-rgb))}@keyframes fadeInFromTop{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOutFromTop{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-4px)}}@keyframes fadeInFromBottom{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOutFromBottom{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(4px)}}[data-scope=menu][data-part=content]{-webkit-backdrop-filter:blur(var(--chat77submodule-input-blur));backdrop-filter:blur(var(--chat77submodule-input-blur));border-color:rgba(var(--chat77submodule-input-border-rgb),var(--chat77submodule-input-border-opacity));border-width:var(--chat77submodule-input-border-width);box-shadow:var(--chat77submodule-input-box-shadow);color:var(--chat77submodule-input-color)}[data-scope=menu][data-part=content],[data-scope=menu][data-part=item]{background-color:rgba(var(--chat77submodule-input-bg-rgb),var(--chat77submodule-input-opacity));border-radius:var(--chat77submodule-input-border-radius)}[data-scope=menu][data-part=item]{cursor:pointer}[data-scope=menu][data-part=content][data-state=open]{animation:fadeInFromTop .15s ease-out forwards}[data-scope=menu][data-part=content][data-state=closed]{animation:fadeOutFromTop 50ms ease-out forwards}[data-scope=toast][data-part=group]{width:100%}[data-scope=toast][data-part=root]{background-color:rgba(var(--chat77submodule-input-bg-rgb),var(--chat77submodule-input-opacity));border-radius:var(--chat77submodule-chat-container-border-radius);box-shadow:var(--chat77submodule-input-box-shadow);color:var(--chat77submodule-input-color);display:flex;flex-direction:column;gap:4px;max-width:60vw;padding:16px 32px 16px 16px}[data-scope=toast][data-part=title]{font-weight:600}[data-scope=toast][data-part=description]{font-size:14px;line-height:20px}[data-scope=toast][data-part=root][data-state=open]{animation:fadeInFromBottom .15s ease-out forwards}[data-scope=toast][data-part=root][data-state=closed]{animation:fadeOutFromBottom 50ms ease-out forwards}[data-scope=progress][data-part=root]{height:100%;width:100%}[data-scope=progress][data-part=circle]{--size:40px;--thickness:4px;--radius:18px;--circomference:113.09724px}[data-scope=progress][data-part=circle-range]{stroke:#fff;--transition-prop:stroke-dasharray,stroke,stroke-dashoffset;--transition-duration:0.2s;transition-duration:.2s;transition-property:stroke-dasharray,stroke,stroke-dashoffset}[data-scope=progress][data-part=circle-track]{stroke:rgba(0,0,0,.5)}.hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\\:brightness-90:hover{--tw-brightness:brightness(.9)}.hover\\:brightness-90:hover,.hover\\:brightness-95:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\\:brightness-95:hover{--tw-brightness:brightness(.95)}.hover\\:backdrop-brightness-95:hover{--tw-backdrop-brightness:brightness(.95);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.active\\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\\:brightness-75:active{--tw-brightness:brightness(.75)}.active\\:brightness-75:active,.active\\:brightness-90:active{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.active\\:brightness-90:active{--tw-brightness:brightness(.9)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:brightness-100:disabled{--tw-brightness:brightness(1);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.group:hover .group-hover\\:opacity-100{opacity:1}.data-\\[state\\=open\\]\\:backdrop-brightness-90[data-state=open]{--tw-backdrop-brightness:brightness(.9);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}@media (min-width:640px){.sm\\:right-5{right:20px}.sm\\:my-8{margin-bottom:32px;margin-top:32px}.sm\\:p-0{padding:0}.sm\\:opacity-0{opacity:0}}',Ib=ve('<svg part=button-icon viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">'),Pb=ve('<img part=button-icon alt="Bubble button icon">'),Ob=ve("<span part=button-icon>"),Ab=ve('<svg part=button-icon viewBox="0 0 24 24"><path fill-rule=evenodd clip-rule=evenodd d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),Rb=ve('<img part=button-icon alt="Bubble button close icon">'),Nb=ve('<button part=button aria-label="Open chatbot">');const Lb="#0042DA",Db="#27272A",Mb="#fff",Bb=e=>e.startsWith("http")||e.startsWith("data:image/svg+xml"),Ub=e=>{return(t=Nb()).$$click=()=>e.toggleBot(),t.style.setProperty("z-index","42424242"),Ee(t,Z(le,{get when(){return Ke(e.customIconSrc)},keyed:!0,get children(){var t=Ib();return S((n=>{var r=e.iconColor??(gn(e.backgroundColor??Lb)?Db:Mb),o=pc("stroke-2 fill-transparent absolute duration-200 transition w-[60%]",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100");return r!==n.e&&(null!=(n.e=r)?t.style.setProperty("stroke",r):t.style.removeProperty("stroke")),o!==n.t&&xe(t,"class",n.t=o),n}),{e:void 0,t:void 0}),t}}),null),Ee(t,Z(le,{get when(){return C((()=>!!e.customIconSrc))()&&Bb(e.customIconSrc)},get children(){var t=Pb();return S((n=>{var r=e.customIconSrc,o=pc("duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100",Ze(e.customIconSrc)?"w-[60%]":"w-full h-full",Ze(e.customIconSrc)?"":"object-cover rounded-full");return r!==n.e&&xe(t,"src",n.e=r),o!==n.t&&ke(t,n.t=o),n}),{e:void 0,t:void 0}),t}}),null),Ee(t,Z(le,{get when(){return C((()=>!!e.customIconSrc))()&&!Bb(e.customIconSrc)},get children(){var t=Ob();return t.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),Ee(t,(()=>e.customIconSrc)),S((()=>ke(t,pc("text-4xl duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100")))),t}}),null),Ee(t,Z(le,{get when(){return Ke(e.customCloseIconSrc)},get children(){var t=Ab();return S((n=>{var r=e.iconColor??(gn(e.backgroundColor??Lb)?Db:Mb),o=pc("absolute duration-200 transition w-[60%]",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0");return r!==n.e&&(null!=(n.e=r)?t.style.setProperty("fill",r):t.style.removeProperty("fill")),o!==n.t&&xe(t,"class",n.t=o),n}),{e:void 0,t:void 0}),t}}),null),Ee(t,Z(le,{get when(){return C((()=>!!e.customCloseIconSrc))()&&Bb(e.customCloseIconSrc)},get children(){var t=Rb();return S((n=>{var r=e.customCloseIconSrc,o=pc("absolute duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0",Ze(e.customCloseIconSrc)?"w-[60%]":"w-full h-full",Ze(e.customCloseIconSrc)?"":"object-cover rounded-full");return r!==n.e&&xe(t,"src",n.e=r),o!==n.t&&ke(t,n.t=o),n}),{e:void 0,t:void 0}),t}}),null),Ee(t,Z(le,{get when(){return C((()=>!!e.customCloseIconSrc))()&&!Bb(e.customCloseIconSrc)},get children(){var t=Ob();return t.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),Ee(t,(()=>e.customCloseIconSrc)),S((()=>ke(t,pc("absolute text-4xl duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0")))),t}}),null),S((n=>{var r=pc("fixed bottom-5 shadow-md  rounded-full hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in","left"===e.placement?" left-5":" right-5"),o=e.backgroundColor??Lb,i=e.buttonSize,a=e.buttonSize;return r!==n.e&&ke(t,n.e=r),o!==n.t&&(null!=(n.t=o)?t.style.setProperty("background-color",o):t.style.removeProperty("background-color")),i!==n.a&&(null!=(n.a=i)?t.style.setProperty("width",i):t.style.removeProperty("width")),a!==n.o&&(null!=(n.o=a)?t.style.setProperty("height",a):t.style.removeProperty("height")),n}),{e:void 0,t:void 0,a:void 0,o:void 0}),t;var t};we(["click"]);var Fb=ve("<div part=preview-message><p>"),$b=ve('<img class="rounded-full w-8 h-8 object-cover"alt="Bot avatar"elementtiming="Bot avatar"fetchpriority=high>'),jb=ve('<button part=preview-message-close-button aria-label=Close><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>');const zb="#F7F8FF",Hb="#303235",Vb=e=>{const[t,n]=T(!1),[r,o]=T({x:0,y:0}),i=e=>{o({x:e.touches[0]?.clientX??0,y:e.touches[0]?.clientY??0})},a=t=>{const n=t.changedTouches[0]?.clientX??0,i=t.changedTouches[0]?.clientY??0;(Math.abs(n-r().x)>10||i-r().y>10)&&e.onCloseClick(),o({x:0,y:0})};return s=Fb(),l=s.firstChild,s.$$touchend=a,s.$$touchstart=i,s.addEventListener("mouseleave",(()=>n(!1))),s.addEventListener("mouseenter",(()=>n(!0))),s.$$click=()=>e.onClick(),s.style.setProperty("z-index","42424242"),Ee(s,Z(Gb,{get isHovered(){return t()},get previewMessageTheme(){return e.previewMessageTheme},get onClick(){return e.onCloseClick}}),l),Ee(s,Z(le,{get when(){return e.avatarUrl},keyed:!0,children:e=>{return xe(t=$b(),"src",e),t;var t}}),l),Ee(l,(()=>e.message)),S((t=>{var n="fixed max-w-[256px] rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4"+("left"===e.placement?" left-5":" right-5"),r=e.previewMessageTheme?.backgroundColor??zb,o=e.previewMessageTheme?.textColor??Hb,i=`calc(${e.buttonSize} + 32px)`;return n!==t.e&&ke(s,t.e=n),r!==t.t&&(null!=(t.t=r)?s.style.setProperty("background-color",r):s.style.removeProperty("background-color")),o!==t.a&&(null!=(t.a=o)?s.style.setProperty("color",o):s.style.removeProperty("color")),i!==t.o&&(null!=(t.o=i)?s.style.setProperty("bottom",i):s.style.removeProperty("bottom")),t}),{e:void 0,t:void 0,a:void 0,o:void 0}),s;var s,l},Gb=e=>{return(t=jb()).$$click=t=>(t.stopPropagation(),e.onClick()),S((n=>{var r="absolute -top-2 -right-2 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all border "+(e.isHovered?"opacity-100":"opacity-0"),o=e.previewMessageTheme?.closeButtonBackgroundColor??zb,i=e.previewMessageTheme?.closeButtonIconColor??Hb;return r!==n.e&&ke(t,n.e=r),o!==n.t&&(null!=(n.t=o)?t.style.setProperty("background-color",o):t.style.removeProperty("background-color")),i!==n.a&&(null!=(n.a=i)?t.style.setProperty("color",i):t.style.removeProperty("color")),n}),{e:void 0,t:void 0,a:void 0}),t;var t};we(["click","touchstart","touchend"]);var Wb=ve("<style>"),qb=ve("<div>"),Kb=ve("<div part=bot>");const Yb=e=>{const[t,n]=re(e,["onOpen","onClose","previewMessage","onPreviewMessageClick","theme","autoShowDelay"]),[r,o]=T(!0),[i,a]=T(n.prefilledVariables),[s,l]=T(!1),[c,d]=T({message:t.previewMessage?.message??"",avatarUrl:t.previewMessage?.avatarUrl}),[u,p]=T(!1),[h,g]=T(!1),[f,m]=T(Xb(t.theme?.button?.size??"medium"));let b;E((()=>{m(Xb(t.theme?.button?.size??"medium"))})),I((()=>{window.addEventListener("message",y);const e=t.autoShowDelay,n=t.previewMessage?.autoShowDelay;(Ln()||je())&&v(),qe(e)&&setTimeout((()=>{v()}),e),qe(n)&&setTimeout((()=>{C()}),n)})),P((()=>{window.removeEventListener("message",y)})),E((()=>{e.prefilledVariables&&a((t=>({...t,...e.prefilledVariables})))}));const y=e=>{const{data:t}=e;t.isFromChat77submodule&&("open"===t.command&&v(),"close"===t.command&&w(),"toggle"===t.command&&x(),"showPreviewMessage"===t.command&&C(t.message),"hidePreviewMessage"===t.command&&_(),"setPrefilledVariables"===t.command&&a((e=>({...e,...t.variables}))),"unmount"===t.command&&O())},v=()=>{h()||g(!0),_(),p(!0),u()&&t.onOpen?.()},w=()=>{p(!1),Nn(),u()&&t.onClose?.()},x=()=>{u()?w():v()},k=()=>{t.onPreviewMessageClick?.(),v()},C=e=>{e&&d(e),u()||l(!0)},_=()=>{l(!1)},O=()=>{u()?(w(),setTimeout((()=>{o(!1)}),200)):o(!1)},A=e=>{n.onChatStatePersisted?.(e),e&&Rn()};return Z(le,{get when(){return r()},get children(){return Z(Cl,{get value(){return document.querySelector("chat77submodule-bubble")?.shadowRoot},get children(){return[(a=Wb(),Ee(a,_b),a),Z(le,{get when(){return s()},get children(){return Z(Vb,ne(c,{get placement(){return t.theme?.placement},get previewMessageTheme(){return t.theme?.previewMessage},get buttonSize(){return f()},onClick:k,onCloseClick:_}))}}),Z(Ub,ne((()=>t.theme?.button),{get placement(){return t.theme?.placement},toggleBot:x,get isBotOpened(){return u()},get buttonSize(){return f()}})),(o=qb(),"function"==typeof b?Se(b,o):b=o,o),(r=Kb(),r.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),r.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),r.style.setProperty("z-index","42424242"),Ee(r,Z(le,{get when(){return h()},get children(){return Z(Eb,ne(n,{onChatStatePersisted:A,get prefilledVariables(){return i()},class:"rounded-lg",progressBarRef:b}))}})),S((n=>{var o=`calc(100% - ${f()} - 32px)`,i=e.theme?.chatWindow?.maxHeight??"704px",a=e.theme?.chatWindow?.maxWidth??"400px",s="left"===e.theme?.placement?"bottom left":"bottom right",l=u()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",c=t.theme?.chatWindow?.backgroundColor,d=`calc(${f()} + 32px)`,p="fixed rounded-lg w-full"+(u()?" opacity-1":" opacity-0 pointer-events-none")+("left"===e.theme?.placement?" left-5":" sm:right-5 right-0");return o!==n.e&&(null!=(n.e=o)?r.style.setProperty("height",o):r.style.removeProperty("height")),i!==n.t&&(null!=(n.t=i)?r.style.setProperty("max-height",i):r.style.removeProperty("max-height")),a!==n.a&&(null!=(n.a=a)?r.style.setProperty("max-width",a):r.style.removeProperty("max-width")),s!==n.o&&(null!=(n.o=s)?r.style.setProperty("transform-origin",s):r.style.removeProperty("transform-origin")),l!==n.i&&(null!=(n.i=l)?r.style.setProperty("transform",l):r.style.removeProperty("transform")),c!==n.n&&(null!=(n.n=c)?r.style.setProperty("background-color",c):r.style.removeProperty("background-color")),d!==n.s&&(null!=(n.s=d)?r.style.setProperty("bottom",d):r.style.removeProperty("bottom")),p!==n.h&&ke(r,n.h=p),n}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),r)];var r,o,a}})}})},Xb=e=>"medium"===e?"48px":"large"===e?"64px":e||"48px";var Zb=ve("<style>"),Jb=ve('<div class=relative aria-labelledby=modal-title role=dialog aria-modal=true><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"part=overlay></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div>');const Qb=e=>{const[t,n]=re(e,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[r,o]=T(n.prefilledVariables),[i,a]=T(t.isOpen??!1);I((()=>{(t.defaultOpen||je()||Ln())&&c(),window.addEventListener("message",l);const e=t.autoShowDelay;qe(e)&&setTimeout((()=>{c()}),e)})),P((()=>{window.removeEventListener("message",l)})),E((()=>{Ke(e.isOpen)||e.isOpen===i()||u()})),E((()=>{e.prefilledVariables&&o((t=>({...t,...e.prefilledVariables})))}));const s=e=>{e.stopPropagation()},l=e=>{const{data:t}=e;t.isFromChat77submodule&&("open"===t.command&&c(),"close"===t.command&&d(),"toggle"===t.command&&u(),"setPrefilledVariables"===t.command&&o((e=>({...e,...t.variables}))))},c=()=>{a(!0),t.onOpen?.(),document.body.style.setProperty("overflow","hidden","important"),document.addEventListener("pointerdown",d)},d=()=>{a(!1),t.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",d),Nn()},u=()=>{i()?d():c()},p=e=>{n.onChatStatePersisted?.(e),e&&Rn()};return Z(le,{get when(){return i()},get children(){return Z(Cl,{get value(){return document.querySelector("chat77submodule-popup")?.shadowRoot},get children(){return[(a=Zb(),Ee(a,_b),a),(t=Jb(),o=t.firstChild,i=o.nextSibling.nextSibling.firstChild.firstChild,Ee(o,_b),i.addEventListener("pointerdown",s),Ee(i,Z(Eb,ne(n,{get prefilledVariables(){return r()},onChatStatePersisted:p}))),S((n=>{var r=e.theme?.zIndex??42424242,o="relative h-[80vh] transform overflow-hidden rounded-lg text-left transition-all sm:my-8 w-full max-w-lg"+(e.theme?.backgroundColor?" shadow-xl":""),a=e.theme?.backgroundColor??"transparent",s=e.theme?.width??"512px";return r!==n.e&&(null!=(n.e=r)?t.style.setProperty("z-index",r):t.style.removeProperty("z-index")),o!==n.t&&ke(i,n.t=o),a!==n.a&&(null!=(n.a=a)?i.style.setProperty("background-color",a):i.style.removeProperty("background-color")),s!==n.o&&(null!=(n.o=s)?i.style.setProperty("max-width",s):i.style.removeProperty("max-width")),n}),{e:void 0,t:void 0,a:void 0,o:void 0}),t)];var t,o,i,a}})}})};var ey=ve("<style>\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  overflow-y: hidden;\n}\n");const ty=(e,{element:t})=>{const[n,r]=T(!1),o=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&r(!0)}));I((()=>{window.addEventListener("message",i),o.observe(t)}));const i=e=>{const{data:t}=e;t.isFromChat77submodule};return P((()=>{o.disconnect()})),Z(Cl,{get value(){return document.querySelector("chat77submodule-standard")?.shadowRoot},get children(){return[(t=ey(),r=t.firstChild,Ee(t,_b,r),t),Z(le,{get when(){return n()},get children(){return Z(Eb,e)}})];var t,r}})},ny=()=>{window.postMessage({isFromChat77submodule:!0,command:"hidePreviewMessage"})},ry=e=>{const t={isFromChat77submodule:!0,command:"setInputValue",value:e};window.postMessage(t)},oy=e=>{const t={isFromChat77submodule:!0,command:"setPrefilledVariables",variables:e};window.postMessage(t)},iy=e=>{const t={isFromChat77submodule:!0,command:"showPreviewMessage",message:e};window.postMessage(t)},ay=()=>{window.postMessage({isFromChat77submodule:!0,command:"toggle"})},sy=()=>{window.postMessage({isFromChat77submodule:!0,command:"unmount"})},ly=e=>{const t=e.id?document.getElementById(e.id):document.querySelector("chat77submodule-standard");if(!t)throw new Error("<chat77submodule-standard> element not found.");Object.assign(t,e)},cy=e=>{const t=document.createElement("chat77submodule-popup");Object.assign(t,e),document.body.prepend(t)},dy=e=>{const t=document.createElement("chat77submodule-bubble");Object.assign(t,e),document.body.prepend(t)};"undefined"!=typeof window&&(Be("chat77submodule-standard",Ue,ty),Be("chat77submodule-bubble",$e,Yb),Be("chat77submodule-popup",Fe,Qb));const uy={initStandard:ly,initPopup:cy,initBubble:dy,close:close,hidePreviewMessage:ny,open:open,setPrefilledVariables:oy,showPreviewMessage:iy,toggle:ay,setInputValue:ry,unmount:sy};(e=>{"undefined"!=typeof window&&(window.chat77={...e})})(uy);export{uy as default};
